/*!
 * ZUI: Document - v1.5.0 - 2016-09-02
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2016 cnezsoft.com; Licensed MIT
 */
+function(e,t){"use strict";if("file:"===e.location.protocol)return t("#fileProtocolTip").removeClass("hidden"),void t(".loading.loader").removeClass("loading");String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();(void 0===t||t>a.length)&&(t=a.length),t-=e.length;var s=a.indexOf(e,t);return-1!==s&&s===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}),String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.fn.allAttrs=function(){var e={};return t.each(t(this)[0].attributes,function(t,a){e[a.name]=a.value}),e};var a=function(t,a){var s=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=e.location.search.substr(1).match(s);return null!==r?unescape(r[2]):a},s=a("debug",0);s&&(console.warn("DEBUG ENABLED."),t("#pageReloadBtn").show());var r,o,i,n,l,c,d,u,h,p,f,g,v,m,b,C,y,w,x,k,T,W,L,j,E,z,S,A,D={basic:{col:1},control:{col:2},component:{col:2},javascript:{col:3},view:{col:3},learn:{col:1},promotion:{col:1,row:2},resource:{col:1,row:2},contribution:{col:1,row:2}},q="lastReloadAnimate",P="LAST_QUERY_ID",B="docs/index.json",O="docs/icons.json",_="package.json",H="zui.json",I=void 0,F={standard:null,lite:null,seperate:null},N={"default":{variables:{"color-primary":"#3280fc","color-secondary":"#145ccd","color-pale":"#ebf2f9","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"3px"}},blue:{variables:{"color-primary":"#039BE5","color-secondary":"#0288d1","color-pale":"#e1f5fe","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},red:{variables:{"color-primary":"#d9534f","color-secondary":"#c74743","color-pale":"#ffebee","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},green:{variables:{"color-primary":"#4caf50","color-secondary":"#43a047","color-pale":"#e8f5e9","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},purple:{variables:{"color-primary":"#8666b8","color-secondary":"#673AB7","color-pale":"#f5eeff","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},brown:{variables:{"color-primary":"#8D6E63","color-secondary":"#795548","color-pale":"#f7ebe1","border-radius-base":"15px","border-radius-large":"15px","border-radius-small":"15px"}},yellow:{variables:{"color-primary":"#d0884d","color-secondary":"#bd7b46","color-pale":"#fff0d5","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},indigo:{variables:{"color-primary":"#3F51B5","color-secondary":"#3949AB","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":"1px","border-radius-small":0}},bluegrey:{variables:{"color-primary":"#607D8B","color-secondary":"#546E7A","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},black:{variables:{"color-primary":"#333","color-secondary":"#222","color-pale":"#f5f5f5","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}}},U="ZUI",R=-1,$=1120,M=!0,Q=function(e){return"string"==typeof e?(e=e.toLowerCase(),e.startsWith("http://")||e.startsWith("https://")):!1},V=function(){if(!(document.body.clientWidth>=e.innerWidth)){if(0>R){var t=document.createElement("div");t.className="modal-scrollbar-measure",h.append(t),R=t.offsetWidth-t.clientWidth,h[0].removeChild(t)}if(R){var a=parseInt(h.css("padding-right")||0,10);h.css("padding-right",a+R),W.css("padding-right",R)}}},Y=function(){h.css("padding-right",""),W.css("padding-right","")},Z=function(e,a,l,c){var d=null,u=e===B,p=e===O,f=!1;if(u&&i)d={data:i,version:i.version},f=!0;else if(p&&n)d=n,f=!0;else if(o){var g=t.zui.store.get("//"+e,null);if(null!==g){var v=t.zui.store.get("//"+e+"::V");v&&(d={data:g,version:v},f=!0,!i&&u&&(i=g),s&&console.log("Ready storage data ",e,":",d))}}if(!f||!u&&d.version!==r||(s&&console.log("Load",e,"from cache:",d),c||(a(d.data,"cache"),u||s))){var m=e.endsWith(".json")?"json":"html",b=function(){t.get(e,function(o){null!==o?(u?(r=o.version,i=o):p&&(n={data:o,version:r}),d={data:o,version:r},t.zui.store.set("//"+e,o),t.zui.store.set("//"+e+"::V",r),s&&console.log("Load",e,"from remote:",d),a(o,"remote")):f&&!u&&(s&&console.log("Failed load",e,"from remote, instead load cache:",d),a(d.data,"cache"))},m).error(function(){s&&console.warn("Ajax error:",e),f&&!u?(s&&console.log("Failed load",e,"from remote with error, instead load cache:",d),a(d.data,"cache")):a(null,"error"),h.hasClass("page-open")&&T.children(".loader").addClass("with-error")})};l!==!1&&(l?setTimeout(b,l):b())}},G=function(e,a){return i?(t.each(D,function(s,r){if(i.chapters[s]){t.extend(r,i.chapters[s]);var o=r.sections,n=null;return a&&(n=a(r,o),n===!1)?!1:void t.each(o,function(t,a){return e(r,a,n)===!1?!1:void 0})}}),!0):(console.error("Document index is empty."),!1)},J=function(e,t){var a=t.icon;e.attr("class","icon").text("").css("background-image",""),(void 0===a||null===a||""===a)&&(a=t.name.substr(0,1).toUpperCase()),a.startsWith("icon-")?e.addClass(a):a.endsWith(".png")?e.css("background-image","url("+a+")").addClass("with-img"):e.addClass("text-icon").text(a)},X=function(){var e=0;G(function(a,s,r){var o=a.id;s.chapter=o,s.chapterName=a.name;var i=s.url;"undefined"==typeof i?(s.url="docs/part/"+s.chapter+"-"+s.id+".md",s.target="page",s.targetType="markdown",s.oldUrl="docs/part/"+s.chapter+"-"+s.id+".html"):Q(i)?(s.target="external",s.targetType=null):i&&i.endsWith(".md")?(s.target="page",s.targetType="markdown",".md"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".md")):i&&i.endsWith(".html")?(s.target="page",s.targetType="html",".html"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".html")):s.target="";var n=o+"-"+s.id,l=g.clone().data("section",s);l.attr({id:"section-"+n,"data-id":s.id,"data-chapter":o,"data-order":e++,"data-accent":a.accent,"data-target":s.target});var c=l.children(".card-heading"),u="#"+o+"/"+s.id;c.find(".name").text(s.name).attr("href",u),c.attr("title",s.desc),J(c.children(".icon"),s);var h=l.find(".topics");if(s.topics&&s.topics.length){var p=0;t.each(s.topics,function(e,t){"undefined"==typeof t.id&&(t.id=e);var a="undefined"==typeof t.url?u+"/"+p++:t.url;h.append('<li data-id="'+e+'"><a href="'+a+'"'+(Q(a)?' target="_blank"':"")+">"+t.name+"</a></li>")})}else h.remove(".card-content"),l.addClass("without-topics");r.append(l.addClass("show"+(d?" in":"")))},function(e,t){e.$.attr("data-accent",e.accent);var a=e.$sections;return a.children().remove(),a})?(h.children(".loader").removeClass("loading"),z=f.find(".section"),d||(clearTimeout(f.data(q)),f.data(q,setTimeout(function(){z.addClass("in"),S.addClass("in")},100)),d=!0)):s&&console.error("Display sections failed.")},K=function(e,t,a){e===I&&(e=h),t===I||"down"===t?t=e.scrollTop()+.8*(p.height()-e.offset().top):"up"===t&&(t=e.scrollTop()-.8*(p.height()-e.offset().top)),e.animate({scrollTop:t},200,"swing",a)},ee=function(e){if(e){e.offset().top,e.outerHeight(),p.height(),h.scrollTop()}},te=function(e){return e===I&&(e=C),e&&e.hasClass("choosed")&&e.hasClass("show")},ae=function(e,t,a){if(z){if(te(e||null)&&!a)return C=e.addClass("open"),void ee(e);var s=e&&e.hasClass("open");z.removeClass(t?"choosed":"choosed open"),e&&e.hasClass("section")&&(C=e.addClass(a&&!s?"choosed":"choosed open"),ee(e))}},se=function(){var e=z.filter(".show");if(te()){for(var t=parseInt(C.data("order")),a=C;--t>-1;){var s=e.filter('[data-order="'+t+'"]');if(s.length){a=s;break}}ae(a)}else ae(e.first())},re=function(){var e=z.filter(".show");if(te()){for(var t=parseInt(C.data("order")),a=C,s=z.length;t++<s;){var r=e.filter('[data-order="'+t+'"]');if(r.length){a=r;break}}ae(a)}else ae(e.first())},oe=function(e,t,a,s){return Math.sqrt(Math.pow(e-a,2)+Math.pow(t-s,2),2)},ie=function(){var e=z.filter(".show");if(te()){var a=C.offset(),s=a.left-f.children(".container").offset().left-10;if(50>s)return void se();var r=a.top;s=a.left;var o=C,i=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left+50<s){var n=oe(a.left,a.top,s,r);i>n&&(o=e,i=n)}}),ae(o)}else ae(e.first())},ne=function(){var e=z.filter(".show");if(te()){var a=C.offset(),s=f.children(".container"),r=a.left-s.offset().left-10;if(r+20+C.outerWidth()+50>=s.outerWidth())return void re();var o=a.top;r=a.left;var i=C,n=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left>r){var s=oe(a.left,a.top,r,o);n>s&&(i=e,n=s)}}),ae(i)}else ae(e.first())},le=function(){f.find(".col.hide").removeClass("hide"),m.removeClass("hide"),z.addClass("show"),S.addClass("show"),f.data(q,setTimeout(function(){z.addClass("in"),S.addClass("in")},20)),h.removeClass("query-enabled").attr("data-query","")},ce=function(e){var a=t("#section-control-icon");if(!e||!e.length)return void a.removeClass("section-preview-show").data("preview",null);a.addClass("open section-preview-show");var s=a.children(".section-preview"),r=a.data("preview");s.length||(s=t("#iconPreviewTemplate").clone().attr("id",""),a.children(".card-heading").after(s)),a.children(".section-search").find("li.active").removeClass("active"),e.addClass("active"),r&&s.find(".icon").removeClass("icon-"+r);var o=e.data("icon");a.data("preview",o.id);var i="icon-"+o.id,n=(o.id.startsWith("spin")||o.categories&&o.categories.indexOf("Spinner Icons")>-1)===!0;s.find(".icon").addClass(i).toggleClass("icon-spin",n),s.find(".name").text(n?"icon-spin "+i:i),s.find(".unicode").text(o.code),o.alias&&o.alias.length?s.find(".alias").removeClass("hide").find(".alias-values").text(o.alias.join(",")):s.find(".alias").addClass("hide")},de=function(e){t.isArray(e)||!e&&!e.length||(e=[e]);var a=t("#section-control-icon");h.attr("data-query","icons");var s=a.children(".section-search");s.length||(s=t('<div class="section-search card-content"><div class="loader loading"><i class="icon icon-spin icon-spinner"></i> 正在拼命加载中...</div></div>'),a.children(".card-heading").after(s),s=a.children(".section-search")),Z(O,function(a){var r=s.children("ul");if(r.length||(r=t('<ul data-view="icons">'),t.each(a,function(e,a){var s=t('<li id="control-icon-'+e+'" data-id="'+e+'"><a href="#control/icons/'+e+'"><i class="icon icon-'+e+'"></i> icon-'+e+"</a></li>");a.id=e,s.data("icon",a),r.append(s)}),s.children(".loader").replaceWith(r)),!e.length)return r.children(".hide").removeClass("hide"),void ce(r.children().first());e.forEach(function(t,a){e[a]=e[a].toLowerCase()});var o,i=0;t.each(a,function(a,s){var r=!1,n=0;a=a.toLowerCase(),t.each(e,function(e,o){var i=!1;if(a.includes(o))i=!0,n+=a.startsWith(o)?120:110;else if(s.name&&s.name.toLowerCase().includes(o))i=!0,n+=s.name.toLowerCase().startsWith(o)?100:95;else if(o.startsWith("\\")&&s.code&&s.code.toLowerCase().includes(o.substr(1)))i=!0,n+=120;else{var l=[];if(t.isArray(s.filter)&&s.filter.length&&(l=l.concat(s.filter)),t.isArray(s.categories)&&s.categories.length&&(l=l.concat(s.categories)),t.isArray(s.alias)&&s.alias.length&&(l=l.concat(s.alias)),!l.length)return;t.each(l,function(e,t){return t=t.toLowerCase(),t.includes(o)?(i=!0,n+=50,!1):void 0})}return i?void(r=!0):r=!1});var l=t("#control-icon-"+a).toggleClass("hide",!r);r&&n>i&&(i=n,o=l)}),ce(o)})},ue=function(a){if(!z)return void(s&&console.log("Query failed, $sections is empty. key:",a));if("undefined"==typeof a&&(a=null),v.data("queryString")!==a&&(v.data("queryString",a).val(a),f.css("min-height",f.height())),null===a||!a.length)return le(),void L.removeClass("with-query-text");L.addClass("with-query-text"),h.addClass("query-enabled").attr("data-query",""),e.ga&&t.isFunction(ga)&&(u&&clearTimeout(u),u=setTimeout(function(){ga("send","pageview",e.location.pathname+"#search/"+a)},2e3));var r=[];if(t.each(a.split(" "),function(e,a){a=t.trim(a).toLowerCase();var s={origin:a};a.startsWith("@")?(s.type="id",s.chapter=a.substr(1),s.val=s.chapter):a.startsWith("#")?(s.type="tag",s.val=a.substr(1)):a.startsWith("icon-")||a.startsWith("icon:")?(s.type="icon",s.val=a.substr(5)):a.startsWith("i:")||a.startsWith("i-")?(s.type="icon",s.val=a.substr(2)):a.startsWith("ver:")?(s.type="version",s.val=a.substr(4)):a.startsWith("v:")?(s.type="version",s.val=a.substr(2)):a.startsWith("version:")?(s.type="version",s.val=a.substr(8)):a.startsWith("gulp:")||a.startsWith("build:")?(s.type="build",s.val=a.substr(6)):a.startsWith("g:")||a.startsWith("b:")?(s.type="build",s.val=a.substr(2)):(t.each(D,function(e){return a.startsWith(e+":")?(s.type="id",s.chapter=e,s.val=a.substr(e.length),!1):void 0}),s.type||(s.type="any",s.val=a)),(s.val.length||s.type&&"any"!==s.type)&&r.push(s)}),!r.length)return void le();var o,i,n,l,c,d,g,m={},b={};if(G(function(e,a){n=!0,d=[],o=0,t.each(r,function(s,i){switch(c=i.val,g=null,l=!1,i.type){case"id":l=(i.chapter?e:a).id.includes(c),l&&(g=[i.chapter?"chapter":"section","id"]),o=100;break;case"icon":if(n="icon"===a.id){o=120,d.push({key:i,type:["section","id"]});var u=[];return(i.val||i.val.length)&&u.push(i.val),r.forEach(function(e){e.val!==i.val&&(e.val||e.val.length)&&u.push(e.val)}),de(u),!1}break;case"version":l="new"==i.val?a.isNew:"update"==i.val?a.isUpdate:i.val?a.version===i.val:a.isUpdate||a.isNew,o=100;break;default:var h=a.name.toLowerCase();if(h.includes(c)){l=!0,g=["section","name"],o=h.startsWith(c)?85:82;break}if(a.filter&&a.filter.includes(c)){l=!0,g=["section","filter"],o=80;break}var p=e.name.toLowerCase();if(p.includes(c)){l=!0,g=["chapter","name"],o=p.startsWith(c)?75:73;break}if(e.filter&&e.filter.includes(c)){l=!0,g=["chapter","filter"],o=70;break}if(c.length>1){if(a.id.includes(c)){l=!0,g=["section","id"],o=65;break}if(e.id.includes(c)){l=!0,g=["chapter","id"],o=60;break}if(t.isArray(a.topics)){var f=!1;if(t.each(a.topics,function(e,t){return t.name&&t.name.toLowerCase().includes(c)?(l=!0,g=["section","topic",e],f=!0,o=20,!1):void 0}),f)break}if(a.desc&&a.desc.toLowerCase().includes(c)){l=!0,g="section.desc",o=30;break}}else{if(e.id.startsWith(c)){l=!0,g=["chapter","id"],o=60;break}if(a.id.startsWith(c)){l=!0,g=["section","id"],o=50;break}}}return l?void d.push({key:i,type:g}):(n=!1,!1)}),i=e.id+"-"+a.id,n?(b[e.id]++,m[i]={hidden:!1,matches:d,weight:o}):m[i]={hidden:!0}},function(e){b[e.id]=0})){var C,y,w=t(),x=t(),k=-1;t.each(m,function(e,a){C=t("#section-"+e),a.hidden?w=w.add(C):(x=x.add(C),k<a.weight&&(y=C,k=a.weight)),ae(y)});var T,W;t.each(b,function(e,t){W=D[e],T=!t,W.$.toggleClass("hide",T)});var j=0;f.find(".row").each(function(){var e=0,a=t(this);a.children(".col").each(function(){var a=t(this),s=a.children(".chapter:not(.hide)").length;if(a.toggleClass("hide",!s),s&&(e++,!h.hasClass("compact-mode"))){var r=a.find(".section:not(.hide)").length;r>2&&p.height()<E.height()+70*r&&he(!0)}}),j=Math.max(j,e)}),f.attr("data-show-col",j),w.length&&(w.removeClass("in"),setTimeout(function(){w.removeClass("show")},100)),x.length&&(x.addClass("show"),setTimeout(function(){x.addClass("in")},20)),p.scrollTop(1),pe()}else s&&console.error("Query failed with key: ",r)},he=function(e,t){e===I&&(e=!h.hasClass("compact-mode"));var a="isScrollAnimating";e?h.hasClass("compact-mode")?t&&t():(h.data(a,!0).addClass("compact-mode"),setTimeout(function(){h.addClass("compact-mode-in"),p.scrollTop(1),setTimeout(function(){h.data(a,!1),t&&t()},300)},10)):h.hasClass("compact-mode")?(h.data(a,!0).removeClass("compact-mode-in"),setTimeout(function(){h.removeClass("compact-mode"),h.data(a,!1),t&&t()},300)):t&&t()},pe=function(){if(e.afterPageLoad=null,e.onPageLoad=null,t.isFunction(e.onPageClose)&&(e.onPageClose(),e.onPageClose=null),h.hasClass("page-open")){var a=y.data("trans-style");return a&&(a["max-height"]="",y.css(a)),h.addClass("page-show-out").removeClass("page-open page-show-in"),""!==v.val()&&v.focus(),e.document.title=U,e.location.hash="#/",setTimeout(function(){h.removeClass("page-show page-show-out"),Y()},300),!0}return!1},fe=function(e){y.removeClass("page-collapsed");var t=typeof e;if("undefined"!==t){if("string"===t){var a=parseInt(e);NaN!==a&&(t="number",e=a)}var s=function(e){e&&e.length&&(ye(!1),ye(e.addClass("hover"),!0))};"number"===t?s(x.children("section").eq(e)):"string"===t&&t.length}},ge=function(){y.removeClass("loading"),k.removeClass("loading")},ve=function(){var a=!1;t.isFunction(e.onPageLoad)&&(a=e.onPageLoad()===!1),setTimeout(function(){t.isFunction(e.afterPageLoad)&&e.afterPageLoad(ge)===!0&&ve();var a=T.find("pre");a.length&&e.prettyPrint&&e.prettyPrint&&(a.addClass("prettyprint"),e.prettyPrint())},200),c&&T.find(".zui-version").text(c.version),a||ge()},me=function(a,r,o){a=a||l,"!refresh"!==r&&x.empty(),y.addClass("loading"),k.removeClass("with-error").addClass("loading");var i;return Z(a.url,function(s,o){c&&(s=s.format(c,"{\\$0}"));var n=function(){if(s&&e.marked&&"markdown"===a.targetType){var o=t(),i=s.indexOf("\n---\n");i>-1&&(s=s.substr(i+5));var n,l=t(e.marked(s)),c=!0,d=l.filter("h2").length>0,u=null;l.each(function(){var e=t(this),a=e.prop("tagName");return a&&"STYLE"!==a&&"SCRIPT"!==a?"TEMPLATE"===a||"HOLDER"===a?void(u=e):(u&&(e.attr(u.allAttrs()),u=null),"TABLE"===a&&e.addClass("table"),c?("H1"===a&&w.find("h2 > .name").text(e.html()),void(c=!1)):("EXAMPLE"===a&&(e=t("<div/>").attr(e.allAttrs()).html(e.html()).addClass("example")),void(d&&("H1"===a||"H2"===a)||!d&&"H3"===a?(n&&(o=o.add(n)),n=t("<section><header><h3>"+e.html()+"</h3></header><article></article></section>")):(d&&("H3"===a?e=t("<h4>").html(e.html()):"H4"===a?e=t("<h5>").html(e.html()):"H5"===a&&(e=t("<h6>").html(e.html()))),n||(n=t("<article></article>")),"ARTICLE"===n.prop("tagName")?n.append(e):n.children("article").append(e))))):void(o=o.add(e))}),n&&(o=o.add(n)),x.empty().append(o)}else try{x.html(s)}catch(h){console.error("Page data has error: ",{content:s,error:h})}"!refresh"!==r&&T.scrollTop(0),fe(r),ve(),b.show()};i&&clearTimeout(i),y.hasClass("openning")?i=setTimeout(n,700):n()},400,o),h.hasClass("page-open")?void(s&&console.log("open section in open page",a)):void h.addClass("page-open")},be=function(a,r,o){var i=r.chapter+"-"+r.id;if(h.hasClass("page-open")&&i===h.attr("data-page"))return void(s&&console.warn("The page already showed."));l=r,ae(a,!1,!0);var n="#"+r.chapter+"/"+r.id;o&&(n+="/"+o),e.document.title=r.chapterName+" > "+r.name+" - "+U,e.location.hash=n,e.ga&&t.isFunction(ga)&&ga("send","pageview",e.location.pathname+n),h.attr("data-page-accent",a.data("accent")).attr("data-page",i),J(w.find(".icon"),r),w.find(".name").text(r.name).attr("href",n),b.hide(),b.children(".badge-author").toggle(!!r.author).find(".author-name").text(r.author),b.children(".badge-source").toggle(!!r.url).attr("href","https://github.com/easysoft/zui/tree/master/"+r.url);var d=r.lib;if(d){b.children(".badge-zui").toggle(!!d.bundles.standard),b.children(".badge-lite").toggle(!!d.bundles.lite),b.children(".badge-lib").toggle(!!d.bundles.seperate),b.children(".badge-custom").toggle(!!d.custom),b.children(".badge-bootstrap").toggle("Bootstrap"===d.source),b.children(".badge-version").toggle(!!d.ver).text(d.ver+"+"),b.children(".badge-party").toggle(!(!d.source||"Bootstrap"===d.source)).attr("href",d.website||d.project||"javascript:;").find(".product-ver").text(d.pver);var u=d.srcCount>0||d.bundlesCount>0,p=b.children(".badge-code-dropdown").toggle(u);if(u){var f=p.find(".badge-code").attr("data-type","has"+(d.srcCount?"-source":"")+(d.bundlesCount?"-bundles":""));f.children(".badge-code-source").toggle(!!d.srcCount).find(".count").text(d.srcCount),f.children(".badge-code-pkgs").toggle(!!d.bundlesCount).find(".count").text(d.bundlesCount);var g=p.find(".dropdown-menu").empty(),v={js:"Javascript",css:"CSS",less:"LESS",resource:"资源"},m="https://github.com/easysoft/zui/blob/"+(c.version?"v"+c.version:"master")+"/";if(d.srcCount&&(g.append('<li class="dropdown-header primary-header" data-type="source"><i class="icon icon-file-code"></i>  源码 '+d.srcCount+"</li>"),t.each(d.src,function(e,t){g.append('<li class="dropdown-header">'+(v[e]||e)+"</li>"),t.forEach(function(e){e=e.replace(/\/\//g,"/"),g.append('<li><a target="_blank" href="'+m+e+'">'+e+"</a></li>")})})),d.bundlesCount){if(g.append('<li class="dropdown-header primary-header" data-type="bundles"><i class="icon icon-cube"></i> 打包</li>'),d.bundles.standard){g.append('<li class="dropdown-header">标准版</li>');var C=[];d.src.js&&d.src.js.length&&C.push("dist/js/zui.js"),d.src.less&&d.src.less.length&&C.push("dist/css/zui.css"),d.src.resource&&d.src.resource.length&&d.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),C.push(e)}),C.forEach(function(e){e=e.replace(/\/\//g,"/"),g.append('<li><a target="_blank" href="'+m+e.replace("/**/*","")+'">'+e+"</a></li>")})}if(d.bundles.lite){g.append('<li class="dropdown-header">简洁版</li>');var C=[];d.src.js&&d.src.js.length&&C.push("dist/js/zui.lite.js"),d.src.less&&d.src.less.length&&C.push("dist/css/zui.lite.css"),d.src.resource&&d.src.resource.length&&d.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),C.push(e)}),C.forEach(function(e){e=e.replace(/\/\//g,"/"),g.append('<li><a target="_blank" href="'+m+e.replace("/**/*","")+'">'+e+"</a></li>")})}d.bundles.seperate&&(g.append('<li class="dropdown-header">独立组件</li>'),g.append('<li><a target="_blank" href="'+m+"dist/lib/"+r.id+'">dist/lib/'+r.id+"/**/*</a></li>")),"theme"===d.code&&g.append('<li><a target="_blank" href="'+m+'dist/zui-theme.css">dist/css/zui-theme.css</a></li>')}}}me(r,o),he(!0,function(){V(),h.addClass("page-show"),setTimeout(function(){h.addClass("page-show-in"),y.hasClass("loading")&&y.addClass("openning"),T.scrollTop(0),setTimeout(function(){y.removeClass("openning"),M&&(M=t.zui.store.get("first_open_page",!0),M&&(M=!1,t.zui.store.set("first_open_page",!1),setTimeout(function(){t("#pageCloseBtn").tooltip("show").addClass("active"),setTimeout(function(){t("#pageCloseBtn").tooltip("hide").removeClass("active")},6e3)},500)))},300)},10)})},Ce=function(a,r){a=a||C;var o;if(t.isArray(a)){if("undefined"!=typeof r&&(a=a.push(r)),!a[0])return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")));if(a.length>0&&"search"===a[0])return void ue(a[1]);if(!(i&&a.length>1))return void(s&&console.warn("Open section stop by null docIndex or wrong section value."));var n=a[1],l=i.chapters[a[0]].sections,c=!1;if(t.each(l,function(e,t){return t.id===n?(a.length>2&&(r=a[2]),a=t,c=!0,!1):void 0}),!c)return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")))}if(t.isPlainObject(a))o=t("#section-"+a.chapter+"-"+a.id);else{var d=a;a=d.data("section"),o=d}if(""===a.url)return void t.zui.messager.show("该链接所指示的文档尚未完成。你可以Fork项目来完善文档。");switch(a.target){case"external":e.open(a.url,"_blank");break;case"page":be(o,a,r);break;default:s&&console.error("Open section failed: unknown target.")}},ye=function(e,t){var a=typeof e;if("object"===a){"undefined"==typeof t&&(t=e.hasClass("collapsed")),e.toggleClass("collapsed",!t);var s=x.children("section"),r=s.length,o=s.filter(".collapsed").length;0===o?y.removeClass("page-collapsed"):o===r&&y.addClass("page-collapsed")}else t="boolean"===a?e:y.hasClass("page-collapsed"),y.toggleClass("page-collapsed",!t),t?x.children("section").removeClass("collapsed"):x.children("section").addClass("collapsed")},we=function(t){t.startsWith("#")&&t.length>1&&0!==t.indexOf("##")?(t=t.substr(1),setTimeout(function(){var e=t.split("/"),a=e[0].toLowerCase();"search"===a||"query"===a?ue(e[1]):Ce(e)},600)):Q(t)?e.open(t,"_blank"):s&&console.warn("Open page url failed: unknown url",t)},xe=function(e,t,a){if(t){var s=t.length;e=e.toLowerCase();for(var r=e+"s",o=e+".",i=e+"s.",n=0;s>n;++n){var l=t[n];if(l===e||l===r||l.startsWith(o)||l.startsWith(i))return!0}}return!1},ke=function(e,a,s,r){return r||(r=[]),t.isArray(r)||(r=[r]),a.bundles&&t.each(a.bundles,function(t,a){var o=e.builds[a],i=s[a];!o&&i&&(o={title:i.name,dest:"dist/lib/"+a+"/",filename:i.source&&"Bootstrap"!==i.source?a:"zui."+a,includes:[a],source:i.source,settingDpds:i.src&&i.src.less&&i.src.less.length?["setting"]:null,ignoreBasic:!0,ignoreDpds:void 0===i.ignoreDpds?!0:i.ignoreDpds},e.builds[a]=o),ke(e,o,s,r)}),a.basicDpds&&(r=Te(s,a.basicDpds,r)),r=Te(s,a.includes,r,a.ignoreDpds)},Te=function(e,a,s,r,o){if(s=s||[],t.isArray(a))t.each(a,function(t,a){Te(e,a,s,r)});else{var i=e[a];i&&s.indexOf(a)<0&&(!r&&i.dpds&&Te(e,i.dpds,s,r),(i.src||!o)&&s.push(a))}return s},We=function(e){Z(_,function(a){Z(H,function(s){c=t.extend(a,{lib:t.extend({},s.lib),builds:t.extend({},s.builds)}),t.doc&&(t.doc.pkg=c),e(c)},null,!0)},null,!0)},Le=function(){We(function(e){function a(t,s,r){t.src&&["less","js","resource"].forEach(function(e){t.src[e]&&t.src[e].forEach(function(t){t.startsWith("~/")&&(t=t.replace("~/","js"===e?"src/js/":"less"===e?"src/less/":"src/")),s[e]||(s[e]=[]),s[e].indexOf(t)<0&&s[e].push(t)})}),t.dpds&&t.dpds.forEach(function(t){t.startsWith(r)&&e.lib[t]&&!e.lib[t].thirdpart&&a(e.lib[t],s,r)})}t(".zui-version").text(e.version),F.standard=ke(e,e.builds.standard,e.lib),F.lite=ke(e,e.builds.lite,e.lib),F.seperate=ke(e,e.builds.seperate,e.lib),G(function(s,r,o){var i=r.dpds||r.id,n=e.lib[i];n||(i+="s",n=e.lib[i]);var l={code:i,bundles:{}};if(t.each(F,function(e,t){xe(i,t,n)&&(l.bundles[e]=!0)}),n){if(t.extend(l,n),n.thirdpart&&(l.thirdpart=!0,l.partUrl=n.website,l.pver=n.pver),!n.src&&n.dpds&&(l.custom=!0,l.source||t.each(n.dpds,function(t,a){var s=e.lib[a];s&&s.source&&(l.source=s.source)})),n.ver)l.ver=n.ver;else if(l.custom)for(var c=0;c<n.dpds.length;++c){var d=n.dpds[c],u=e.lib[d]||e.lib[d+"s"];if(u&&u.ver){l.ver=u.ver;break}}l.src={},a(n,l.src,l.code),l.srcCount=(l.src.js?l.src.js.length:0)+(l.src.less?l.src.less.length:0)+(l.src.source?l.src.source.length:0),l.bundlesCount=0,l.bundles.standard&&l.bundlesCount++,l.bundles.lite&&l.bundlesCount++,l.bundles.seperate&&l.bundlesCount++,"theme"===l.code&&l.bundlesCount++}r.lib=l,r.isNew=r.version===e.version,r.isUpdate=r.update===e.version,t("#section-"+r.chapter+"-"+r.id).toggleClass("section-update",r.isUpdate).toggleClass("section-new",r.isNew)})})},je=function(e){e.length&&We(function(a){var s,r,o=t("<tbody></tbody>"),i=function(e){return a.lib[e].name},n=0;t.each(a.lib,function(e,l){if(!l.hidden){var c="";if(!l.src&&l.dpds){var d=Te(a.lib,l.dpds,null,!0,!0);c="包含：",c+=t.map(d,i).join("、"),l.merged=!0}else n++;if(s=t("<tr/>"),r=t("<td/>"),r.attr("title",l.desc),r.html("<strong>"+l.name+"</strong> ("+e+(l.pver?" v"+l.pver:"")+")"),s.append(r),t.each(F,function(a,o){r=t('<td class="text-center"/>'),o.indexOf(e)>-1?r.addClass("success").html('<i class="text-success icon-ok"></i>'):r.html('<i class="text-muted icon-remove"></i>'),s.append(r)}),r=t("<td/>"),l.source){var u=t("<a/>",{target:"_blank",title:"License: "+l.license,href:l.website||l.project||("Bootstrap"===l.source?"http://getbootstrap.com/":"###")}).text(l.source);r.append(u)}else l.merged?r.append('<span class="text-muted">(合并组件)</span>'):r.append("ZUI");s.append(r),r=t("<td/>"),r.html(l.ver?" v"+l.ver+"+":c),s.append(r),o.append(s)}}),e.find("tbody").remove(),e.append(o),e.datatable({rowHover:!1,fixedHeaderOffset:200}),t(".components-count").text(n)})},Ee=function(){if(!t.zui.browser.isIE()||t.zui.browser.ie>8){A=t("#copyCodeBtn");var a=new e.Clipboard(A.get(0));a.on("success",function(e){t("#copyCodeTip").addClass("tooltip-success"),A.tooltip("show",'已复制 <i class="icon icon-ok"></i>'),e.clearSelection()}),a.on("error",function(e){t("#copyCodeTip").addClass("tooltip-warning"),A.tooltip("show","按 <strong>Ctrl+C</strong> 完成复制")}),A.on("hide.zui.tooltip",function(){t("#copyCodeTip").removeClass("tooltip-success tooltip-warning")}),t(document).on("mouseenter","pre.prettyprint, .copyable",function(){var e=t(this),a=e.children("code, .linenums, .copyable-target");a.length&&(a.attr("id")||a.attr("id","code-"+t.zui.uuid()),e.prepend(A),A.attr("data-clipboard-target","#"+a.attr("id")),e.one("mouseleave",function(){A.detach()}))})}},ze=function(e){return"string"==typeof e&&(e=N[e]),e.variables?(e.variablesLess="",t.each(e.variables,function(t,a){e.variablesLess+="@"+t+": "+a+";\n"})):e.variablesLess||(e.variablesLess=""),e},Se=function(a,s,r){"string"==typeof a&&(a=N[a]),"function"==typeof s&&(r=s,s=null),a.variablesLess||ze(a),a.imports||(a.imports=["src/less/basic/colorset.less","src/less/basic/variables.less","src/less/basic/mixins.less","src/less/theme.less","src/less/controls/icons.variables.less","src/less/doc.less"]);var o=t.isArray(a.imports)?a.imports.map(function(e){return'@import "'+e+'";'}).join("\n"):a.imports;o+=a.variablesLess+(a.lessCode||""),e.less.render(o,t.extend({compress:!0},s),function(e,t){r&&r(t,a)})},Ae=function(e){var t=document.getElementById("themeStyle");t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},De=function(e,a){var s=t("body"),r=function(r){Ae(r||""),a&&a(e),s.removeClass("theme-changing"),r?t.zui.store.set("doc_theme",e):t.zui.store.remove("doc_theme")};return e&&"default"!==e&&"default"!==e.name?("string"==typeof e&&(e=N[e]),s.hasClass("theme-changing")?!1:(s.addClass("theme-changing"),e.css?r(e.css):setTimeout(function(){Se(e,null,function(t){t&&(e.css=t.css),r(t?t.css:"")})},500),!0)):void r()},qe=function(){t.each(N,function(e,t){t.name||(t.name=e)});var e=t.zui.store.get("doc_theme");e&&De(e)},Pe=function(){U=e.document.title;var r=function(e){e.stopPropagation()};p=t(e),h=t("body"),W=t("#navbar"),f=t("#grid"),E=t("#header"),y=t("#page"),w=t("#pageHeader"),b=t("#pageAttrs"),k=t("#pageLoader"),x=t("#pageContent"),m=f.find(".chapter"),v=t("#searchInput"),S=f.find(".chapter-heading"),g=t("#sectionTemplate").attr("id",null),T=t("#pageBody"),t.each(D,function(e,a){e=e.toLowerCase(),a.$=t("#chapter-"+e),a.id=e,a.$sections=t("#sections-"+e)}),$=f.children(".container").outerWidth(),o=t.zui.store&&t.zui.store.enable,t.ajaxSetup({cache:!1}),Z(B,function(s){var r=!d;if(X(s),!r){var o=a("q");o&&setTimeout(function(){ue(o)},300);var i=e.location.hash;i?we(i):v.focus(),Le()}t(".doc-version").text(s.version)});var i,n;t(document).on("click",function(e){return n?void(n=!1):void(h.attr("data-query")||ae())}).on("click",'a[href^="#"]',function(){we(t(this).attr("href"))}),y.on("click",function(e){n=!0}),f.on("click",".card-heading",function(e){var a=t(this).closest(".card");a.hasClass("choosed")?a.toggleClass("open"):ae(a,!0),r(e)}).on("click",".chapter-heading > h4 > .name",function(){v.focus().val("@"+t(this).closest(".chapter").data("id")).change()}).on("click",".card",function(e){ae(t(this),!0),r(e)}).on("click",".card-heading > h5 > .name, .card-heading > .icon",function(e){Ce(t(this).closest(".section")),r(e)}).on("click",".topics > li > a",function(e){var a=t(this);we(a.attr("href")),e.preventDefault(),r(e)}).on("mouseenter",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").addClass("hover")}).on("mouseleave",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").removeClass("hover")}).on("mouseenter","#section-control-icon .section-search > ul > li > a",function(){i=t("#section-control-icon").data("preview"),ce(t(this).closest("li"))}).on("mouseleave","#section-control-icon .section-search > ul > li > a",function(){i&&ce(t("#control-icon-"+i))}).on("click","#section-control-icon .section-search > ul > li > a",function(){i=t(this).closest("li").data("id")}),x.on("click","section > header > h3",function(){ye(t(this).closest("section"))}).on("mouseenter","section > header > h3",function(){t(this).closest("section").addClass("hover")}).on("mouseleave","section > header > h3",function(){t(this).closest("section").removeClass("hover")}),y.on("click","#pageTogger",function(){ye()}),w.on("click",".path-close-btn",function(){pe()});var l,c=t("#navbar").outerHeight();p.on("scroll",function(e){if(!h.hasClass("layout-classic")){var t=h.data("isScrollAnimating");if(t)return void p.scrollTop(0);l=p.scrollTop(),l>c&&!h.hasClass("compact-mode")?he(!0):h.hasClass("page-show")||E.toggleClass("with-shadow",l>20);
}}).on("keydown",function(e){var t=e.which,a=!h.hasClass("page-show"),s=h.hasClass("input-query-focus");9===t?h.hasClass("input-query-focus")||(v.focus(),e.preventDefault()):13===t?a&&te()&&Ce():27===t?pe()||(s||v.focus(),j="",ue()):37===t?(ie(),e.preventDefault()):39===t?(ne(),e.preventDefault()):38===t?a?(se(),e.preventDefault()):K(T,"up"):40===t&&a&&(re(),e.preventDefault())}),T.on("scroll",function(e){y.toggleClass("with-shadow",T.scrollTop()>20)}),L=t("#search"),v.focus().on("change keyup paste input propertychange",function(){var e=v.val();e!==j&&(j=e,L.toggleClass("with-query-text",e.length>0),clearTimeout(v.data(P)),v.data(P,setTimeout(function(){j!==v.data("queryString")&&ue(j)},150)))}).on("focus",function(){h.addClass("input-query-focus"),v.val()&&!z.filter(".open").length&&ae(z.filter(".show:first"))}).on("blur",function(){h.removeClass("input-query-focus")}).on("click",r),t("#searchHelpBtn").on("click",function(e){L.hasClass("with-query-text")?(j="",ue(),v.focus(),L.removeClass("with-query-text")):(Ce(["resource","help"]),t(this).blur()),r(e)}),t("#navbar .navbar-brand").on("click",function(e){h.hasClass("page-show")?(pe(),r(e),e.preventDefault()):h.hasClass("compact-mode-in")&&(p.scrollTop(0),he(!1),r(e),e.preventDefault())}),s&&t("#pageReloadBtn").on("click",function(){me(null,"!refresh",!0)}),Ee(),qe(),t('[data-toggle="tooltip"]').tooltip({container:"body"})};Pe(),t.doc={query:ue,themes:N,changeTheme:De,compileTheme:Se,compileThemeVariables:ze,openSection:Ce,closePage:pe,loadData:Z,stopPageLoading:ge,displayPkgLibTable:je,pkg:c}}(window,jQuery);