/*!
 * ZUI: Document - v1.5.0 - 2016-09-06
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2016 cnezsoft.com; Licensed MIT
 */
+function(e,t){"use strict";if("file:"===e.location.protocol)return t("#fileProtocolTip").removeClass("hidden"),void t(".loading.loader").removeClass("loading");t.zui.browser.ie&&t.zui.browser.ie<11&&t.zui.messager.danger("你正在使用 IE 较低版本访问，无法获得 ZUI 文档网站的完整体验，建议你更换浏览器再访问。",{time:2e4}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();(void 0===t||t>a.length)&&(t=a.length),t-=e.length;var s=a.indexOf(e,t);return-1!==s&&s===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}),String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.fn.allAttrs=function(){var e={};return t.each(t(this)[0].attributes,function(t,a){e[a.name]=a.value}),e};var a=function(t,a){var s=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=e.location.search.substr(1).match(s);return null!==o?unescape(o[2]):a},s=a("debug",0);s&&(console.warn("DEBUG ENABLED."),t("#pageReloadBtn").show());var o,r,i,n,l,c,d,u,h,p,f,g,v,m,b,C,y,w,x,k,T,L,W,z,j,E,S,A,D={basic:{col:1},control:{col:2},component:{col:2},javascript:{col:3},view:{col:3},learn:{col:1},promotion:{col:1,row:2},resource:{col:1,row:2},contribution:{col:1,row:2}},q="ontouchstart"in document.documentElement,P="lastReloadAnimate",B="LAST_QUERY_ID",O=s?"docs/index.json":"docs/index.min.json",_=s?"docs/icons.json":"docs/icons.min.json",I="package.json",H=s?"zui.json":"docs/zui.min.json",F=void 0,N=(new Date).getTime()<14830272e5,U={standard:null,lite:null,seperate:null},V={"default":{variables:{"color-primary":"#3280fc","color-secondary":"#145ccd","color-pale":"#ebf2f9","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"3px"}},blue:{variables:{"color-primary":"#039BE5","color-secondary":"#0288d1","color-pale":"#e1f5fe","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},red:{variables:{"color-primary":"#d9534f","color-secondary":"#c74743","color-pale":"#ffebee","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},green:{variables:{"color-primary":"#4caf50","color-secondary":"#43a047","color-pale":"#e8f5e9","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},purple:{variables:{"color-primary":"#8666b8","color-secondary":"#673AB7","color-pale":"#f5eeff","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},brown:{variables:{"color-primary":"#8D6E63","color-secondary":"#795548","color-pale":"#f7ebe1","border-radius-base":"15px","border-radius-large":"15px","border-radius-small":"15px"}},yellow:{variables:{"color-primary":"#d0884d","color-secondary":"#bd7b46","color-pale":"#fff0d5","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},indigo:{variables:{"color-primary":"#3F51B5","color-secondary":"#3949AB","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":"1px","border-radius-small":0}},bluegrey:{variables:{"color-primary":"#607D8B","color-secondary":"#546E7A","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},black:{variables:{"color-primary":"#333","color-secondary":"#222","color-pale":"#f5f5f5","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}}},M="ZUI",R=-1,$=1120,Q=!0,Z=function(e){return"string"==typeof e?(e=e.toLowerCase(),e.startsWith("http://")||e.startsWith("https://")):!1},G=function(){if(!(document.body.clientWidth>=e.innerWidth)){if(0>R){var t=document.createElement("div");t.className="modal-scrollbar-measure",h.append(t),R=t.offsetWidth-t.clientWidth,h[0].removeChild(t)}if(R){var a=parseInt(h.css("padding-right")||0,10);h.css("padding-right",a+R),L.css("padding-right",R)}}},Y=function(){h.css("padding-right",""),L.css("padding-right","")},J=function(e,a,l,c){var d=null,u=e===O,p=e===_,f=!1;if(u&&i)d={data:i,version:i.version},f=!0;else if(p&&n)d=n,f=!0;else if(r){var g=t.zui.store.get("//"+e,null);if(null!==g){var v=t.zui.store.get("//"+e+"::V");v&&(d={data:g,version:v},f=!0,!i&&u&&(i=g),s&&console.log("Ready storage data ",e,":",d))}}if(!f||!u&&d.version!==o||(s&&console.log("Load",e,"from cache:",d),c||(a(d.data,"cache"),u||s))){var m=e.endsWith(".json")?"json":"html",b=function(){t.ajax({url:e,type:"GET",dataType:m,success:function(r){null!==r?(u?(o=r.version,i=r):p&&(n={data:r,version:o}),d={data:r,version:o},t.zui.store.set("//"+e,r),t.zui.store.set("//"+e+"::V",o),s&&console.log("Load",e,"from remote:",d),a(r,"remote")):f&&!u&&(s&&console.log("Failed load",e,"from remote, instead load cache:",d),a(d.data,"cache"))},error:function(){s&&console.warn("Ajax error:",e),f&&!u?(s&&console.log("Failed load",e,"from remote with error, instead load cache:",d),a(d.data,"cache")):a(null,"error"),h.hasClass("page-open")&&T.children(".loader").addClass("with-error")}})};l!==!1&&(l?setTimeout(b,l):b())}},X=function(e,a){return i?(t.each(D,function(s,o){if(i.chapters[s]){t.extend(o,i.chapters[s]);var r=o.sections,n=null;return a&&(n=a(o,r),n===!1)?!1:void t.each(r,function(t,a){return e(o,a,n)===!1?!1:void 0})}}),!0):(console.error("Document index is empty."),!1)},K=function(e,t){var a=t.icon;e.attr("class","icon").text("").css("background-image",""),(void 0===a||null===a||""===a)&&(a=t.name.substr(0,1).toUpperCase()),a.startsWith("icon-")?e.addClass(a):a.endsWith(".png")?e.css("background-image","url("+a+")").addClass("with-img"):e.addClass("text-icon").text(a)},ee=function(){var e=0;X(function(a,s,o){var r=a.id;s.chapter=r,s.chapterName=a.name;var i=s.url;if("undefined"==typeof i?(s.url="docs/part/"+s.chapter+"-"+s.id+".md",s.target="page",s.targetType="markdown",s.oldUrl="docs/part/"+s.chapter+"-"+s.id+".html"):Z(i)?(s.target="external",s.targetType=null):i&&i.endsWith(".md")?(s.target="page",s.targetType="markdown",".md"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".md")):i&&i.endsWith(".html")?(s.target="page",s.targetType="html",".html"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".html")):s.target="",!s.hidden){var n=r+"-"+s.id,l=g.clone().data("section",s);l.attr({id:"section-"+n,"data-id":s.id,"data-chapter":r,"data-order":e++,"data-accent":a.accent,"data-target":s.target});var c=l.children(".card-heading"),u="#"+r+"/"+s.id;c.find(".name").text(s.name).attr("href",u),c.attr("title",s.desc),K(c.children(".icon"),s);var h=l.find(".topics");if(s.topics&&s.topics.length){var p=0;t.each(s.topics,function(e,t){"undefined"==typeof t.id&&(t.id=e);var a="undefined"==typeof t.url?u+"/"+p++:t.url;h.append('<li data-id="'+e+'"><a href="'+a+'"'+(Z(a)?' target="_blank"':"")+">"+t.name+"</a></li>")})}else h.remove(".card-content"),l.addClass("without-topics");o.append(l.addClass("show"+(d?" in":"")))}},function(e,t){e.$.attr("data-accent",e.accent);var a=e.$sections;return a.children().remove(),a})?(h.children(".loader").removeClass("loading"),E=f.find(".section"),d||(clearTimeout(f.data(P)),f.data(P,setTimeout(function(){E.addClass("in"),S.addClass("in")},100)),d=!0),t(".text-page-count").text(E.filter('[data-target="page"]').length),t(".text-external-count").text(E.filter('[data-target="external"]').length)):s&&console.error("Display sections failed.")},te=function(e,t,a){e===F&&(e=h),t===F||"down"===t?t=e.scrollTop()+.8*(p.height()-e.offset().top):"up"===t&&(t=e.scrollTop()-.8*(p.height()-e.offset().top)),e.animate({scrollTop:t},200,"swing",a)},ae=function(e){if(e){e.offset().top,e.outerHeight(),p.height(),h.scrollTop()}},se=function(e){return e===F&&(e=C),e&&e.hasClass("choosed")&&e.hasClass("show")},oe=function(e,t,a){if(E){if(se(e||null)&&!a)return C=e.addClass("open"),void ae(e);E.find(":focus").blur();var s=e&&e.hasClass("open");E.removeClass(t?"choosed":"choosed open"),e&&e.hasClass("section")&&(C=e.addClass(a&&!s?"choosed":"choosed open"),ae(e))}},re=function(){var e=E.filter(".show");if(se()){for(var t=parseInt(C.data("order")),a=C;--t>-1;){var s=e.filter('[data-order="'+t+'"]');if(s.length){a=s;break}}oe(a)}else oe(e.first())},ie=function(){var e=E.filter(".show");if(se()){for(var t=parseInt(C.data("order")),a=C,s=E.length;t++<s;){var o=e.filter('[data-order="'+t+'"]');if(o.length){a=o;break}}oe(a)}else oe(e.first())},ne=function(e,t,a,s){return Math.sqrt(Math.pow(e-a,2)+Math.pow(t-s,2),2)},le=function(){var e=E.filter(".show");if(se()){var a=C.offset(),s=a.left-f.children(".container").offset().left-10;if(50>s)return void re();var o=a.top;s=a.left;var r=C,i=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left+50<s){var n=ne(a.left,a.top,s,o);i>n&&(r=e,i=n)}}),oe(r)}else oe(e.first())},ce=function(){var e=E.filter(".show");if(se()){var a=C.offset(),s=f.children(".container"),o=a.left-s.offset().left-10;if(o+20+C.outerWidth()+50>=s.outerWidth())return void ie();var r=a.top;o=a.left;var i=C,n=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left>o){var s=ne(a.left,a.top,o,r);n>s&&(i=e,n=s)}}),oe(i)}else oe(e.first())},de=function(){f.find(".col.hide").removeClass("hide"),m.removeClass("hide"),E.addClass("show"),S.addClass("show"),f.data(P,setTimeout(function(){E.addClass("in"),S.addClass("in")},20)),h.removeClass("query-enabled").attr("data-query","")},ue=function(e){var a=t("#section-control-icon");if(!e||!e.length)return void a.removeClass("section-preview-show").data("preview",null);a.addClass("open section-preview-show");var s=a.children(".section-preview"),o=a.data("preview");s.length||(s=t("#iconPreviewTemplate").clone().attr("id",""),a.children(".card-heading").after(s)),a.children(".section-search").find("li.active").removeClass("active"),e.addClass("active"),o&&s.find(".icon").removeClass("icon-"+o);var r=e.data("icon");a.data("preview",r.id);var i="icon-"+r.id,n=(r.id.startsWith("spin")||r.categories&&r.categories.indexOf("Spinner Icons")>-1)===!0;s.find(".icon").addClass(i).toggleClass("icon-spin",n),s.find(".name").text(n?"icon-spin "+i:i),s.find(".unicode").text(r.code),r.alias&&r.alias.length?s.find(".alias").removeClass("hide").find(".alias-values").text(r.alias.join(",")):s.find(".alias").addClass("hide")},he=function(e){t.isArray(e)||!e&&!e.length||(e=[e]);var a=t("#section-control-icon");h.attr("data-query","icons");var s=a.children(".section-search");s.length||(s=t('<div class="section-search card-content"><div class="loader loading"><i class="icon icon-spin icon-spinner"></i> 正在拼命加载中...</div></div>'),a.children(".card-heading").after(s),s=a.children(".section-search")),J(_,function(a){var o=s.children("ul");if(o.length||(o=t('<ul data-view="icons">'),t.each(a,function(e,a){var s=t('<li id="control-icon-'+e+'" data-id="'+e+'"><a href="#control/icons/'+e+'"><i class="icon icon-'+e+'"></i> icon-'+e+"</a></li>");a.id=e,s.data("icon",a),o.append(s)}),s.children(".loader").replaceWith(o)),!e.length)return o.children(".hide").removeClass("hide"),void ue(o.children().first());e.forEach(function(t,a){e[a]=e[a].toLowerCase()});var r,i=0;t.each(a,function(a,s){var o=!1,n=0;a=a.toLowerCase(),t.each(e,function(e,r){var i=!1;if(a.includes(r))i=!0,n+=a.startsWith(r)?120:110;else if(s.name&&s.name.toLowerCase().includes(r))i=!0,n+=s.name.toLowerCase().startsWith(r)?100:95;else if(r.startsWith("\\")&&s.code&&s.code.toLowerCase().includes(r.substr(1)))i=!0,n+=120;else{var l=[];if(t.isArray(s.filter)&&s.filter.length&&(l=l.concat(s.filter)),t.isArray(s.categories)&&s.categories.length&&(l=l.concat(s.categories)),t.isArray(s.alias)&&s.alias.length&&(l=l.concat(s.alias)),!l.length)return;t.each(l,function(e,t){return t=t.toLowerCase(),t.includes(r)?(i=!0,n+=50,!1):void 0})}return i?void(o=!0):o=!1});var l=t("#control-icon-"+a).toggleClass("hide",!o);o&&n>i&&(i=n,r=l)}),ue(r)})},pe=function(a){if(!E)return void(s&&console.log("Query failed, $sections is empty. key:",a));if("undefined"==typeof a&&(a=null),v.data("queryString")!==a&&(v.data("queryString",a).val(a),f.css("min-height",f.height())),null===a||!a.length)return de(),void W.removeClass("with-query-text");W.addClass("with-query-text"),h.addClass("query-enabled").attr("data-query",""),e.ga&&t.isFunction(ga)&&(u&&clearTimeout(u),u=setTimeout(function(){ga("send","pageview",e.location.pathname+"#search/"+a)},2e3));var o=[];if(t.each(a.split(" "),function(e,a){a=t.trim(a).toLowerCase();var s={origin:a};a.startsWith("@")?(s.type="id",s.chapter=a.substr(1),s.val=s.chapter):a.startsWith("#")?(s.type="tag",s.val=a.substr(1)):a.startsWith("icon-")||a.startsWith("icon:")?(s.type="icon",s.val=a.substr(5)):a.startsWith("i:")||a.startsWith("i-")?(s.type="icon",s.val=a.substr(2)):a.startsWith("ver:")?(s.type="version",s.val=a.substr(4)):a.startsWith("v:")?(s.type="version",s.val=a.substr(2)):a.startsWith("version:")?(s.type="version",s.val=a.substr(8)):a.startsWith("gulp:")||a.startsWith("build:")?(s.type="build",s.val=a.substr(6)):a.startsWith("g:")||a.startsWith("b:")?(s.type="build",s.val=a.substr(2)):(t.each(D,function(e){return a.startsWith(e+":")?(s.type="id",s.chapter=e,s.val=a.substr(e.length),!1):void 0}),s.type||(s.type="any",s.val=a)),(s.val.length||s.type&&"any"!==s.type)&&o.push(s)}),!o.length)return void de();var r,i,n,l,c,d,g,m={},b={};if(X(function(e,a){n=!0,d=[],r=0,t.each(o,function(s,i){switch(c=i.val,g=null,l=!1,i.type){case"id":l=(i.chapter?e:a).id.includes(c),l&&(g=[i.chapter?"chapter":"section","id"]),r=100;break;case"icon":if(n="icon"===a.id){r=120,d.push({key:i,type:["section","id"]});var u=[];return(i.val||i.val.length)&&u.push(i.val),o.forEach(function(e){e.val!==i.val&&(e.val||e.val.length)&&u.push(e.val)}),he(u),!1}break;case"version":l="new"==i.val?a.isNew:"update"==i.val?a.isUpdate:i.val?a.version===i.val:a.isUpdate||a.isNew,r=100;break;default:var h=a.name.toLowerCase();if(h.includes(c)){l=!0,g=["section","name"],r=h.startsWith(c)?85:82;break}if(a.filter&&a.filter.includes(c)){l=!0,g=["section","filter"],r=80;break}var p=e.name.toLowerCase();if(p.includes(c)){l=!0,g=["chapter","name"],r=p.startsWith(c)?75:73;break}if(e.filter&&e.filter.includes(c)){l=!0,g=["chapter","filter"],r=70;break}if(c.length>1){if(a.id.includes(c)){l=!0,g=["section","id"],r=65;break}if(e.id.includes(c)){l=!0,g=["chapter","id"],r=60;break}if(t.isArray(a.topics)){var f=!1;if(t.each(a.topics,function(e,t){return t.name&&t.name.toLowerCase().includes(c)?(l=!0,g=["section","topic",e],f=!0,r=20,!1):void 0}),f)break}if(a.desc&&a.desc.toLowerCase().includes(c)){l=!0,g="section.desc",r=30;break}}else{if(e.id.startsWith(c)){l=!0,g=["chapter","id"],r=60;break}if(a.id.startsWith(c)){l=!0,g=["section","id"],r=50;break}}}return l?void d.push({key:i,type:g}):(n=!1,!1)}),i=e.id+"-"+a.id,n?(b[e.id]++,m[i]={hidden:!1,matches:d,weight:r}):m[i]={hidden:!0}},function(e){b[e.id]=0})){var C,y,w=t(),x=t(),k=-1;t.each(m,function(e,a){C=t("#section-"+e),a.hidden?w=w.add(C):(x=x.add(C),k<a.weight&&(y=C,k=a.weight)),oe(y)});var T,L;t.each(b,function(e,t){L=D[e],T=!t,L.$.toggleClass("hide",T)});var z=0;f.find(".row").each(function(){var e=0,a=t(this);a.children(".col").each(function(){var a=t(this),s=a.children(".chapter:not(.hide)").length;if(a.toggleClass("hide",!s),s&&(e++,!h.hasClass("compact-mode"))){var o=a.find(".section:not(.hide)").length;o>2&&p.height()<j.height()+70*o&&fe(!0)}}),z=Math.max(z,e)}),f.attr("data-show-col",z),w.length&&(w.removeClass("in"),setTimeout(function(){w.removeClass("show")},100)),x.length&&(x.addClass("show"),setTimeout(function(){x.addClass("in")},20)),p.scrollTop(1),t("body").hasClass("view-double")||ge()}else s&&console.error("Query failed with key: ",o)},fe=function(e,t){e===F&&(e=!h.hasClass("compact-mode"));var a="isScrollAnimating";e?h.hasClass("compact-mode")?t&&t():(h.data(a,!0).addClass("compact-mode"),setTimeout(function(){h.addClass("compact-mode-in"),p.scrollTop(1),setTimeout(function(){h.data(a,!1),t&&t()},300)},10)):h.hasClass("compact-mode")?(h.data(a,!0).removeClass("compact-mode-in"),setTimeout(function(){h.removeClass("compact-mode"),h.data(a,!1),t&&t()},300)):t&&t()},ge=function(a){if(e.afterPageLoad=null,e.onPageLoad=null,t.isFunction(e.onPageClose)&&(e.onPageClose(),e.onPageClose=null),!a&&h.hasClass("page-open")){var s=y.data("trans-style");return s&&(s["max-height"]="",y.css(s)),h.addClass("page-show-out").removeClass("page-open page-show-in"),""!==v.val()&&v.focus(),e.document.title=M,e.location.hash="#/",setTimeout(function(){h.removeClass("page-show page-show-out"),Y()},300),!0}return!1},ve=function(e){y.removeClass("page-collapsed");var t=typeof e;if("undefined"!==t){if("string"===t){var a=parseInt(e);NaN!==a&&(t="number",e=a)}var s=function(e){e&&e.length&&(xe(!1),xe(e.addClass("hover"),!0))};"number"===t?s(x.children("section").removeClass("hover").eq(e)):"string"===t&&t.length}},me=function(){y.removeClass("loading"),k.removeClass("loading")},be=function(){var a=!1;t.isFunction(e.onPageLoad)&&(a=e.onPageLoad()===!1),setTimeout(function(){t.isFunction(e.afterPageLoad)&&e.afterPageLoad(me)===!0&&be();var a=T.find("pre");a.length&&e.prettyPrint&&e.prettyPrint&&(a.addClass("prettyprint"),e.prettyPrint())},200),c&&T.find(".zui-version").text(c.version),a||me()},Ce=function(a,o,r){a=a||l,"!refresh"!==o&&x.empty(),y.addClass("loading"),k.removeClass("with-error").addClass("loading");var i;return J(a.url,function(s,r){c&&(s=s.format(c,"{\\$0}"));var n=function(){if(s&&e.marked&&"markdown"===a.targetType){var r=t(),i=s.indexOf("\n---\n");i>-1&&(s=s.substr(i+5));var n,l=t(e.marked(s)),c=!0,d=l.filter("h2").length>0,u=null;l.each(function(){var e=t(this),a=e.prop("tagName");return a&&"STYLE"!==a&&"SCRIPT"!==a?"TEMPLATE"===a||"HOLDER"===a?void(u=e):(u&&(e.attr(u.allAttrs()),u=null),"TABLE"===a&&(e.addClass("table"),e=t('<div class="table-responsive"/>').append(e)),c?("H1"===a&&w.find("h2 > .name").text(e.html()),void(c=!1)):("EXAMPLE"===a&&(e=t("<div/>").attr(e.allAttrs()).html(e.html()).addClass("example")),void(d&&("H1"===a||"H2"===a)||!d&&"H3"===a?(n&&(r=r.add(n)),n=t("<section><header><h3>"+e.html()+"</h3></header><article></article></section>")):(d&&("H3"===a?e=t("<h4>").html(e.html()):"H4"===a?e=t("<h5>").html(e.html()):"H5"===a&&(e=t("<h6>").html(e.html()))),n||(n=t("<article></article>")),"ARTICLE"===n.prop("tagName")?n.append(e):n.children("article").append(e))))):void(r=r.add(e))}),n&&(r=r.add(n)),x.empty().append(r)}else try{x.html(s)}catch(h){console.error("Page data has error: ",{content:s,error:h})}"!refresh"!==o&&T.scrollTop(0),ve(o),be(),b.show()};i&&clearTimeout(i),y.hasClass("openning")?i=setTimeout(n,700):n()},400,r),h.hasClass("page-open")?void(s&&console.log("open section in open page",a)):void h.addClass("page-open")},ye=function(a,o,r){var i=o.chapter+"-"+o.id,n=h.hasClass("page-open");if(n&&i===h.attr("data-page"))return s&&console.warn("The page already showed, page will be reload."),void(void 0!==r?ve(r):(ge(!0),Ce(null,"!refresh",!0)));n&&ge(!0),l=o,oe(a,!1,!0);var d="#"+o.chapter+"/"+o.id;r&&(d+="/"+r),e.document.title=o.chapterName+" > "+o.name+" - "+M,e.location.hash=d,e.ga&&t.isFunction(ga)&&ga("send","pageview",e.location.pathname+d),h.attr("data-page-accent",a.data("accent")).attr("data-page",i),K(w.find(".icon"),o),w.find(".name").text(o.name).attr("href",d),b.hide(),b.children(".badge-author").toggle(!!o.author).find(".author-name").text(o.author),b.children(".badge-source").toggle(!!o.url).attr("href","https://github.com/easysoft/zui/tree/master/"+o.url);var u=o.lib;if(u){b.children(".badge-zui").toggle(!!u.bundles.standard),b.children(".badge-lite").toggle(!!u.bundles.lite),b.children(".badge-lib").toggle(!!u.bundles.seperate),b.children(".badge-custom").toggle(!!u.custom),b.children(".badge-bootstrap").toggle("Bootstrap"===u.source),b.children(".badge-version").toggle(!!u.ver).text(u.ver+"+"),b.children(".badge-party").toggle(!(!u.source||"Bootstrap"===u.source)).attr("href",u.website||u.project||"javascript:;").find(".product-ver").text(u.pver||"");var p=u.srcCount>0||u.bundlesCount>0,f=b.children(".badge-code-dropdown").toggle(p);if(p){var g=f.find(".badge-code").attr("data-type","has"+(u.srcCount?"-source":"")+(u.bundlesCount?"-bundles":""));g.children(".badge-code-source").toggle(!!u.srcCount).find(".count").text(u.srcCount),g.children(".badge-code-pkgs").toggle(!!u.bundlesCount).find(".count").text(u.bundlesCount);var v=f.find(".dropdown-menu").empty(),m={js:"Javascript",css:"CSS",less:"LESS",resource:"资源"},C="https://github.com/easysoft/zui/blob/"+(c.version?"v"+c.version:"master")+"/";if(u.srcCount&&(v.append('<li class="dropdown-header primary-header" data-type="source"><i class="icon icon-file-code"></i>  源码 '+u.srcCount+"</li>"),t.each(u.src,function(e,t){v.append('<li class="dropdown-header">'+(m[e]||e)+"</li>"),t.forEach(function(e){e=e.replace(/\/\//g,"/"),v.append('<li><a target="_blank" href="'+C+e+'">'+e+"</a></li>")})})),u.bundlesCount){if(v.append('<li class="dropdown-header primary-header" data-type="bundles"><i class="icon icon-cube"></i> 打包</li>'),u.bundles.standard){v.append('<li class="dropdown-header">标准版</li>');var x=[];u.src.js&&u.src.js.length&&x.push("dist/js/zui.js"),u.src.less&&u.src.less.length&&x.push("dist/css/zui.css"),u.src.resource&&u.src.resource.length&&u.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),x.push(e)}),x.forEach(function(e){e=e.replace(/\/\//g,"/"),v.append('<li><a target="_blank" href="'+C+e.replace("/**/*","")+'">'+e+"</a></li>")})}if(u.bundles.lite){v.append('<li class="dropdown-header">简洁版</li>');var x=[];u.src.js&&u.src.js.length&&x.push("dist/js/zui.lite.js"),u.src.less&&u.src.less.length&&x.push("dist/css/zui.lite.css"),u.src.resource&&u.src.resource.length&&u.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),x.push(e)}),x.forEach(function(e){e=e.replace(/\/\//g,"/"),v.append('<li><a target="_blank" href="'+C+e.replace("/**/*","")+'">'+e+"</a></li>")})}u.bundles.seperate&&(v.append('<li class="dropdown-header">独立组件</li>'),v.append('<li><a target="_blank" href="'+C+"dist/lib/"+o.id+'">dist/lib/'+o.id+"/**/*</a></li>")),"theme"===u.code&&v.append('<li><a target="_blank" href="'+C+'dist/zui-theme.css">dist/css/zui-theme.css</a></li>')}}}Ce(o,r),fe(!0,function(){G(),h.addClass("page-show"),setTimeout(function(){h.addClass("page-show-in"),y.hasClass("loading")&&y.addClass("openning"),T.scrollTop(0),setTimeout(function(){y.removeClass("openning"),Q&&(Q=t.zui.store.get("first_open_page",!0),Q&&(Q=!1,t.zui.store.set("first_open_page",!1),q||setTimeout(function(){t("#pageCloseBtn").tooltip("show").addClass("active"),setTimeout(function(){t("#pageCloseBtn").tooltip("hide").removeClass("active")},6e3)},500)))},300)},10)})},we=function(a,o){a=a||C;var r;if(t.isArray(a)){if("undefined"!=typeof o&&(a=a.push(o)),!a[0])return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")));if(a.length>0&&"search"===a[0])return void pe(a[1]);if(!(i&&a.length>1))return void(s&&console.warn("Open section stop by null docIndex or wrong section value."));var n=a[1],l=i.chapters[a[0]].sections,c=!1;if(t.each(l,function(e,t){return t.id===n?(a.length>2&&(o=a[2]),a=t,c=!0,!1):void 0}),!c)return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")))}if(t.isPlainObject(a))r=t("#section-"+a.chapter+"-"+a.id);else{var d=a;a=d.data("section"),r=d}if(""===a.url)return void t.zui.messager.show("该链接所指示的文档尚未完成。你可以Fork项目来完善文档。");switch(a.target){case"external":e.open(a.url,"_blank");break;case"page":var u=t.zui.store.get("pageViewLayout");!u&&t(e).width()>=1600?t("#changeViewModal").on("hide.zui.modal",function(){u=t.zui.store.get("pageViewLayout"),u||t.zui.store.set("pageViewLayout","single"),ye(r,a,o)}).modal("show"):ye(r,a,o);break;default:s&&console.error("Open section failed: unknown target.")}},xe=function(e,t){var a=typeof e;if("object"===a){"undefined"==typeof t&&(t=e.hasClass("collapsed")),e.toggleClass("collapsed",!t);var s=x.children("section"),o=s.length,r=s.filter(".collapsed").length;0===r?y.removeClass("page-collapsed"):r===o&&y.addClass("page-collapsed")}else t="boolean"===a?e:y.hasClass("page-collapsed"),y.toggleClass("page-collapsed",!t),t?x.children("section").removeClass("collapsed"):x.children("section").addClass("collapsed")},ke=function(t){t.startsWith("#")&&t.length>1&&0!==t.indexOf("##")?(t=t.substr(1),setTimeout(function(){var e=t.split("/"),a=e[0].toLowerCase();"search"===a||"query"===a?pe(e[1]):we(e)},600)):Z(t)?e.open(t,"_blank"):s&&console.warn("Open page url failed: unknown url",t)},Te=function(e,t,a){if(t){var s=t.length;e=e.toLowerCase();for(var o=e+"s",r=e+".",i=e+"s.",n=0;s>n;++n){var l=t[n];if(l===e||l===o||l.startsWith(r)||l.startsWith(i))return!0}}return!1},Le=function(e,a,s,o){return o||(o=[]),t.isArray(o)||(o=[o]),a.bundles&&t.each(a.bundles,function(t,a){var r=e.builds[a],i=s[a];!r&&i&&(r={title:i.name,dest:"dist/lib/"+a+"/",filename:i.source&&"Bootstrap"!==i.source?a:"zui."+a,includes:[a],source:i.source,settingDpds:i.src&&i.src.less&&i.src.less.length?["setting"]:null,ignoreBasic:!0,ignoreDpds:void 0===i.ignoreDpds?!0:i.ignoreDpds},e.builds[a]=r),Le(e,r,s,o)}),a.basicDpds&&(o=We(s,a.basicDpds,o)),o=We(s,a.includes,o,a.ignoreDpds)},We=function(e,a,s,o,r){if(s=s||[],t.isArray(a))t.each(a,function(t,a){We(e,a,s,o)});else{var i=e[a];i&&s.indexOf(a)<0&&(!o&&i.dpds&&We(e,i.dpds,s,o),(i.src||!r)&&s.push(a))}return s},ze=function(e){J(I,function(a){J(H,function(s){c=t.extend(a,{lib:t.extend({},s.lib),builds:t.extend({},s.builds)}),t.doc&&(t.doc.pkg=c),e(c)},null,!0)},null,!0)},je=function(){ze(function(e){function a(t,s,o){t.src&&["less","js","resource"].forEach(function(e){t.src[e]&&t.src[e].forEach(function(t){t.startsWith("~/")&&(t=t.replace("~/","js"===e?"src/js/":"less"===e?"src/less/":"src/")),s[e]||(s[e]=[]),s[e].indexOf(t)<0&&s[e].push(t)})}),t.dpds&&t.dpds.forEach(function(t){t.startsWith(o)&&e.lib[t]&&!e.lib[t].thirdpart&&a(e.lib[t],s,o)})}t(".zui-version").text(e.version),U.standard=Le(e,e.builds.standard,e.lib),U.lite=Le(e,e.builds.lite,e.lib),U.seperate=Le(e,e.builds.seperate,e.lib),X(function(s,o,r){var i=o.dpds||o.id,n=e.lib[i];n||(i+="s",n=e.lib[i]);var l={code:i,bundles:{}};if(t.each(U,function(e,t){Te(i,t,n)&&(l.bundles[e]=!0)}),n){if(t.extend(l,n),n.thirdpart&&(l.thirdpart=!0,l.partUrl=n.website,l.pver=n.pver),!n.src&&n.dpds&&(l.custom=!0,l.source||t.each(n.dpds,function(t,a){var s=e.lib[a];s&&s.source&&(l.source=s.source)})),n.ver)l.ver=n.ver;else if(l.custom)for(var c=0;c<n.dpds.length;++c){var d=n.dpds[c],u=e.lib[d]||e.lib[d+"s"];if(u&&u.ver){l.ver=u.ver;break}}l.src={},a(n,l.src,l.code),l.srcCount=(l.src.js?l.src.js.length:0)+(l.src.less?l.src.less.length:0)+(l.src.source?l.src.source.length:0),l.bundlesCount=0,l.bundles.standard&&l.bundlesCount++,l.bundles.lite&&l.bundlesCount++,l.bundles.seperate&&l.bundlesCount++,"theme"===l.code&&l.bundlesCount++}o.lib=l,o.isNew=o.version===e.version,o.isUpdate=o.update===e.version,N&&t("#section-"+o.chapter+"-"+o.id).toggleClass("section-update",o.isUpdate).toggleClass("section-new",o.isNew)})})},Ee=function(e){e.length&&ze(function(a){var s,o,r=t("<tbody></tbody>"),i=function(e){return a.lib[e].name},n=0;t.each(a.lib,function(e,l){if(!l.hidden){var c="";if(!l.src&&l.dpds){var d=We(a.lib,l.dpds,null,!0,!0);c="包含：",c+=t.map(d,i).join("、"),l.merged=!0}else n++;if(s=t("<tr/>"),o=t("<td/>"),o.attr("title",l.desc),o.html("<strong>"+l.name+"</strong> ("+e+(l.pver?" v"+l.pver:"")+")"),s.append(o),t.each(U,function(a,r){o=t('<td class="text-center"/>'),r.indexOf(e)>-1?o.addClass("success").html('<i class="text-success icon-ok"></i>'):o.html('<i class="text-muted icon-remove"></i>'),s.append(o)}),o=t("<td/>"),l.source){var u=t("<a/>",{target:"_blank",title:"License: "+l.license,href:l.website||l.project||("Bootstrap"===l.source?"http://getbootstrap.com/":"###")}).text(l.source);o.append(u)}else l.merged?o.append('<span class="text-muted">(合并组件)</span>'):o.append("ZUI");s.append(o),o=t("<td/>"),o.html(l.ver?" v"+l.ver+"+":c),s.append(o),r.append(s)}}),e.find("tbody").remove(),e.append(r),e.datatable({rowHover:!1,fixedHeaderOffset:200}),t(".components-count").text(n)})},Se=function(){if(!t.zui.browser.isIE()||t.zui.browser.ie>8){A=t("#copyCodeBtn");var a=new e.Clipboard(A.get(0));a.on("success",function(e){t("#copyCodeTip").addClass("tooltip-success"),A.tooltip("show",'已复制 <i class="icon icon-ok"></i>'),e.clearSelection()}),a.on("error",function(e){t("#copyCodeTip").addClass("tooltip-warning"),A.tooltip("show",q?"你的浏览器不支持直接复制，请自行选择并复制。":"按 <strong>Ctrl+C</strong> 完成复制")}),A.on("hide.zui.tooltip",function(){t("#copyCodeTip").removeClass("tooltip-success tooltip-warning")}),t(document).on("mouseenter","pre.prettyprint, .copyable",function(){var e=t(this),a=e.children("code, .linenums, .copyable-target");a.length&&(a.attr("id")||a.attr("id","code-"+t.zui.uuid()),e.prepend(A),A.attr("data-clipboard-target","#"+a.attr("id")),e.one("mouseleave",function(){A.detach()}))})}},Ae=function(e){return"string"==typeof e&&(e=V[e]),e.variables?(e.variablesLess="",t.each(e.variables,function(t,a){e.variablesLess+="@"+t+": "+a+";\n"})):e.variablesLess||(e.variablesLess=""),e},De=function(a,s,o){"string"==typeof a&&(a=V[a]),"function"==typeof s&&(o=s,s=null),a.variablesLess||Ae(a),a.imports||(a.imports=["src/less/basic/colorset.less","src/less/basic/variables.less","src/less/basic/mixins.less","src/less/theme.less","src/less/controls/icons.variables.less","src/less/doc.less"]);var r=t.isArray(a.imports)?a.imports.map(function(e){return'@import "'+e+'";'}).join("\n"):a.imports;r+=a.variablesLess+(a.lessCode||""),e.less.render(r,t.extend({compress:!0},s),function(e,t){o&&o(t,a)})},qe=function(e){var t=document.getElementById("themeStyle");t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},Pe=function(e,a){var s=t("body"),o=function(o){qe(o||""),a&&a(e),s.removeClass("theme-changing"),o?t.zui.store.set("doc_theme",e):t.zui.store.remove("doc_theme")};return e&&"default"!==e&&"default"!==e.name?("string"==typeof e&&(e=V[e]),s.hasClass("theme-changing")?!1:(s.addClass("theme-changing"),e.css?o(e.css):setTimeout(function(){De(e,null,function(t){t&&(e.css=t.css),o(t?t.css:"")})},500),!0)):void o()},Be=function(){t.each(V,function(e,t){t.name||(t.name=e)});var e=t.zui.store.get("doc_theme");e&&Pe(e)},Oe=function(){var a=function(a){a?t.zui.store.set("pageViewLayout",a):a=t.zui.store.get("pageViewLayout");var s="double"===a&&t(e).width()>=1200;t("body").toggleClass("view-double",s)},s=t("#changeViewModal");s.on("show.zui.modal",function(){var e=t("body").hasClass("view-double");s.find(".view-option.active").removeClass("active"),s.find(".view-option-"+(e?"double":"single")).addClass("active")}).on("click",".view-option",function(){a(t(this).hasClass("view-option-double")?"double":"single"),s.modal("hide")}),a()},_e=function(){M=e.document.title;var o=function(e){e.stopPropagation()};p=t(e),h=t("body"),L=t("#navbar"),f=t("#grid"),j=t("#header"),y=t("#page"),w=t("#pageHeader"),b=t("#pageAttrs"),k=t("#pageLoader"),x=t("#pageContent"),m=f.find(".chapter"),v=t("#searchInput"),S=f.find(".chapter-heading"),g=t("#sectionTemplate").attr("id",null),T=t("#pageBody"),t.each(D,function(e,a){e=e.toLowerCase(),a.$=t("#chapter-"+e),a.id=e,a.$sections=t("#sections-"+e)}),$=f.children(".container").outerWidth(),r=t.zui.store&&t.zui.store.enable,t.ajaxSetup({cache:!1}),J(O,function(s,o){var r=!d;if(ee(s),r){var i=a("q");i&&setTimeout(function(){pe(i)},300);var n=e.location.hash;n?ke(n):v.focus(),je()}t(".doc-version").text(s.version)});var i,n;t(document).on("click",function(e){return n?void(n=!1):void(h.attr("data-query")||oe())}).on("click",'a[href^="#"]',function(){ke(t(this).attr("href"))}),y.on("click",function(e){n=!0}),f.on("click",".card-heading",function(e){var a=t(this).closest(".card");a.hasClass("choosed")?a.toggleClass("open"):oe(a,!0),o(e)}).on("click",".chapter-heading > h4 > .name",function(){v.focus().val("@"+t(this).closest(".chapter").data("id")).change()}).on("click",".card",function(e){oe(t(this),!0),o(e)}).on("click",".card-heading > h5 > .name, .card-heading > .icon",function(e){
we(t(this).closest(".section")),o(e)}).on("click",".topics > li > a",function(e){var a=t(this);ke(a.attr("href")),e.preventDefault(),o(e)}).on("mouseenter",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").addClass("hover")}).on("mouseleave",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").removeClass("hover")}).on("mouseenter","#section-control-icon .section-search > ul > li > a",function(){i=t("#section-control-icon").data("preview"),ue(t(this).closest("li"))}).on("mouseleave","#section-control-icon .section-search > ul > li > a",function(){i&&ue(t("#control-icon-"+i))}).on("click","#section-control-icon .section-search > ul > li > a",function(){i=t(this).closest("li").data("id")}),x.on("click","section > header > h3",function(){xe(t(this).closest("section"))}).on("mouseenter","section > header > h3",function(){t(this).closest("section").addClass("hover")}).on("mouseleave","section > header > h3",function(){t(this).closest("section").removeClass("hover")}),y.on("click","#pageTogger",function(){xe()}),w.on("click",".path-close-btn",function(){ge()});var l,c=t("#navbar").outerHeight();p.on("scroll",function(e){if(!h.hasClass("layout-classic")){var t=h.data("isScrollAnimating");if(t)return void p.scrollTop(0);l=p.scrollTop(),l>c&&!h.hasClass("compact-mode")?fe(!0):h.hasClass("page-show")||j.toggleClass("with-shadow",l>20)}}).on("keydown",function(e){var t=e.which,a=!h.hasClass("page-show"),s=h.hasClass("view-double"),o=h.hasClass("input-query-focus");9===t?h.hasClass("input-query-focus")||(v.focus(),e.preventDefault()):13===t?(s||a)&&se()&&we():27===t?s||ge()||(o||v.focus(),z="",pe()):37===t?s||(le(),e.preventDefault()):39===t?s||(ce(),e.preventDefault()):38===t?a||s?(re(),e.preventDefault()):te(T,"up"):40===t&&(a||s)&&(ie(),e.preventDefault())}),T.on("scroll",function(e){y.toggleClass("with-shadow",T.scrollTop()>20)}),W=t("#search"),v.focus().on("change keyup paste input propertychange",function(){var e=v.val();e!==z&&(z=e,W.toggleClass("with-query-text",e.length>0),clearTimeout(v.data(B)),v.data(B,setTimeout(function(){z!==v.data("queryString")&&pe(z)},150)))}).on("focus",function(){h.addClass("input-query-focus"),v.val()&&!E.filter(".open").length&&oe(E.filter(".show:first"))}).on("blur",function(){h.removeClass("input-query-focus")}).on("click",o),t("#searchHelpBtn").on("click",function(e){W.hasClass("with-query-text")?(z="",pe(),v.focus(),W.removeClass("with-query-text")):(we(["resource","help"]),t(this).blur()),o(e)}),t("#navbar .navbar-brand").on("click",function(e){h.hasClass("page-show")?(ge(),o(e),e.preventDefault()):h.hasClass("compact-mode-in")&&(p.scrollTop(0),fe(!1),o(e),e.preventDefault())}),s&&t("#pageReloadBtn").on("click",function(){Ce(null,"!refresh",!0)}),Oe(),Se(),Be(),q||t('[data-toggle="tooltip"]').tooltip({container:"body"})};_e(),t.doc={query:pe,themes:V,changeTheme:Pe,compileTheme:De,compileThemeVariables:Ae,openSection:we,closePage:ge,loadData:J,stopPageLoading:me,displayPkgLibTable:Ee,pkg:c}}(window,jQuery);