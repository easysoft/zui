/*!
 * ZUI - v1.4.0 - 2016-05-11
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2016 cnezsoft.com; Licensed MIT
 */

/*! Some code copy from Bootstrap v3.0.0 by @fat and @mdo. (Copyright 2013 Twitter, Inc. Licensed under http://www.apache.org/licenses/)*/

!function(t,e){"use strict";if("undefined"==typeof t)throw new Error("ZUI requires jQuery");t.zui||(t.zui=function(e){t.isPlainObject(e)&&t.extend(t.zui,e)});var i=0;t.zui({uuid:function(){return 1e3*(new Date).getTime()+i++%1e3},callEvent:function(e,i,s){if(t.isFunction(e)){void 0!==s&&(e=t.proxy(e,s));var o=e(i);return i&&(i.result=o),!(void 0!==o&&!o)}return 1},clientLang:function(){var i,s=e.config;if("undefined"!=typeof s&&s.clientLang)i=s.clientLang;else{var o=t("html").attr("lang");i=o?o:navigator.userLanguage||navigator.userLanguage||"zh_cn"}return i.replace("-","_").toLowerCase()}}),t.fn.callEvent=function(e,i,s){var o=t(this),n=e.indexOf(".zui."),a=0>n?e:e.substring(0,n),r=t.Event(a,i);if(void 0===s&&n>0&&(s=o.data(e.substring(n+1))),s&&s.options){var l=s.options[a];t.isFunction(l)&&t.zui.callEvent(l,r,s)}return o.trigger(r),r}}(jQuery,window),function(){"use strict";var t="function";Array.prototype.forEach||(Array.prototype.forEach=function(e){var i=this.length;if(typeof e!=t)throw new TypeError;for(var s=arguments[1],o=0;i>o;o++)o in this&&e.call(s,this[o],o,this)}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.toString.call(t)}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var e=this.length,i=Number(arguments[1]);for(isNaN(i)?i=e-1:(i=0>i?Math.ceil(i):Math.floor(i),0>i?i+=e:i>=e&&(i=e-1));i>-1;i--)if(i in this&&this[i]===t)return i;return-1}),Array.prototype.every||(Array.prototype.every=function(e){var i=this.length;if(typeof e!=t)throw new TypeError;for(var s=arguments[1],o=0;i>o;o++)if(o in this&&!e.call(s,this[o],o,this))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e){var i=this.length;if(typeof e!=t)throw new TypeError;for(var s=[],o=arguments[1],n=0;i>n;n++)if(n in this){var a=this[n];e.call(o,a,n,this)&&s.push(a)}return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1}),Array.prototype.map||(Array.prototype.map=function(e){var i=this.length;if(typeof e!=t)throw new TypeError;for(var s=new Array(i),o=arguments[1],n=0;i>n;n++)n in this&&(s[n]=e.call(o,this[n],n,this));return s}),Array.prototype.mawherep||(Array.prototype.where=function(e,i){i=i||[];var s,o,n;return this.forEach(function(a){o=!0;for(var r in e)if(s=e[r],typeof s===t?o=s(a):(n=a[r],o=n&&n===s),!o)break;o&&i.push(a)}),i}),Array.prototype.groupBy||(Array.prototype.groupBy=function(t){var e={};return this.forEach(function(i){var s=i[t];s||(s="unkown"),e[s]||(e[s]=[]),e[s].push(i)}),e}),Array.prototype.has||(Array.prototype.has=function(e){var i,s,o,n=!1;return this.forEach(function(a){s=!0;for(var r in e)if(i=e[r],typeof i===t?s=i(a):(o=a[r],s=o&&o===i),!s)break;return s?(n=!0,!1):void 0}),n})}(),+function(t){"use strict";var e=function(i,s){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,s),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",s=this.$element,o=s.is("input")?"val":"html",n=s.data();e+="Text",n.resetText||s.data("resetText",s[o]()),s[o](n[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,s.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,s.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var s=t(this),o=s.data("zui.button"),n="object"==typeof i&&i;o||s.data("zui.button",o=new e(this,n)),"toggle"==i?o.toggle():i&&o.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.zui.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i="zui.alert",s=function(i){t(i).on("click",e,this.close)};s.prototype.close=function(e){function s(){a.trigger("closed."+i).remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var a=t(n);e&&e.preventDefault(),a.length||(a=o.hasClass("alert")?o:o.parent()),a.trigger(e=t.Event("close."+i)),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,s).emulateTransitionEnd(150):s())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),n=o.data(i);n||o.data(i,n=new s(this)),"string"==typeof e&&n[e].call(o)})},t.fn.alert.Constructor=s,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click."+i+".data-api",e,s.prototype.close)}(window.jQuery),+function(t){"use strict";var e="zui.tab",i=function(e){this.element=t(e)};i.prototype.show=function(){var i=this.element,s=i.closest("ul:not(.dropdown-menu)"),o=i.attr("data-target");if(o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!i.parent("li").hasClass("active")){var n=s.find(".active:last a")[0],a=t.Event("show."+e,{relatedTarget:n});if(i.trigger(a),!a.isDefaultPrevented()){var r=t(o);this.activate(i.parent("li"),s),this.activate(r,r.parent(),function(){i.trigger({type:"shown."+e,relatedTarget:n})})}}},i.prototype.activate=function(e,i,s){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),s&&s()}var n=i.find("> .active"),a=s&&t.support.transition&&n.hasClass("fade");a?n.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),n.removeClass("in")};var s=t.fn.tab;t.fn.tab=function(s){return this.each(function(){var o=t(this),n=o.data(e);n||o.data(e,n=new i(this)),"string"==typeof s&&n[s]()})},t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=s,this},t(document).on("click.zui.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,s=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(s).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";var e="zui.collapse",i=function(e,s){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,s),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show."+e);if(this.$element.trigger(i),!i.isDefaultPrevented()){var s=this.$parent&&this.$parent.find("> .panel > .in");if(s&&s.length){var o=s.data(e);if(o&&o.transitioning)return;s.collapse("hide"),o||s.data(e,null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown."+e)};if(!t.support.transition)return a.call(this);var r=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[n](this.$element[0][r])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var i=t.Event("hide."+e);if(this.$element.trigger(i),!i.isDefaultPrevented()){var s=this.dimension();this.$element[s](this.$element[s]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden."+e).removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[s](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var s=t.fn.collapse;t.fn.collapse=function(s){return this.each(function(){var o=t(this),n=o.data(e),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof s&&s);n||o.data(e,n=new i(this,a)),"string"==typeof s&&n[s]()})},t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click."+e+".data-api","[data-toggle=collapse]",function(i){var s,o=t(this),n=o.attr("data-target")||i.preventDefault()||(s=o.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""),a=t(n),r=a.data(e),l=r?"toggle":o.data(),h=o.attr("data-parent"),c=h&&t(h);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+h+'"]').not(o).addClass("collapsed"),o[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(l)})}(window.jQuery),function(t,e){"use strict";var i=1200,s=992,o=768,n={desktop:"screen-desktop",desktopLg:"screen-desktop-wide",tablet:"screen-tablet",phone:"screen-phone",isMobile:"device-mobile",isDesktop:"device-desktop"},a=e(t),r=function(){var t=a.width();e("html").toggleClass(n.desktop,t>=s&&i>t).toggleClass(n.desktopLg,t>=i).toggleClass(n.tablet,t>=o&&s>t).toggleClass(n.phone,o>t).toggleClass(n.isMobile,s>t).toggleClass(n.isDesktop,t>=s)};a.resize(r),r()}(window,jQuery),function(t){"use strict";var e={zh_cn:'您的浏览器版本过低，无法体验所有功能，建议升级或者更换浏览器。 <a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',zh_tw:'您的瀏覽器版本過低，無法體驗所有功能，建議升級或者更换瀏覽器。<a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',en:'Your browser is too old, it has been unable to experience the colorful internet. We strongly recommend that you upgrade a better one. <a href="http://browsehappy.com/" target="_blank" class="alert-link">Learn more...</a>'},i=function(){var t=this.isIE()||this.isIE10()||!1;if(t)for(var e=10;e>5;e--)if(this.isIE(e)){t=e;break}this.ie=t,this.cssHelper()};i.prototype.cssHelper=function(){var e=this.ie,i=t("html");i.toggleClass("ie",e).removeClass("ie-6 ie-7 ie-8 ie-9 ie-10"),e&&i.addClass("ie-"+e).toggleClass("gt-ie-7 gte-ie-8 support-ie",e>=8).toggleClass("lte-ie-7 lt-ie-8 outdated-ie",8>e).toggleClass("gt-ie-8 gte-ie-9",e>=9).toggleClass("lte-ie-8 lt-ie-9",9>e).toggleClass("gt-ie-9 gte-ie-10",e>=10).toggleClass("lte-ie-9 lt-ie-10",10>e)},i.prototype.tip=function(i){var s=t("#browseHappyTip");s.length||(s=t('<div id="browseHappyTip" class="alert alert-dismissable alert-danger-inverse alert-block" style="position: relative; z-index: 99999"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><div class="container"><div class="content text-center"></div></div></div>'),s.prependTo("body")),s.find(".content").html(i||this.browseHappyTip||e[t.zui.clientLang()||"zh_cn"])},i.prototype.isIE=function(t){if(10===t)return this.isIE10();var e=document.createElement("b");return e.innerHTML="<!--[if IE "+(t||"")+"]><i></i><![endif]-->",1===e.getElementsByTagName("i").length},i.prototype.isIE10=function(){return!1},t.zui({browser:new i}),t(function(){t("body").hasClass("disabled-browser-tip")||t.zui.browser.ie&&t.zui.browser.ie<8&&t.zui.browser.tip()})}(jQuery),function(){"use strict";Date.ONEDAY_TICKS=864e5,Date.prototype.format||(Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t}),Date.prototype.addMilliseconds||(Date.prototype.addMilliseconds=function(t){return this.setTime(this.getTime()+t),this}),Date.prototype.addDays||(Date.prototype.addDays=function(t){return this.addMilliseconds(t*Date.ONEDAY_TICKS),this}),Date.prototype.clone||(Date.prototype.clone=function(){var t=new Date;return t.setTime(this.getTime()),t}),Date.isLeapYear||(Date.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0}),Date.getDaysInMonth||(Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}),Date.prototype.isLeapYear||(Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())}),Date.prototype.clearTime||(Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this}),Date.prototype.getDaysInMonth||(Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())}),Date.prototype.addMonths||(Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this}),Date.prototype.getLastWeekday||(Date.prototype.getLastWeekday=function(t){t=t||1;for(var e=this.clone();e.getDay()!=t;)e.addDays(-1);return e.clearTime(),e}),Date.prototype.isSameDay||(Date.prototype.isSameDay=function(t){return t.toDateString()===this.toDateString()}),Date.prototype.isSameWeek||(Date.prototype.isSameWeek=function(t){var e=this.getLastWeekday(),i=e.clone().addDays(7);return t>=e&&i>t}),Date.prototype.isSameYear||(Date.prototype.isSameYear=function(t){return this.getFullYear()===t.getFullYear()})}(),function(){"use strict";String.prototype.format||(String.prototype.format=function(t){var e=this;if(arguments.length>0){var i;if(1==arguments.length&&"object"==typeof t)for(var s in t)void 0!==t[s]&&(i=new RegExp("({"+s+"})","g"),e=e.replace(i,t[s]));else for(var o=0;o<arguments.length;o++)void 0!==arguments[o]&&(i=new RegExp("({["+o+"]})","g"),e=e.replace(i,arguments[o]))}return e}),String.prototype.isNum||(String.prototype.isNum=function(t){if(null!==t){var e,i;return i=/\d*/i,e=t.match(i),e==t}return!1})}(),function(t,e,i){"$:nomunge";function s(){o=e[r](function(){n.each(function(){var e=t(this),i=e.width(),s=e.height(),o=t.data(this,h);i===o.w&&s===o.h||e.trigger(l,[o.w=i,o.h=s])}),s()},a[c])}var o,n=t([]),a=t.resize=t.extend(t.resize,{}),r="setTimeout",l="resize",h=l+"-special-event",c="delay",d="throttleWindow";a[c]=250,a[d]=!0,t.event.special[l]={setup:function(){if(!a[d]&&this[r])return!1;var e=t(this);n=n.add(e),t.data(this,h,{w:e.width(),h:e.height()}),1===n.length&&s()},teardown:function(){if(!a[d]&&this[r])return!1;var e=t(this);n=n.not(e),e.removeData(h),n.length||clearTimeout(o)},add:function(e){function s(e,s,n){var a=t(this),r=t.data(this,h)||{};r.w=s!==i?s:a.width(),r.h=n!==i?n:a.height(),o.apply(this,arguments)}if(!a[d]&&this[r])return!1;var o;return t.isFunction(e)?(o=e,s):(o=e.handler,void(e.handler=s))}}}(jQuery,this),+function(t){"use strict";function e(s,o){var n,a=t.proxy(this.process,this);this.$element=t(t(s).is("body")?window:s),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll."+i+".data-api",a),this.options=t.extend({},e.DEFAULTS,o),this.selector||(this.selector=(this.options.target||(n=t(s).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a"),this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}var i="zui.scrollspy";e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),n=/^#./.test(o)&&t(o);return n&&n.length&&n.is(":visible")&&[[n[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,s=i-this.$scrollElement.height(),o=this.offsets,n=this.targets,a=this.activeTarget;if(e>=s)return a!=(t=n.last()[0])&&this.activate(t);if(a&&e<=o[0])return a!=(t=n[0])&&this.activate(t);for(t=o.length;t--;)a!=n[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var s=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(s).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate."+i)};var s=t.fn.scrollspy;t.fn.scrollspy=function(s){return this.each(function(){var o=t(this),n=o.data(i),a="object"==typeof s&&s;n||o.data(i,n=new e(this,a)),"string"==typeof s&&n[s]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=s,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),function(t,e){"use strict";var i="localStorage",s=t[i],o=(t.store,"page_"+t.location.pathname+t.location.search),n=function(){this.slience=!0,this.enable=i in t&&t[i]&&t[i].setItem,this.storage=s,this.page=this.get(o,{})};n.prototype.pageSave=function(){if(e.isEmptyObject(this.page))this.remove(o);else{var t,i=[];for(t in this.page){var s=this.page[t];null===s&&i.push(t)}for(t=i.length-1;t>=0;t--)delete this.page[i[t]];this.set(o,this.page)}},n.prototype.pageRemove=function(t){"undefined"!=typeof this.page[t]&&(this.page[t]=null,this.pageSave())},n.prototype.pageClear=function(){this.page={},this.pageSave()},n.prototype.pageGet=function(t,e){var i=this.page[t];return void 0===e||null!==i&&void 0!==i?i:e},n.prototype.pageSet=function(t,i){e.isPlainObject(t)?e.extend(!0,this.page,t):this.page[this.serialize(t)]=i,this.pageSave()},n.prototype.check=function(){if(!this.enable&&!this.slience)throw new Error("Browser not support localStorage or enable status been set true.");return this.enable},n.prototype.length=function(){return this.check()?s.getLength?s.getLength():s.length:0},n.prototype.removeItem=function(t){return s.removeItem(t),this},n.prototype.remove=function(t){return this.removeItem(t)},n.prototype.getItem=function(t){return s.getItem(t)},n.prototype.get=function(t,e){var i=this.deserialize(this.getItem(t));return"undefined"!=typeof i&&null!==i||"undefined"==typeof e?i:e},n.prototype.key=function(t){return s.key(t)},n.prototype.setItem=function(t,e){return s.setItem(t,e),this},n.prototype.set=function(t,e){return void 0===e?this.remove(t):(this.setItem(t,this.serialize(e)),this)},n.prototype.clear=function(){return s.clear(),this},n.prototype.forEach=function(t){for(var e=s.length-1;e>=0;e--){var i=s.key(e);t(i,this.get(i))}return this},n.prototype.getAll=function(){var t={};return this.forEach(function(e,i){t[e]=i}),t},n.prototype.serialize=function(t){return"string"==typeof t?t:JSON.stringify(t)},n.prototype.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},e.zui({store:new n})}(window,jQuery),function(t){"use strict";var e=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};e.DEFAULTS={container:"body",move:!0},e.prototype.getOptions=function(i){return i=t.extend({},e.DEFAULTS,this.$.data(),i)},e.prototype.init=function(){this.handleMouseEvents()},e.prototype.handleMouseEvents=function(){var e,i,s,o,n,a=this.$,r="before",l="drag",h="finish",c=this.options,d=function(l){if(c.hasOwnProperty(r)&&t.isFunction(c[r])){var h=c[r]({event:l,element:a});if(void 0!==h&&!h)return}var d=t(c.container),f=a.offset();i=d.offset(),e={x:l.pageX,y:l.pageY},s={x:l.pageX-f.left+i.left,y:l.pageY-f.top+i.top},o=t.extend({},e),n=!1,a.addClass("drag-ready"),t(document).bind("mousemove",u).bind("mouseup",p),l.preventDefault(),c.stopPropagation&&l.stopPropagation()},u=function(i){n=!0;var r=i.pageX,h=i.pageY,d={left:r-s.x,top:h-s.y};a.removeClass("drag-ready").addClass("dragging"),c.move&&a.css(d),c.hasOwnProperty(l)&&t.isFunction(c[l])&&c[l]({event:i,element:a,startOffset:s,pos:d,offset:{x:r-e.x,y:h-e.y},smallOffset:{x:r-o.x,y:h-o.y}}),o.x=r,o.y=h,c.stopPropagation&&i.stopPropagation()},p=function(i){if(t(document).unbind("mousemove",u).unbind("mouseup",p),!n)return void a.removeClass("drag-ready");var r={left:i.pageX-s.x,top:i.pageY-s.y};a.removeClass("drag-ready").removeClass("dragging"),c.move&&a.css(r),c.hasOwnProperty(h)&&t.isFunction(c[h])&&c[h]({event:i,element:a,pos:r,offset:{x:i.pageX-e.x,y:i.pageY-e.y},smallOffset:{x:i.pageX-o.x,y:i.pageY-o.y}}),i.preventDefault(),c.stopPropagation&&i.stopPropagation()};c.handle?a.on("mousedown",c.handle,d):a.on("mousedown",d)},t.fn.draggable=function(i){return this.each(function(){var s=t(this),o=s.data("zui.draggable"),n="object"==typeof i&&i;o||s.data("zui.draggable",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.draggable.Constructor=e}(jQuery),function(t,e,i){"use strict";var s=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};s.DEFAULTS={container:"body",deviation:5,sensorOffsetX:0,sensorOffsetY:0},s.prototype.getOptions=function(e){return e=t.extend({},s.DEFAULTS,this.$.data(),e)},s.prototype.callEvent=function(e,i){return t.zui.callEvent(this.options[e],i,this)},s.prototype.init=function(){this.handleMouseEvents()},s.prototype.handleMouseEvents=function(){var s=this.$,o=this,n=this.options,a="before";this.$triggerTarget=n.trigger?(t.isFunction(n.trigger)?n.trigger(s):s.find(n.trigger)).first():s,this.$triggerTarget.on("mousedown",function(r){function l(e){var a={left:e.pageX,top:e.pageY};if(!(i.abs(a.left-y.left)<n.deviation&&i.abs(a.top-y.top)<n.deviation)){if(null===f){var r=g.css("position");"absolute"!=r&&"relative"!=r&&"fixed"!=r&&(d=r,g.css("position","relative")),f=s.clone().removeClass("drag-from").addClass("drag-shadow").css({position:"absolute",width:s.outerWidth(),transition:"none"}).appendTo(g),s.addClass("dragging"),o.callEvent("start",{event:e,element:s})}var l={left:a.left-_.left,top:a.top-_.top},h={left:l.left-w.left,top:l.top-w.top};f.css(h),x.left=a.left,x.top=a.top;var c=!1;v=!1,n.flex||u.removeClass("drop-to");var b=null;if(u.each(function(){var e=t(this),i=e.offset(),s=e.outerWidth(),o=e.outerHeight(),r=i.left+n.sensorOffsetX,l=i.top+n.sensorOffsetY;return a.left>r&&a.top>l&&a.left<r+s&&a.top<l+o&&(b&&b.removeClass("drop-to"),b=e,!n.nested)?!1:void 0}),b){v=!0;var C=b.data("id");s.data("id")!=C&&(m=!1),(null===p||p.data("id")!==C&&!m)&&(c=!0),p=b,n.flex&&u.removeClass("drop-to"),p.addClass("drop-to")}n.flex?null!==p&&p.length&&(v=!0):(s.toggleClass("drop-in",v),f.toggleClass("drop-in",v)),o.callEvent("drag",{event:e,isIn:v,target:p,element:s,isNew:c,selfTarget:m,clickOffset:_,offset:l,position:{left:l.left-w.left,top:l.top-w.top},mouseOffset:a}),e.preventDefault()}}function h(i){if(d&&g.css("position",d),null===f)return s.removeClass("drag-from"),t(e).unbind("mousemove",l).unbind("mouseup",h),void o.callEvent("always",{event:i,cancel:!0});v||(p=null);var n=!0,a={left:i.pageX,top:i.pageY},r={left:a.left-_.left,top:a.top-_.top},c={left:a.left-x.left,top:a.top-x.top};x.left=a.left,x.top=a.top;var b={event:i,isIn:v,target:p,element:s,isNew:!m&&null!==p,selfTarget:m,offset:r,mouseOffset:a,position:{left:r.left-w.left,top:r.top-w.top},lastMouseOffset:x,moveOffset:c};n=o.callEvent("beforeDrop",b),n&&v&&o.callEvent("drop",b),t(e).unbind("mousemove",l).unbind("mouseup",h),u.removeClass("drop-to"),s.removeClass("dragging").removeClass("drag-from"),f.remove(),o.callEvent("finish",b),o.callEvent("always",b),i.preventDefault()}if(n.hasOwnProperty(a)&&t.isFunction(n[a])){var c=n[a]({event:r,element:s});if(void 0!==c&&!c)return}var d,u=t.isFunction(n.target)?n.target(s):t(n.target),p=null,f=null,g=t(n.container).first(),v=!1,m=!0,b=s.offset(),y={left:r.pageX,top:r.pageY},w=g.offset(),_={left:y.left-b.left,top:y.top-b.top},x={left:y.left,top:y.top};s.addClass("drag-from"),t(e).bind("mousemove",l).bind("mouseup",h),r.preventDefault()})},s.prototype.reset=function(){this.$triggerTarget.off("mousedown"),this.handleMouseEvents()},t.fn.droppable=function(e){return this.each(function(){var i=t(this),o=i.data("zui.droppable"),n="object"==typeof e&&e;o||i.data("zui.droppable",o=new s(this,n)),"string"==typeof e&&o[e]()})},t.fn.droppable.Constructor=s}(jQuery,document,Math),+function(t,e,i,s){"use strict";var o=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};o.DEFAULTS={selector:"li, div",dragCssClass:"invisible"},o.prototype.getOptions=function(e){return e=t.extend({},o.DEFAULTS,this.$.data(),e)},o.prototype.init=function(){this.bindEventToList(this.$.children(this.options.selector))},o.prototype.reset=function(){var e=this,i=this.$.children(this.options.selector).not(".drag-shadow");i.each(function(){var s=t(this);return s.data("zui.droppable")?(s.data("zui.droppable").options.target=i,void s.droppable("reset")):(e.bindEventToList(i),!1)})},o.prototype.bindEventToList=function(e){function i(e){var i=[];e.each(function(){var e=t(this).data("order");"number"==typeof e&&i.push(e)}),i.sort(function(t,e){return t-e});for(var s=e.length;i.length<s;)i.push(i.length?i[i.length-1]+1:0);n&&i.reverse();var o=0;e.each(function(){t(this).attr("data-order",i[o++])})}var s=this.$,o=this.options,n=o.reverse;i(e),e.droppable({trigger:o.trigger,target:s.children(o.selector),container:s,always:o.always,flex:!0,before:o.before,start:function(e){o.dragCssClass&&e.element.addClass(o.dragCssClass),t.zui.callEvent(o.start)},drag:function(e){if(s.addClass("sortable-sorting"),e.isIn){var a=e.element,r=e.target,l=a.attr("data-order"),h=r.attr("data-order");if(l==h)return;l>h?r[n?"after":"before"](a):r[n?"before":"after"](a);var c=s.children(o.selector).not(".drag-shadow");i(c),t.zui.callEvent(o.order,{list:c,element:a})}},finish:function(e){o.dragCssClass&&e.element&&e.element.removeClass(o.dragCssClass),t.zui.callEvent(o.finish,{list:s.children(o.selector),element:e.element}),s.removeClass("sortable-sorting")}})},t.fn.sortable=function(e){return this.each(function(){var i=t(this),s=i.data("zui.sortable"),n="object"==typeof e&&e;s?"object"==typeof e&&s.reset():i.data("zui.sortable",s=new o(this,n)),"string"==typeof e&&s[e]()})},t.fn.sortable.Constructor=o}(jQuery,window,document,Math),+function(t){"use strict";function e(e,o,n){return this.each(function(){var a=t(this),r=a.data(i),l=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);r||a.data(i,r=new s(this,l)),"string"==typeof e?r[e](o,n):l.show&&r.show(o,n)})}var i="zui.modal",s=function(e,s){this.options=s,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,"undefined"==typeof this.options.moveable&&(this.options.moveable=this.$element.hasClass("modal-moveable")),this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded."+i)},this))};s.VERSION="3.2.0",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0,position:"fit"},s.prototype.toggle=function(t,e){return this.isShown?this.hide():this.show(t,e)},s.prototype.ajustPosition=function(e){if("undefined"==typeof e&&(e=this.options.position),"undefined"!=typeof e){var s=this.$element.find(".modal-dialog"),o=Math.max(0,(t(window).height()-s.outerHeight())/2),n="fit"==e?2*o/3:"center"==e?o:e;if(s.hasClass("modal-moveable")){var a=null;this.options.rememberPos&&(this.options.rememberPos===!0?a=this.$element.data("modal-pos"):t.zui.store&&(a=t.zui.store.pageGet(i+".rememberPos"))),a||(a={left:Math.max(0,(t(window).width()-s.outerWidth())/2),top:n}),s.css(a)}else s.css("margin-top",n)}},s.prototype.setMoveale=function(){var e=this,s=e.options,o=e.$element.find(".modal-dialog").removeClass("modal-dragged");o.toggleClass("modal-moveable",s.moveable),e.$element.data("modal-moveable-setup")||o.draggable({container:e.$element,handle:".modal-header",before:function(){o.css("margin-top","").addClass("modal-dragged")},finish:function(o){s.rememberPos&&(e.$element.data("modal-pos",o.pos),t.zui.store&&s.rememberPos!==!0&&t.zui.store.pageSet(i+".rememberPos",o.pos))}})},s.prototype.show=function(e,o){var n=this,a=t.Event("show."+i,{relatedTarget:e});n.$element.trigger(a),n.isShown||a.isDefaultPrevented()||(n.isShown=!0,n.options.moveable&&n.setMoveale(),n.checkScrollbar(),n.$body.addClass("modal-open"),n.setScrollbar(),n.escape(),n.$element.on("click.dismiss."+i,'[data-dismiss="modal"]',t.proxy(n.hide,n)),n.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.ajustPosition(o),n.enforceFocus();var r=t.Event("shown."+i,{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(s.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},s.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide."+i),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin."+i),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss."+i),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){t(document).off("focusin."+i).on("focusin."+i,t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?t(document).on("keydown.dismiss."+i,t.proxy(function(e){if(27==e.which){var s=t.Event("escaping."+i),o=this.$element.triggerHandler(s,"esc");if(void 0!=o&&!o)return;this.hide()}},this)):this.isShown||t(document).off("keydown.dismiss."+i)},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden."+i)})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("mousedown.dismiss."+i,t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r();
}else e&&e()},s.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=s,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click."+i+".data-api",'[data-toggle="modal"]',function(s){var o=t(this),n=o.attr("href"),a=null;try{a=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,""))}catch(r){return}if(a.length){var l=a.data(i)?"toggle":t.extend({remote:!/#/.test(n)&&n},a.data(),o.data());o.is("a")&&s.preventDefault(),a.one("show."+i,function(t){t.isDefaultPrevented()||a.one("hidden."+i,function(){o.is(":visible")&&o.trigger("focus")})}),e.call(a,l,this,o.data("position"))}})}(jQuery),function(t,e){"use strict";if(!t.fn.modal)throw new Error("Modal trigger requires modal.js");var i="zui.modaltrigger",s="ajax",o=".zui.modal",n="string",a=function(e,i){e=t.extend({},a.DEFAULTS,t.ModalTriggerDefaults,i?i.data():null,e),this.isShown,this.$trigger=i,this.options=e,this.id=t.zui.uuid()};a.DEFAULTS={type:"custom",height:"auto",name:"triggerModal",fade:!0,position:"fit",showHeader:!0,delay:0,backdrop:!0,keyboard:!0,waittime:0,loadingIcon:"icon-spinner-indicator"},a.prototype.init=function(a){var r=this;if(a.url&&(!a.type||a.type!=s&&"iframe"!=a.type)&&(a.type=s),a.remote)a.type=s,typeof a.remote===n&&(a.url=a.remote);else if(a.iframe)a.type="iframe",typeof a.iframe===n&&(a.url=a.iframe);else if(a.custom&&(a.type="custom",typeof a.custom===n)){var l;try{l=t(a.custom)}catch(h){}l&&l.length?a.custom=l:t.isFunction(e[a.custom])&&(a.custom=e[a.custom])}var c=t("#"+a.name);c.length&&(r.isShown||c.off(o),c.remove()),c=t('<div id="'+a.name+'" class="modal modal-trigger">'+("string"==typeof a.loadingIcon&&0===a.loadingIcon.indexOf("icon-")?'<div class="icon icon-spin loader '+a.loadingIcon+'"></div>':a.loadingIcon)+'<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" data-dismiss="modal">×</button><h4 class="modal-title"><i class="modal-icon"></i> <span class="modal-title-name"></span></h4></div><div class="modal-body"></div></div></div></div>').appendTo("body").data(i,r);var d=function(e,i){var s=a[e];t.isFunction(s)&&c.on(i+o,s)};d("onShow","show"),d("shown","shown"),d("onHide","hide"),d("hidden","hidden"),d("loaded","loaded"),c.on("shown"+o,function(){r.isShown=!0}).on("hidden"+o,function(){r.isShown=!1}),this.$modal=c,this.$dialog=c.find(".modal-dialog"),a.mergeOptions&&(this.options=a)},a.prototype.show=function(a){var r=t.extend({},this.options,{url:this.$trigger?this.$trigger.attr("href")||this.$trigger.attr("data-url")||this.$trigger.data("url"):this.options.url},a);this.init(r);var l=this,h=this.$modal,c=this.$dialog,d=r.custom,u=c.find(".modal-body").css("padding",""),p=c.find(".modal-header"),f=c.find(".modal-content");h.toggleClass("fade",r.fade).addClass(r.cssClass).toggleClass("modal-loading",!this.isShown),c.toggleClass("modal-md","md"===r.size).toggleClass("modal-sm","sm"===r.size).toggleClass("modal-lg","lg"===r.size).toggleClass("modal-fullscreen","fullscreen"===r.size),p.toggle(r.showHeader),p.find(".modal-icon").attr("class","modal-icon icon-"+r.icon),p.find(".modal-title-name").html(r.title||""),r.size&&"fullscreen"===r.size&&(r.width="",r.height="");var g=function(){clearTimeout(this.resizeTask),this.resizeTask=setTimeout(function(){l.ajustPosition()},100)},v=function(t,e){return"undefined"==typeof t&&(t=r.delay),setTimeout(function(){c=h.find(".modal-dialog"),r.width&&"auto"!=r.width&&c.css("width",r.width),r.height&&"auto"!=r.height&&(c.css("height",r.height),"iframe"===r.type&&u.css("height",c.height()-p.outerHeight())),l.ajustPosition(r.position),h.removeClass("modal-loading"),"iframe"!=r.type&&c.off("resize."+i).on("resize."+i,g),e&&e()},t)};if("custom"===r.type&&d)if(t.isFunction(d)){var m=d({modal:h,options:r,modalTrigger:l,ready:v});typeof m===n&&(u.html(m),v())}else d instanceof t?(u.html(t("<div>").append(d.clone()).html()),v()):(u.html(d),v());else if(r.url){var b=function(){var t=h.callEvent("broken"+o,l,l);t&&u.html(t)};if(h.attr("ref",r.url),"iframe"===r.type){h.addClass("modal-iframe"),this.firstLoad=!0;var y="iframe-"+r.name;p.detach(),u.detach(),f.empty().append(p).append(u),u.css("padding",0).html('<iframe id="'+y+'" name="'+y+'" src="'+r.url+'" frameborder="no"  allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"  allowtransparency="true" scrolling="auto" style="width: 100%; height: 100%; left: 0px;"></iframe>'),r.waittime>0&&(l.waitTimeout=v(r.waittime,b));var w=document.getElementById(y);w.onload=w.onreadystatechange=function(){if(l.firstLoad&&h.addClass("modal-loading"),!this.readyState||"complete"==this.readyState){l.firstLoad=!1,r.waittime>0&&clearTimeout(l.waitTimeout);try{h.attr("ref",w.contentWindow.location.href);var t=e.frames[y].$;if(t&&"auto"===r.height&&"fullscreen"!=r.size){var s=t("body").addClass("body-modal");r.iframeBodyClass&&s.addClass(r.iframeBodyClass);var n=function(t){h.removeClass("fade");var e=s.outerHeight();t===!0&&r.onlyIncreaseHeight&&(e=Math.max(e,u.data("minModalHeight")||0),u.data("minModalHeight",e)),u.css("height",e),r.fade&&h.addClass("fade"),v()};h.callEvent("loaded"+o,{modalType:"iframe",jQuery:t},null),setTimeout(n,100),s.off("resize."+i).on("resize."+i,g)}else v();t.extend({closeModal:e.closeModal})}catch(a){v()}}}}else t.get(r.url,function(e){try{var i=t(e);i.hasClass("modal-dialog")?c.replaceWith(i):i.hasClass("modal-content")?c.find(".modal-content").replaceWith(i):u.wrapInner(i)}catch(n){h.html(e)}h.callEvent("loaded"+o,{modalType:s},l),v()}).error(b)}h.modal({show:"show",backdrop:r.backdrop,moveable:r.moveable,keyboard:r.keyboard})},a.prototype.close=function(i,s){(i||s)&&this.$modal.on("hidden"+o,function(){t.isFunction(i)&&i(),typeof s===n&&("this"===s?e.location.reload():e.location=s)}),this.$modal.modal("hide")},a.prototype.toggle=function(t){this.isShown?this.close():this.show(t)},a.prototype.ajustPosition=function(t){this.$modal.modal("ajustPosition",t||this.options.position)},t.zui({ModalTrigger:a,modalTrigger:new a}),t.fn.modalTrigger=function(e,s){return t(this).each(function(){var o=t(this),r=o.data(i),l=t.extend({title:o.attr("title")||o.text(),url:o.attr("href"),type:o.hasClass("iframe")?"iframe":""},o.data(),t.isPlainObject(e)&&e);r||o.data(i,r=new a(l,o)),typeof e==n?r[e](s):l.show&&r.show(s),o.on((l.trigger||"click")+".toggle."+i,function(t){r.toggle(l),o.is("a")&&t.preventDefault()})})};var r=t.fn.modal;t.fn.modal=function(e,i){return t(this).each(function(){var s=t(this);s.hasClass("modal")?r.call(s,e,i):s.modalTrigger(e,i)})};var l=function(e){var i=typeof e;return"undefined"===i?e=t(".modal.modal-trigger"):i===n&&(e=t(e)),e&&e instanceof t?e:null},h=function(e,s,o){if(t.isFunction(e)){var n=o;o=s,s=e,e=n}e=l(e),e&&e.length&&e.each(function(){t(this).data(i).close(s,o)})},c=function(t,e){e=l(e),e&&e.length&&e.modal("ajustPosition",t)};t.zui({closeModal:h,ajustModalPosition:c}),t(document).on("click."+i+".data-api",'[data-toggle="modal"]',function(e){var s=t(this),o=s.attr("href"),n=null;try{n=t(s.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""))}catch(a){}n&&n.length||(s.data(i)?s.trigger(".toggle."+i):s.modalTrigger({show:!0})),s.is("a")&&e.preventDefault()})}(window.jQuery,window),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,s){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s);for(var o=this.options.trigger.split(" "),n=o.length;n--;){var a=o[n];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(e){var i=t.Event("show.zui."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(i),i.isDefaultPrevented())return;var s=this.tip();this.setContent(e),this.options.animation&&s.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,a=n.test(o);a&&(o=o.replace(n,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var r=this.getPosition(),l=s[0].offsetWidth,h=s[0].offsetHeight;if(a){var c=this.$element.parent(),d=o,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),g="body"==this.options.container?0:c.offset().left;o="bottom"==o&&r.top+r.height+h-u>f?"top":"top"==o&&r.top-u-h<0?"bottom":"right"==o&&r.right+l>p?"left":"left"==o&&r.left-l<g?"right":o,s.removeClass(d).addClass(o)}var v=this.getCalculatedOffset(o,r,l,h);this.applyPlacement(v,o),this.$element.trigger("shown.zui."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,s=this.tip(),o=s[0].offsetWidth,n=s[0].offsetHeight,a=parseInt(s.css("margin-top"),10),r=parseInt(s.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,s.offset(t).addClass("in");var l=s[0].offsetWidth,h=s[0].offsetHeight;if("top"==e&&h!=n&&(i=!0,t.top=t.top+n-h),/bottom|top/.test(e)){var c=0;t.left<0&&(c=-2*t.left,t.left=0,s.offset(t),l=s[0].offsetWidth,h=s[0].offsetHeight),this.replaceArrow(c-o+l,l,"left")}else this.replaceArrow(h-n,h,"top");i&&s.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(t){var e=this.tip(),i=t||this.getTitle();this.options.tipId&&e.attr("id",this.options.tipId),this.options.tipClass&&e.addClass(this.options.tipClass),e.find(".tooltip-inner")[this.options.html?"html":"text"](i),e.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&s.detach()}var i=this,s=this.tip(),o=t.Event("hide.zui."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?s.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.zui."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,s){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-s,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("zui."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i,s){return this.each(function(){var o=t(this),n=o.data("zui.tooltip"),a="object"==typeof i&&i;n||o.data("zui.tooltip",n=new e(this,a)),"string"==typeof i&&n[i](s)})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTarget();if(e)return e.find(".arrow").length<1&&t.addClass("no-arrow"),void t.html(e.html());var i=this.getTitle(),s=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](i),t.find(".popover-content")[this.options.html?"html":"text"](s),t.removeClass("fade top bottom left right in"),this.options.tipId&&t.attr("id",this.options.tipId),this.options.tipClass&&t.addClass(this.options.tipClass),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTarget()||this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.getTarget=function(){var e=this.$element,i=this.options,s=e.attr("data-target")||("function"==typeof i.target?i.target.call(e[0]):i.target);return s?"$next"==s?e.next(".popover"):t(s):!1},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var s=t(this),o=s.data("zui.popover"),n="object"==typeof i&&i;o||s.data("zui.popover",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),+function(t){"use strict";function e(){t(o).remove(),t(n).each(function(e){var o=i(t(this));o.hasClass("open")&&(o.trigger(e=t.Event("hide."+s)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden."+s))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var s=i&&t(i);return s&&s.length?s:e.parent()}var s="zui.dropdown",o=".dropdown-backdrop",n="[data-toggle=dropdown]",a=function(e){t(e).on("click."+s,this.toggle)};a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var a=i(n),r=a.hasClass("open");if(e(),!r){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(o=t.Event("show."+s)),o.isDefaultPrevented())return;a.toggleClass("open").trigger("shown."+s),n.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var s=t(this);if(e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled")){var o=i(s),a=o.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&o.find(n).focus(),s.click();var r=t("[role=menu] li:not(.divider):visible a",o);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),s=i.data("dropdown");s||i.data("dropdown",s=new a(this)),"string"==typeof e&&s[e].call(i)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this};var l=s+".data-api";t(document).on("click."+l,e).on("click."+l,".dropdown form",function(t){t.stopPropagation()}).on("click."+l,n,a.prototype.toggle).on("keydown."+l,n+", [role=menu]",a.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,touchable:!0},e.prototype.touchable=function(){function e(e){var e=e||window.event;e.originalEvent&&(e=e.originalEvent);var n=t(this);switch(e.type){case"touchstart":s=e.touches[0].pageX,o=e.touches[0].pageY;break;case"touchend":var a=e.changedTouches[0].pageX-s,r=e.changedTouches[0].pageY-o;if(Math.abs(a)>Math.abs(r))i(n,a),Math.abs(a)>10&&e.preventDefault();else{var l=t(window);t("body,html").animate({scrollTop:l.scrollTop()-r},400)}}}function i(t,e){e>10?n.prev():-10>e&&n.next()}if(this.options.touchable){this.$element.on("touchstart touchmove touchend",e);var s,o,n=this}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,s=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):s==e?this.pause().cycle():this.slide(e>s?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var s=this.$element.find(".item.active"),o=i||s[e](),n=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[r]()}this.sliding=!0,n&&this.pause();var h=t.Event("slide.zui.carousel",{relatedTarget:o[0],direction:a});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(h),h.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,s.addClass(a),o.addClass(a),s.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(h),h.isDefaultPrevented())return;s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var s=t(this),o=s.data("zui.carousel"),n=t.extend({},e.DEFAULTS,s.data(),"object"==typeof i&&i),a="string"==typeof i?i:n.slide;o||s.data("zui.carousel",o=new e(this,n)),"number"==typeof i?o.to(i):a?o[a]():n.interval&&o.pause().cycle(),n.touchable&&o.touchable()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.zui.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,s=t(this),o=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),n=t.extend({},o.data(),s.data()),a=s.attr("data-slide-to");a&&(n.interval=!1),o.carousel(n),(a=s.attr("data-slide-to"))&&o.data("zui.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),function(t){"use strict";t.zui.imgReady=function(){var t=[],e=null,i=function(){for(var e=0;e<t.length;e++)t[e].end?t.splice(e--,1):t[e]();!t.length&&s()},s=function(){clearInterval(e),e=null};return function(s,o,n,a){var r,l,h,c,d,u=new Image;return u.src=s,u.complete?(o.call(u),void(n&&n.call(u))):(l=u.width,h=u.height,u.onerror=function(){a&&a.call(u),r.end=!0,u=u.onload=u.onerror=null},r=function(){c=u.width,d=u.height,(c!==l||d!==h||c*d>1024)&&(o.call(u),r.end=!0)},r(),u.onload=function(){!r.end&&r(),n&&n.call(u),u=u.onload=u.onerror=null},void(r.end||(t.push(r),null===e&&(e=setInterval(i,40)))))}}()}(jQuery),function(t,e,i){"use strict";if(!t.fn.modalTrigger)throw new Error("modal & modalTrigger requires for lightbox");if(!t.zui.imgReady)throw new Error("imgReady requires for lightbox");var s=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};s.DEFAULTS={modalTeamplate:'<div class="icon-spinner icon-spin loader"></div><div class="modal-dialog"><button class="close" data-dismiss="modal" aria-hidden="true"><i class="icon-remove"></i></button><button class="controller prev"><i class="icon icon-chevron-left"></i></button><button class="controller next"><i class="icon icon-chevron-right"></i></button><img class="lightbox-img" src="{image}" alt="" data-dismiss="modal" /><div class="caption"><div class="content">{caption}<div></div></div>'},s.prototype.getOptions=function(e){var i="image";return e=t.extend({},s.DEFAULTS,this.$.data(),e),e[i]||(e[i]=this.$.attr("src")||this.$.attr("href")||this.$.find("img").attr("src"),this.$.data(i,e[i])),e},s.prototype.init=function(){this.bindEvents()},s.prototype.initGroups=function(){var e=this.$.data("groups");e||(e=t('[data-toggle="lightbox"][data-group="'+this.options.group+'"], [data-lightbox-group="'+this.options.group+'"]'),this.$.data("groups",e),e.each(function(e){t(this).attr("data-group-index",e)})),this.groups=e,this.groupIndex=parseInt(this.$.data("group-index"))},s.prototype.bindEvents=function(){var s=this.$,o=this,n=this.options;return n.image?void s.modalTrigger({type:"custom",name:"lightboxModal",position:"center",custom:function(s){o.initGroups();var a=s.modal,r=o.groups,l=o.groupIndex;a.addClass("modal-lightbox").html(n.modalTeamplate.format(n)).toggleClass("lightbox-with-caption","string"==typeof n.caption).removeClass("lightbox-full").data("group-index",l);var h=a.find(".modal-dialog"),c=t(e).width();t.zui.imgReady(n.image,function(){h.css({width:i.min(c,this.width)}),c<this.width+30&&a.addClass("lightbox-full"),s.ready()}),a.find(".prev").toggleClass("show",r.filter('[data-group-index="'+(l-1)+'"]').length>0),a.find(".next").toggleClass("show",r.filter('[data-group-index="'+(l+1)+'"]').length>0),a.find(".controller").click(function(){var o=t(this),n=a.data("group-index")+(o.hasClass("prev")?-1:1),l=r.filter('[data-group-index="'+n+'"]');if(l.length){var d=l.data("image"),u=l.data("caption");a.addClass("modal-loading").data("group-index",n).toggleClass("lightbox-with-caption","string"==typeof u).removeClass("lightbox-full"),a.find(".lightbox-img").attr("src",d),a.find(".caption > .content").text(u),c=t(e).width(),t.zui.imgReady(d,function(){h.css({width:i.min(c,this.width)}),c<this.width+30&&a.addClass("lightbox-full"),s.ready()})}return a.find(".prev").toggleClass("show",r.filter('[data-group-index="'+(n-1)+'"]').length>0),a.find(".next").toggleClass("show",r.filter('[data-group-index="'+(n+1)+'"]').length>0),!1})}}):!1},t.fn.lightbox=function(e){var i="group"+(new Date).getTime();return this.each(function(){var o=t(this),n="object"==typeof e&&e;"object"==typeof n&&n.group?o.attr("data-lightbox-group",n.group):o.data("group")?o.attr("data-lightbox-group",o.data("group")):o.attr("data-lightbox-group",i),o.data("group",o.data("lightbox-group"));var a=o.data("zui.lightbox");a||o.data("zui.lightbox",a=new s(this,n)),"string"==typeof e&&a[e]()})},t.fn.lightbox.Constructor=s,t(function(){t('[data-toggle="lightbox"]').lightbox()})}(jQuery,window,Math),function(t,e){"use strict";var i,s=0,o='<div class="messager messager-{type} {placement}" id="messager{id}" style="display:none"><div class="messager-content"></div><div class="messager-actions"><button type="button" class="close action">&times;</button></div></div>',n={type:"default",placement:"top",time:4e3,parent:"body",icon:null,close:!0,fade:!0,scale:!0},a=function(e,i){var a=this;a.id=s++,i=a.options=t.extend({},n,i),a.message=(i.icon?'<i class="icon-'+i.icon+' icon"></i> ':"")+e,a.$=t(o.format(i)).toggleClass("fade",i.fade).toggleClass("scale",i.scale).attr("id","messager-"+a.id),i.close?a.$.on("click",".close",function(){a.hide()}):a.$.find(".close").remove(),a.$.find(".messager-content").html(a.message),a.$.data("zui.messager",a)};a.prototype.show=function(s){var o=this,n=this.options;i&&(i.id==o.id?o.$.removeClass("in"):i.isShow&&i.hide()),o.hiding&&(clearTimeout(o.hiding),o.hiding=null),s&&(o.message=(n.icon?'<i class="icon-'+n.icon+' icon"></i> ':"")+s,o.$.find(".messager-content").html(o.message)),o.$.appendTo(n.parent).show(),"top"!==n.placement&&"bottom"!==n.placement&&"center"!==n.placement||o.$.css("left",(t(e).width()-o.$.width()-50)/2),"left"!==n.placement&&"right"!==n.placement&&"center"!==n.placement||o.$.css("top",(t(e).height()-o.$.height()-50)/2),o.$.addClass("in"),n.time&&(o.hiding=setTimeout(function(){o.hide()},n.time)),o.isShow=!0,i=o},a.prototype.hide=function(){var t=this;t.$.hasClass("in")&&(t.$.removeClass("in"),setTimeout(function(){t.$.remove()},200)),t.isShow=!1};var r=function(t,e){"string"==typeof e&&(e={type:e});var i=new a(t,e);return i.show(),i},l=function(){t(".messager").each(function(){var e=t(this).data("zui.messager");e&&e.hide&&e.hide()})},h=function(t){return"string"==typeof t?{placement:t}:t};t.zui({Messager:a,showMessager:r,messager:{show:r,hide:l,primary:function(e,i){return r(e,t.extend({type:"primary"},h(i)))},success:function(e,i){return r(e,t.extend({type:"success",icon:"ok-sign"},h(i)))},info:function(e,i){return r(e,t.extend({type:"info",icon:"info-sign"},h(i)))},warning:function(e,i){return r(e,t.extend({type:"warning",icon:"warning-sign"},h(i)))},danger:function(e,i){return r(e,t.extend({type:"danger",icon:"exclamation-sign"},h(i)))},important:function(e,i){return r(e,t.extend({type:"important"},h(i)))},special:function(e,i){return r(e,t.extend({type:"special"},h(i)))}}})}(jQuery,window),function(t){"use strict";var e=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};e.DEFAULTS={auto:!1,foldicon:"icon-chevron-right"},e.prototype.getOptions=function(i){return i=t.extend({},e.DEFAULTS,this.$.data(),i)},e.prototype.init=function(){var t=this.$.children(".nav");t.find(".nav").closest("li").addClass("nav-parent"),t.find(".nav > li.active").closest("li").addClass("active"),t.find(".nav-parent > a").append('<i class="'+this.options.foldicon+' nav-parent-fold-icon"></i>'),this.handleFold()},e.prototype.handleFold=function(){var e=this.options.auto,i=this.$;this.$.on("click",".nav-parent > a",function(s){e&&(i.find(".nav-parent.show").find(".nav").slideUp(function(){t(this).closest(".nav-parent").removeClass("show")}),i.find(".icon-rotate-90").removeClass("icon-rotate-90"));var o=t(this).closest(".nav-parent");return o.hasClass("show")?(o.find(".icon-rotate-90").removeClass("icon-rotate-90"),o.find(".nav").slideUp(function(){t(this).closest(".nav-parent").removeClass("show")})):(o.find(".nav-parent-fold-icon").addClass("icon-rotate-90"),o.find(".nav").slideDown(function(){t(this).closest(".nav-parent").addClass("show")})),s.preventDefault(),!1})},t.fn.menu=function(i){return this.each(function(){var s=t(this),o=s.data("zui.menu"),n="object"==typeof i&&i;o||s.data("zui.menu",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.menu.Constructor=e,t(function(){t('[data-toggle="menu"]').menu()})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,i){"use strict";function s(t){var e=v[f.locale];return e?e[t]:v.en[t]}function o(t,i,s){t.stopPropagation(),t.preventDefault();var o=e.isFunction(s)&&s.call(i,t)===!1;o||i.modal("hide")}function n(t){var e,i=0;for(e in t)i++;return i}function a(t,i){var s=0;e.each(t,function(t,e){i(t,e,s++)})}function r(t){var i,s;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),i=t.buttons,s=n(i),a(i,function(t,o,n){if(e.isFunction(o)&&(o=i[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(2===s&&("ok"===t||"confirm"===t)||1===s?o.className="btn-primary":o.className="btn-default")}),t}function l(t,e){var i=t.length,s={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(s[e[0]]=t[0],s[e[1]]=t[1]):s=t[0],s}function h(t,i,s){return e.extend(!0,{},t,l(i,s))}function c(t,e,i,s){var o={className:"bootbox-"+t,buttons:d.apply(null,e)};return u(h(o,s,i),e)}function d(){for(var t={},e=0,i=arguments.length;i>e;e++){var o=arguments[e],n=o.toLowerCase(),a=o.toUpperCase();t[n]={label:s(a)}}return t}function u(t,e){var s={};return a(e,function(t,e){s[e]=!0}),a(t.buttons,function(t){if(s[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",
form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:e.zui&&e.zui.clientLang?e.zui.clientLang():"zh_cn",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},g={};g.alert=function(){var t;if(t=c("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback.call(this):!0},g.dialog(t)},g.confirm=function(){var t;if(t=c("confirm",["confirm","cancel"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},g.prompt=function(){var t,s,o,n,r,l,c;if(n=e(p.form),s={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},t=u(h(s,arguments,["title","callback"]),["confirm","cancel"]),l=t.show===i?!0:t.show,t.message=n,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var i;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=r.val();break;case"checkbox":var s=r.find("input:checked");i=[],a(s,function(t,s){i.push(e(s).val())})}return t.callback.call(this,i)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!p.inputs[t.inputType])throw new Error("invalid prompt type");switch(r=e(p.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(t.value);break;case"select":var f={};if(c=t.inputOptions||[],!e.isArray(c))throw new Error("Please pass an array of input options");if(!c.length)throw new Error("prompt with select requires options");a(c,function(t,s){var o=r;if(s.value===i||s.text===i)throw new Error("given options in wrong format");s.group&&(f[s.group]||(f[s.group]=e("<optgroup/>").attr("label",s.group)),o=f[s.group]),o.append("<option value='"+s.value+"'>"+s.text+"</option>")}),a(f,function(t,e){r.append(e)}),r.val(t.value);break;case"checkbox":var v=e.isArray(t.value)?t.value:[t.value];if(c=t.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");r=e("<div/>"),a(c,function(i,s){var o=e(p.inputs[t.inputType]);o.find("input").attr("value",s.value),o.find("label").append(s.text),a(v,function(t,e){e===s.value&&o.find("input").prop("checked",!0)}),r.append(o)})}return t.placeholder&&r.attr("placeholder",t.placeholder),t.pattern&&r.attr("pattern",t.pattern),t.maxlength&&r.attr("maxlength",t.maxlength),n.append(r),n.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=g.dialog(t),o.off("shown.zui.modal"),o.on("shown.zui.modal",function(){r.focus()}),l===!0&&o.modal("show"),o},g.dialog=function(t){t=r(t);var s=e(p.dialog),n=s.find(".modal-dialog"),l=s.find(".modal-body"),h=t.buttons,c="",d={onEscape:t.onEscape};if(e.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(h,function(t,e){c+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",d[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&s.addClass("fade"),t.className&&s.addClass(t.className),"large"===t.size?n.addClass("modal-lg"):"small"===t.size&&n.addClass("modal-sm"),t.title&&l.before(p.header),t.closeButton){var u=e(p.closeButton);t.title?s.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(l)}return t.title&&s.find(".modal-title").html(t.title),c.length&&(l.after(p.footer),s.find(".modal-footer").html(c)),s.on("hidden.zui.modal",function(t){t.target===this&&s.remove()}),s.on("shown.zui.modal",function(){s.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&s.on("click.dismiss.zui.modal",function(t){s.children(".modal-backdrop").length&&(t.currentTarget=s.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&s.trigger("escape.close.bb")}),s.on("escape.close.bb",function(t){d.onEscape&&o(t,s,d.onEscape)}),s.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");o(t,s,d[i])}),s.on("click",".bootbox-close-button",function(t){o(t,s,d.onEscape)}),s.on("keyup",function(t){27===t.which&&s.trigger("escape.close.bb")}),e(t.container).append(s),s.modal({backdrop:t.backdrop?"static":!1,keyboard:!1,show:!1}),t.show&&s.modal("show"),s},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},g.hideAll=function(){return e(".bootbox").modal("hide"),g};var v={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},zh_cn:{OK:"确认",CANCEL:"取消",CONFIRM:"确认"},zh_tw:{OK:"確認",CANCEL:"取消",CONFIRM:"確認"}};return g.addLocale=function(t,i){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),v[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},g},g.removeLocale=function(t){return delete v[t],g},g.setLocale=function(t){return g.setDefaults("locale",t)},g.init=function(i){return t(i||e)},g}),function(t,e){"use strict";function i(t,i,s,o){return e.abs((s-t)*(o-i))}function s(t,e,i,s,o,n){return t>=i&&o>=t&&e>=s&&n>=e}function o(t,o,n,a,r,l,h,c){var d=e.max(t,r),u=e.max(o,l),p=e.min(n,h),f=e.min(a,c);return s(d,u,t,o,n,a)&&s(p,f,t,o,n,a)&&s(d,u,r,l,h,c)&&s(p,f,r,l,h,c)?i(d,u,p,f):0}var n=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.draggable=this.$.hasClass("dashboard-draggable")||this.options.draggable,this.init()};n.DEFAULTS={height:360,shadowType:"normal",sensitive:!1,circleShadowSize:100,onlyRefreshBody:!0,resizable:!0,resizeMessage:!0},n.prototype.getOptions=function(e){return e=t.extend({},n.DEFAULTS,this.$.data(),e)},n.prototype.handleRemoveEvent=function(){var e=this.options.afterPanelRemoved,i=this.options.panelRemovingTip;this.$.on("click",".remove-panel",function(){var s=t(this).closest(".panel"),o=s.data("name")||s.find(".panel-heading").text().replace("\n","").replace(/(^\s*)|(\s*$)/g,""),n=s.attr("data-id");(void 0===i||confirm(i.format(o)))&&(s.parent().remove(),e&&t.isFunction(e)&&e(n))})},n.prototype.handleRefreshEvent=function(){var e=this,i=this.options.onlyRefreshBody;this.$.on("click",".refresh-panel",function(){var s=t(this).closest(".panel");e.refresh(s,i)})},n.prototype.handleDraggable=function(){var s=this.$,n=this.options,a="circle"===n.shadowType,r=n.circleShadowSize,l=r/2,h=n.afterOrdered;this.$.addClass("dashboard-draggable"),this.$.on("mousedown",".panel-actions, .drag-disabled",function(t){t.stopPropagation()});var c;this.$.on("mousedown",".panel-heading, .panel-drag-handler",function(d){function u(s){var a=T.data("mouseOffset");g=s.pageX-a.x,v=s.pageY-a.y,m=g+P,b=v+L,T.css({left:g,top:v}),S.find(".dragging-in").removeClass("dragging-in"),_=!1,w=null;var r,l=0;S.children(":not(.dragging-col)").each(function(){var a=t(this);if(a.hasClass("dragging-col-holder"))return _=!n.sensitive||100>l,!0;var h=a.children(".panel"),c=h.offset(),d=h.width(),u=h.height(),p=c.left,f=c.top;if(n.sensitive)p-=E.left,f-=E.top,r=o(g,v,m,b,p,f,p+d,f+u),r>100&&r>l&&r>e.min(i(g,v,m,b),i(p,f,p+d,f+u))/3&&(l=r,w=a);else{var y=s.pageX,x=s.pageY;if(y>p&&x>f&&p+d>y&&f+u>x)return w=a,!1}}),w&&(y&&clearTimeout(y),x=w,y=setTimeout(p,50)),s.preventDefault()}function p(){x&&(x.addClass("dragging-in"),_?z.insertAfter(x):z.insertBefore(x),s.addClass("dashboard-holding"),y=null,x=null)}function f(e){y&&clearTimeout(y);var i=C.data("order");C.parent().insertAfter(z);var o=0,n={};S.children(":not(.dragging-col-holder)").each(function(){var e=t(this).children(".panel");e.data("order",++o),n[e.data("id")||e.attr("id")]=o,e.parent().attr("data-order",o)}),i!=n[C.data("id")||C.attr("id")]&&(S.data("orders",n),h&&t.isFunction(h)&&h(n)),T.remove(),s.removeClass("dashboard-holding"),s.find(".dragging-col").removeClass("dragging-col"),s.find(".panel-dragging").removeClass("panel-dragging"),S.find(".dragging-in").removeClass("dragging-in"),s.removeClass("dashboard-dragging"),t(document).unbind("mousemove",u).unbind("mouseup",f),e.preventDefault()}var g,v,m,b,y,w,_,x,C=t(this).closest(".panel"),k=C.parent(),S=C.closest(".row"),T=C.clone().addClass("panel-dragging-shadow"),$=C.offset(),E=s.offset(),z=S.find(".dragging-col-holder"),P=C.width(),L=C.height();z.length||(z=t('<div class="dragging-col-holder"><div class="panel"></div></div>').removeClass("dragging-col").appendTo(S)),c&&z.removeClass(c),z.addClass(c=k.attr("class")),z.insertBefore(k).find(".panel").replaceWith(C.clone().addClass("panel-dragging panel-dragging-holder")),s.addClass("dashboard-dragging"),C.addClass("panel-dragging").parent().addClass("dragging-col"),T.css({left:$.left-E.left,top:$.top-E.top,width:P,height:L}).appendTo(s).data("mouseOffset",{x:d.pageX-$.left+E.left,y:d.pageY-$.top+E.top}),a&&(T.addClass("circle"),setTimeout(function(){T.css({left:d.pageX-E.left-l,top:d.pageY-E.top-l,width:r,height:r}).data("mouseOffset",{x:E.left+l,y:E.top+l})},100)),t(document).bind("mousemove",u).bind("mouseup",f),d.preventDefault()})},n.prototype.handlePanelPadding=function(){this.$.find(".panel-body > table, .panel-body > .list-group").parent().addClass("no-padding")},n.prototype.handlePanelHeight=function(){var i=this.options.height;this.$.children(".row").each(function(){var s=t(this),o=s.find(".panel"),n=s.data("height")||i;"number"!=typeof n&&(n=0,o.each(function(){n=e.max(n,t(this).innerHeight())})),o.css("height",n)})},n.prototype.handleResizeEvent=function(){var i=this.options.onResize,s=this.options.resizeMessage;this.$.on("mousedown",".resize-handle",function(o){var n=t(this).parent().addClass("resizing"),a=n.closest(".row"),r=o.pageX,l=n.width(),h=a.width(),c=e.round(12*l/h),d=c;n.attr("data-grid",c);var u=function(i){var o=i.pageX,a=e.max(1,e.min(12,e.round(12*(l+(o-r))/h)));d!=a&&(n.attr("data-grid",a).css("width",100*a/12+"%"),s&&t.zui.messager&&t.zui.messager.show(e.round(100*a/12)+"% ("+a+"/12)",{scale:!1,placement:"center",icon:"resize-h",fade:!1,close:!1}),d=a),i.preventDefault(),i.stopPropagation()},p=function(o){t.zui.messager&&t.zui.messager.hide(),n.removeClass("resizing");var a=n.attr("data-grid");if(c!=a&&t.isFunction(i)){var r=function(){n.attr("data-grid",c).css("width",null)},l=i({element:n,old:c,grid:a,revert:r});l===!1?r():l!==!0&&s&&t.zui.messager&&t.zui.messager.success(e.round(100*a/12)+"% ("+a+"/12)",{placement:"center",time:1e3,close:!1})}t("body").off("mousemove.resize",u).off("mouseup.resize",p),o.preventDefault(),o.stopPropagation()};t("body").on("mousemove.resize",u).on("mouseup.resize",p),o.preventDefault(),o.stopPropagation()}).children(".row").children(":not(.dragging-col-holder)").append('<div class="resize-handle"><i class="icon icon-resize-h"></i></div>')},n.prototype.refresh=function(e,i){var s=this.options.afterRefresh;e=t(e);var o=e.data("url");o&&(e.addClass("panel-loading").find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").addClass("icon-spin"),t.ajax({url:o,dataType:"html"}).done(function(o){var n=t(o);n.hasClass("panel")?e.empty().append(n.children()):i?e.find(".panel-body").empty().html(o):e.html(o),t.isFunction(s)&&s.call(this,{result:!0,data:o})}).fail(function(){e.addClass("panel-error"),t.isFunction(s)&&s.call(this,{result:!1})}).always(function(){e.removeClass("panel-loading"),e.find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").removeClass("icon-spin")}))},n.prototype.init=function(){var e=this.options,i=this;if(e.data){var s=t('<div class="row"/>');t.each(e.data,function(e,i){var o=t('<div class="col-sm-'+(i.colWidth||4)+'"/>',i.colAttrs),n=t('<div class="panel" data-id="'+(i.id||t.zui.uuid())+'"/>',i.panelAttrs);if(void 0!==i.content)if(t.isFunction(i.content)){var a=i.content(n);a!==!0&&n.html(a)}else n.html(i.content);s.append(o.append(n.data("url",i.url)))}),i.$.append(s)}i.handlePanelHeight(),i.handlePanelPadding(),i.handleRemoveEvent(),i.handleRefreshEvent(),e.resizable&&i.handleResizeEvent(),i.draggable&&i.handleDraggable();var o=0;i.$.find(".panel").each(function(){var s=t(this);s.data("order",++o),s.attr("id")||s.attr("id","panel"+o),s.attr("data-id")||s.attr("data-id",o),i.refresh(s,e.onlyRefreshBody)})},t.fn.dashboard=function(e){return this.each(function(){var i=t(this),s=i.data("zui.dashboard"),o="object"==typeof e&&e;s||i.data("zui.dashboard",s=new n(this,o)),"string"==typeof e&&s[e]()})},t.fn.dashboard.Constructor=n}(jQuery,Math),function(t){"use strict";if(!t.fn.droppable)throw new Error("Droppable requires for boards");var e=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.getLang(),this.init()};e.DEFAULTS={lang:"zh-cn",langs:{"zh-cn":{append2end:"移动到末尾"},"zh-tw":{append2end:"移动到末尾"},en:{append2end:"Move to the end."}}},e.prototype.getOptions=function(i){return i=t.extend({},e.DEFAULTS,this.$.data(),i)},e.prototype.getLang=function(){var i=window.config;if(!this.options.lang){if("undefined"!=typeof i&&i.clientLang)this.options.lang=i.clientLang;else{var s=t("html").attr("lang");this.options.lang=s?s:"en"}this.options.lang=this.options.lang.replace(/-/,"_").toLowerCase()}this.lang=this.options.langs[this.options.lang]||this.options.langs[e.DEFAULTS.lang]},e.prototype.init=function(){var e=1,i=this.lang;this.$.find('.board-item:not(".disable-drop"), .board:not(".disable-drop")').each(function(){var s=t(this);s.attr("id")?s.attr("data-id",s.attr("id")):s.attr("data-id")||s.attr("data-id","board"+e++),s.hasClass("board")&&s.find(".board-list").append('<div class="board-item board-item-empty"><i class="icon-plus"></i> {append2end}</div>'.format(i)).append('<div class="board-item board-item-shadow"></div>'.format(i))}),this.bind()},e.prototype.bind=function(e){var i=this.$,s=this.options;"undefined"==typeof e&&(e=i.find('.board-item:not(".disable-drop, .board-item-shadow")')),e.droppable({before:s.before,target:'.board-item:not(".disable-drop, .board-item-shadow")',flex:!0,start:function(t){i.addClass("dragging").find(".board-item-shadow").height(t.element.outerHeight())},drag:function(t){if(i.find(".board.drop-in-empty").removeClass("drop-in-empty"),t.isIn){var e=t.target.closest(".board").addClass("drop-in"),s=e.find(".board-item-shadow"),o=t.target;i.addClass("drop-in").find(".board.drop-in").not(e).removeClass("drop-in"),s.insertBefore(o),e.toggleClass("drop-in-empty",o.hasClass("board-item-empty"))}},drop:function(e){if(e.isNew){var i,o="drop";s.hasOwnProperty(o)&&t.isFunction(s[o])&&(i=s[o](e)),i!==!1&&e.element.insertBefore(e.target)}},finish:function(){i.removeClass("dragging").removeClass("drop-in").find(".board.drop-in").removeClass("drop-in")}})},t.fn.boards=function(i){return this.each(function(){var s=t(this),o=s.data("zui.boards"),n="object"==typeof i&&i;o||s.data("zui.boards",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.boards.Constructor=e,t(function(){t('[data-toggle="boards"]').boards()})}(jQuery),function(t){"use strict";var e="zui.datatable",i=(t.zui.store,function(i,s){this.name=e,this.$=t(i),this.isTable="TABLE"===this.$[0].tagName,this.firstShow=!0,this.isTable?(this.$table=this.$,this.id="datatable-"+(this.$.attr("id")||t.zui.uuid())):(this.$datatable=this.$.addClass("datatable"),this.$.attr("id")?this.id=this.$.attr("id"):(this.id="datatable-"+t.zui.uuid(),this.$.attr("id",this.id))),this.getOptions(s),this.load(),this.callEvent("ready")});i.DEFAULTS={checkable:!1,checkByClickRow:!0,checkedClass:"active",checkboxName:null,selectable:!0,sortable:!1,storage:!0,fixedHeader:!0,fixedHeaderOffset:0,fixedLeftWidth:"30%",fixedRightWidth:"30%",flexHeadDrag:!0,scrollPos:"in",rowHover:!0,colHover:!0,hoverClass:"hover",colHoverClass:"col-hover",mergeRows:!1,minColWidth:20,minFixedLeftWidth:200,minFixedRightWidth:200,minFlexAreaWidth:200},i.prototype.getOptions=function(e){var s=this.$;e=t.extend({},i.DEFAULTS,this.$.data(),e),e.tableClass=e.tableClass||"",e.tableClass=" "+e.tableClass+" table-datatable",t.each(["bordered","condensed","striped","condensed","fixed"],function(t,i){i="table-"+i,s.hasClass(i)&&(e.tableClass+=" "+i)}),(s.hasClass("table-hover")||e.rowHover)&&(e.tableClass+=" table-hover"),e.checkable&&t.fn.selectable||(e.selectable=!1),this.options=e},i.prototype.load=function(i){var s,o=this.options;if(t.isFunction(i))i=i(this.data,this),i.keepSort=!0;else if(t.isPlainObject(i))this.data=i;else if("string"==typeof i){var n=t(i);n.length&&(this.$table=n.first(),this.$table.data(e,this),this.isTable=!0),i=null}else i=o.data;if(!i){if(!this.isTable)throw new Error("No data avaliable!");i={cols:[],rows:[]},s=i.cols;var a,r,l,h,c,d,u=i.rows,p=this.$table;p.find("thead > tr:first").children("th").each(function(){r=t(this),s.push(t.extend({text:r.html(),flex:r.hasClass("flex-col"),width:"auto",cssClass:r.attr("class"),css:r.attr("style"),type:"string",ignore:r.hasClass("ignore"),sort:!r.hasClass("sort-disabled"),mergeRows:r.attr("merge-rows")},r.data()))}),p.find("tbody > tr").each(function(){l=t(this),c=t.extend({data:[],checked:!1,cssClass:l.attr("class"),css:l.attr("style"),id:l.attr("id")},l.data()),l.children("td").each(function(){if(h=t(this),d=h.attr("colspan")||1,c.data.push(t.extend({cssClass:h.attr("class"),css:h.attr("style"),text:h.html(),colSpan:d,title:h.attr("title")},h.data())),d>1)for(a=1;d>a;a++)c.data.push({empty:!0})}),u.push(c)});var f=p.find("tfoot");f.length&&(i.footer=t('<table class="table'+o.tableClass+'"></table>').append(f))}i.flexStart=-1,i.flexEnd=-1,s=i.cols,i.colsLength=s.length;for(var a=0;a<i.colsLength;++a){var g=s[a];g.flex&&(i.flexStart<0&&(i.flexStart=a),i.flexEnd=a)}0===i.flexStart&&i.flexEnd===i.colsLength&&(i.flexStart=-1,i.flexEnd=-1),i.flexArea=i.flexStart>=0,i.fixedRight=i.flexEnd>=0&&i.flexEnd<i.colsLength-1,i.fixedLeft=i.flexStart>0,i.flexStart<0&&i.flexEnd<0&&(i.fixedLeft=!0,i.flexStart=i.colsLength,i.flexEnd=i.colsLength),this.data=i,this.callEvent("afterLoad",{data:i}),this.render()},i.prototype.render=function(){var i,s,o,n,a=this,r=a.$datatable||(a.isTable?t('<div class="datatable" id="'+a.id+'"/>'):a.$datatable),l=a.options,h=a.data,c=a.data.cols,d=a.data.rows,u=l.checkable,p='<div class="datatable-rows-span datatable-span"><div class="datatable-wrapper"><table class="table"></table></div></div>',f='<div class="datatable-head-span datatable-span"><div class="datatable-wrapper"><table class="table"><thead></thead></table></div></div>';r.children(".datatable-head, .datatable-rows, .scroll-wrapper").remove(),r.toggleClass("sortable",l.sortable);var g,v,m,b=t('<div class="datatable-head"/>');for(i=t("<tr/>"),o=t("<tr/>"),n=t("<tr/>"),s=0;s<c.length;s++)m=c[s],g=s<h.flexStart?i:s>=h.flexStart&&s<=h.flexEnd?n:o,0===s&&u&&g.append('<th data-index="check" class="check-all check-btn"><i class="icon-check-empty"></i></th>'),m.ignore||(v=t("<th/>"),v.toggleClass("sort-down","down"===m.sort).toggleClass("sort-up","up"===m.sort).toggleClass("sort-disabled",m.sort===!1),v.addClass(m.cssClass).addClass(m.colClass).html(m.text).attr({"data-index":s,"data-type":m.type,style:m.css}),g.append(v));var y;h.fixedLeft&&(y=t(f),y.addClass("fixed-left").find("table").addClass(l.tableClass).find("thead").append(i),b.append(y)),h.flexArea&&(y=t(f),y.addClass("flexarea").find(".datatable-wrapper").append('<div class="scrolled-shadow scrolled-in-shadow"></div><div class="scrolled-shadow scrolled-out-shadow"></div>').find("table").addClass(l.tableClass).find("thead").append(n),b.append(y)),h.fixedRight&&(y=t(f),y.addClass("fixed-right").find("table").addClass(l.tableClass).find("thead").append(o),b.append(y)),r.append(b);var w,_,x,C,k,S,T,$,E=t('<div class="datatable-rows">'),z=d.length;i=t("<tbody/>"),o=t("<tbody/>"),n=t("<tbody/>");for(var P=0;z>P;++P){for(S=d[P],"undefined"==typeof S.id&&(S.id=P),S.index=P,w=t("<tr/>"),w.addClass(S.cssClass).toggleClass(l.checkedClass,S.checked).attr({"data-index":P,"data-id":S.id}),_=w.clone(),x=w.clone(),$=S.data.length,s=0;$>s;++s)T=S.data[s],s>0&&T.empty||(g=s<h.flexStart?w:s>=h.flexStart&&s<=h.flexEnd?_:x,0===s&&u&&(k=t('<td data-index="check" class="check-row check-btn"><i class="icon-check-empty"></i></td>'),l.checkboxName&&k.append('<input class="hide" type="checkbox" name="'+l.checkboxName+'" value="'+S.id+'">'),g.append(k)),c[s].ignore||(t.isPlainObject(T)?(T.row=P,T.index=s):T={text:T,row:P,index:s},S.data[s]=T,C=t("<td/>"),C.html(T.text).addClass(T.cssClass).addClass(c[s].colClass).attr("colspan",T.colSpan).attr({"data-row":P,"data-index":s,"data-flex":!1,"data-type":c[s].type,style:T.css,title:T.title||""}),g.append(C)));i.append(w),n.append(_),o.append(x)}var L;h.fixedLeft&&(L=t(p),L.addClass("fixed-left").find("table").addClass(l.tableClass).append(i),E.append(L)),h.flexArea&&(L=t(p),L.addClass("flexarea").find(".datatable-wrapper").append('<div class="scrolled-shadow scrolled-in-shadow"></div><div class="scrolled-shadow scrolled-out-shadow"></div>').find("table").addClass(l.tableClass).append(n),E.append(L)),h.fixedRight&&(L=t(p),L.addClass("fixed-right").find("table").addClass(l.tableClass).append(o),E.append(L)),r.append(E),h.flexArea&&r.append('<div class="scroll-wrapper"><div class="scroll-slide scroll-pos-'+l.scrollPos+'"><div class="bar"></div></div></div>');var D=r.children(".datatable-footer").detach();h.footer?(r.append(t('<div class="datatable-footer"/>').append(h.footer)),h.footer=null):D.length&&r.append(D),a.$datatable=r.data(e,a),a.isTable&&a.firstShow&&(a.$table.attr("data-datatable-id",this.id).hide().after(r),a.firstShow=!1),a.bindEvents(),a.refreshSize(),a.callEvent("render")},i.prototype.bindEvents=function(){var e=this,i=this.data,s=this.options,o=t.zui.store,n=this.$datatable,a=e.$dataSpans=n.children(".datatable-head, .datatable-rows").find(".datatable-span"),r=e.$rowsSpans=n.children(".datatable-rows").children(".datatable-rows-span"),l=e.$headSpans=n.children(".datatable-head").children(".datatable-head-span"),h=e.$cells=a.find("td, th"),c=e.$dataCells=h.filter("td");e.$headCells=h.filter("th");var d=e.$rows=e.$rowsSpans.find(".table > tbody > tr");if(s.rowHover){var u=s.hoverClass;r.on("mouseenter","td",function(){c.filter("."+u).removeClass(u),d.filter("."+u).removeClass(u),d.filter('[data-index="'+t(this).addClass(u).closest("tr").data("index")+'"]').addClass(u)}).on("mouseleave","td",function(){c.filter("."+u).removeClass(u),d.filter("."+u).removeClass(u)})}if(s.colHover){var p=s.colHoverClass;l.on("mouseenter","th",function(){h.filter("."+p).removeClass(p),h.filter('[data-index="'+t(this).data("index")+'"]').addClass(p)}).on("mouseleave","th",function(){h.filter("."+p).removeClass(p)})}if(i.flexArea){var f,g,v,m,b,y,w,_=n.find(".scroll-slide"),x=n.find(".datatable-span.flexarea"),C=n.find(".datatable-span.fixed-left"),k=n.find(".datatable-span.flexarea .table"),S=_.children(".bar"),T=e.id+"_scrollOffset";e.width=n.width(),n.resize(function(){e.width=n.width()});var $=function(t,e){b=Math.max(0,Math.min(f-g,t)),e||n.addClass("scrolling"),S.css("left",b),w=0-Math.floor((v-f)*b/(f-g)),k.css("left",w),m=b,n.toggleClass("scrolled-in",b>2).toggleClass("scrolled-out",f-g-2>b),s.storage&&o.pageSet(T,b)},E=function(){f=x.width(),_.width(f).css("left",C.width()),v=k.width(),g=Math.floor(f*f/v),S.css("width",g),k.css("min-width",f),n.toggleClass("show-scroll-slide",v>f),y||f===g||(y=!0,$(o.pageGet(T,0),!0)),n.hasClass("size-changing")&&$(b,!0)};x.resize(E),s.storage&&E();var z={move:!1,stopPropagation:!0,drag:function(t){$(S.position().left+t.smallOffset.x*(t.element.hasClass("bar")?1:-1))},finish:function(){n.removeClass("scrolling")}};S.draggable(z),s.flexHeadDrag&&n.find(".datatable-head-span.flexarea").draggable(z),_.mousedown(function(t){var e=t.pageX-_.offset().left;$(e-g/2)})}if(s.checkable){var P,L=e.id+"_checkedStatus",D=s.checkedClass,A=function(){var n=r.first().find(".table > tbody > tr"),a=n.filter("."+D);n.find(".check-row input:checkbox").prop("checked",!1);var h={checkedAll:n.length===a.length&&a.length>0,checks:a.map(function(){return P=t(this).data("id"),s.checkboxName&&t(this).find(".check-row input:checkbox").prop("checked",!0),P}).toArray()};t.each(i.rows,function(e,i){i.checked=t.inArray(i.id,h.checks)>-1}),l.find(".check-all").toggleClass("checked",h.checkedAll),s.storage&&o.pageSet(L,h),e.callEvent("checksChanged",{checks:h})},M=function(e,i){d.filter('[data-index="'+t(e).closest("tr").data("index")+'"]').toggleClass(D,i)},F="click.zui.datatable.check";if(s.selectable?this.$datatable.selectable({selector:".datatable-rows tr",trigger:".datatable-rows",start:function(e){var i=t(e.target).closest(".check-row, .check-btn");return i.length?(i.is(".check-row")&&(M(i),A()),!1):void 0},rangeFunc:function(t,e){return Math.max(t.top,e.top)<Math.min(t.top+t.height,e.top+e.height)},select:function(t){M(t.target,!0)},unselect:function(t){M(t.target,!1)},finish:function(t){A()}}):this.$rowsSpans.off(F).on(F+"row",s.checkByClickRow?"tr":".check-row",function(){M(this),A()}),this.$datatable.off(F).on("click.zui.datatable.check",".check-all",function(){d.toggleClass(D,t(this).toggleClass("checked").hasClass("checked")),A()}).on(F+".none",".check-none",function(){d.toggleClass(D,!1),A()}).on(F+".inverse",".check-inverse",function(){d.toggleClass(D),A()}),s.storage){var I=o.pageGet(L);I&&(l.find(".check-all").toggleClass("checked",I.checkedAll),I.checkedAll?d.addClass(D):(d.removeClass(D),t.each(I.checks,function(t,e){d.filter('[data-id="'+e+'"]').addClass(D)})),I.checks.length&&A())}}if(s.fixedHeader){var O,R,j,W=n.children(".datatable-head"),N=s.fixedHeaderOffset||t(".navbar.navbar-fixed-top").height()||0,H=function(){O=n.offset().top,j=t(window).scrollTop(),R=n.height(),n.toggleClass("head-fixed",j+N>O&&O+R>j+N),n.hasClass("head-fixed")?W.css({width:n.width(),top:N}):W.attr("style","")};t(window).scroll(H),H()}s.sortable?(l.on("click","th:not(.sort-disabled, .check-btn)",function(){n.hasClass("size-changing")||e.sortTable(t(this))}),s.storage&&e.sortTable()):s.mergeRows&&this.mergeRows()},i.prototype.mergeRows=function(){for(var e=this.$rowsSpans.find(".table > tbody > tr > td"),i=this.data.cols,s=0;s<i.length;s++){var o=i[s];if(o.mergeRows){var n=e.filter('[data-index="'+s+'"]');if(n.length>1){var a,r;n.each(function(){var e=t(this);a&&e.html()===a.html()?(r=a.attr("rowspan")||1,"number"!=typeof r&&(r=parseInt(r),isNaN(r)&&(r=1)),a.attr("rowspan",r+1).css("vertical-align","middle"),e.remove()):a=e})}}}},i.prototype.sortTable=function(e){var i=t.zui.store,s=this.options,o=this.id+"_datatableSorter",n=s.storage?i.pageGet(o):null;if(e||(e=n?this.$headCells.filter('[data-index="'+n.index+'"]').addClass("sort-"+n.type):this.$headCells.filter(".sort-up, .sort-down").first()),e.length){var a,r,l,h=this.data,c=h.cols,d=h.rows,u=this.$headCells;a=!e.hasClass("sort-up"),h.keepSort&&(a=!a),h.keepSort=null,u.removeClass("sort-up sort-down"),e.addClass(a?"sort-up":"sort-down"),l=e.data("index"),t.each(c,function(t,e){t==l||"up"!==e.sort&&"down"!==e.sort?t==l&&(e.sort=a?"up":"down",r=e.type):e.sort=!0});var p,f,g,v=this.$dataCells.filter('[data-index="'+l+'"]');d.sort(function(t,e){return t=t.data[l],e=e.data[l],p=v.filter('[data-row="'+t.row+'"]').text(),f=v.filter('[data-row="'+e.row+'"]').text(),"number"===r?(p=parseFloat(p),f=parseFloat(f)):"date"===r?(p=Date.parse(p),f=Date.parse(f)):(p=p.toLowerCase(),f=f.toLowerCase()),g=p>f?1:f>p?-1:0,a&&(g=-1*g),g});var m,b,y,w=this.$rows,_=[];t.each(d,function(e,i){m=w.filter('[data-index="'+i.index+'"]'),m.each(function(e){y=t(this),b=_[e],b?b.after(y):y.parent().prepend(y),_[e]=y})}),n={index:l,type:a?"up":"down"},s.storage&&i.pageSet(o,n),this.callEvent("sort",{sorter:n})}},i.prototype.refreshSize=function(){var e,i=this.$datatable,s=this.options,o=this.data.rows,n=this.data.cols;i.find(".datatable-span.fixed-left").css("width",s.fixedLeftWidth),i.find(".datatable-span.fixed-right").css("width",s.fixedRightWidth);var a=function(e){var i,s,o=0;return e.css("height","auto"),e.each(function(){i=t(this),s=i.attr("rowspan"),s&&1!=s||(o=Math.max(o,i.outerHeight()))}),o},r=this.$dataCells,l=this.$cells,h=this.$headCells;for(e=0;e<n.length;++e)l.filter('[data-index="'+e+'"]').css("width",n[e].width);var c=a(h);h.css("min-height",c).css("height",c);var d;for(e=0;e<o.length;++e){d=r.filter('[data-row="'+e+'"]');var u=a(d);d.css("min-height",u).css("height",u)}},i.prototype.callEvent=function(t,e){var i=this.$.callEvent(t+"."+this.name,e,this).result;return!(void 0!==i&&!i)},t.fn.datatable=function(s,o){return this.each(function(){var n=t(this),a=n.data(e),r="object"==typeof s&&s;a||n.data(e,a=new i(this,r)),"string"==typeof s&&("load"!==s||!t.isPlainObject(o)||void 0!==o.keepSort&&null!==o.keepSort||(o.keepSort=!0),a[s](o))})},t.fn.datatable.Constructor=i}(jQuery),function(t,e,i){"use strict";function s(t){if(t=t.toLowerCase(),t&&h.test(t)){var e;if(4===t.length){var i="#";for(e=1;4>e;e+=1)i+=t.slice(e,e+1).concat(t.slice(e,e+1));t=i}var s=[];for(e=1;7>e;e+=2)s.push(parseInt("0x"+t.slice(e,e+2)));return{r:s[0],g:s[1],b:s[2],a:1}}throw new Error("function hexToRgb: Wrong hex string! (hex: "+t+")")}function o(e){return"string"==typeof e&&("transparent"===e.toLowerCase()||c[e.toLowerCase()]||h.test(t.trim(e.toLowerCase())))}function n(t){function e(t){return t=0>t?t+1:t>1?t-1:t,1>6*t?h+(a-h)*t*6:1>2*t?a:2>3*t?h+(a-h)*(2/3-t)*6:h}var i=t.h,s=t.s,o=t.l,n=t.a;i=l(i)%360/360,s=r(l(s)),o=r(l(o)),n=r(l(n));var a=.5>=o?o*(s+1):o+s-o*s,h=2*o-a,c={r:255*e(i+1/3),g:255*e(i),b:255*e(i-1/3),a:n};return c}function a(t,i,s){return void 0===s&&(s=0),void 0===i&&(i=255),e.min(e.max(t,s),i)}function r(t,e){return a(t,e)}function l(t){return"number"==typeof t?t:parseFloat(t)}var h=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",
indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d=function(t,e,i,o){if(this.r=0,this.g=0,this.b=0,this.a=1,void 0!==o&&(this.a=r(l(o),1)),void 0!==t&&void 0!==e&&void 0!==i)this.r=parseInt(r(l(t),255)),this.g=parseInt(r(l(e),255)),this.b=parseInt(r(l(i),255));else if(void 0!==t){var a=typeof t;if("string"==a)t=t.toLowerCase(),"transparent"===t?this.a=0:c[t]?this.rgb(s(c[t])):this.rgb(s(t));else if("number"==a&&void 0===e)this.r=parseInt(r(t,255)),this.g=this.r,this.b=this.r;else if("object"==a&&t.hasOwnProperty("r"))this.r=parseInt(r(l(t.r),255)),t.hasOwnProperty("g")&&(this.g=parseInt(r(l(t.g),255))),t.hasOwnProperty("b")&&(this.b=parseInt(r(l(t.b),255))),t.hasOwnProperty("a")&&(this.a=r(l(t.a),1));else if("object"==a&&t.hasOwnProperty("h")){var h={h:r(l(t.h),360),s:1,l:1,a:1};t.hasOwnProperty("s")&&(h.s=r(l(t.s),1)),t.hasOwnProperty("l")&&(h.l=r(l(t.l),1)),t.hasOwnProperty("a")&&(h.a=r(l(t.a),1)),this.rgb(n(h))}}};d.prototype.rgb=function(t){if(void 0!==t){if("object"==typeof t)t.hasOwnProperty("r")&&(this.r=parseInt(r(l(t.r),255))),t.hasOwnProperty("g")&&(this.g=parseInt(r(l(t.g),255))),t.hasOwnProperty("b")&&(this.b=parseInt(r(l(t.b),255))),t.hasOwnProperty("a")&&(this.a=r(l(t.a),1));else{var e=parseInt(l(t));this.r=e,this.g=e,this.b=e}return this}return{r:this.r,g:this.g,b:this.b,a:this.a}},d.prototype.hue=function(t){var e=this.toHsl();return void 0===t?e.h:(e.h=r(l(t),360),this.rgb(n(e)),this)},d.prototype.darken=function(t){var e=this.toHsl();return e.l-=t/100,e.l=r(e.l,1),this.rgb(n(e)),this},d.prototype.clone=function(){return new d(this.r,this.g,this.b,this.a)},d.prototype.lighten=function(t){return this.darken(-t)},d.prototype.fade=function(t){return this.a=r(t/100,1),this},d.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%360;return e.h=0>i?360+i:i,this.rgb(n(e)),this},d.prototype.toHsl=function(){var t,i,s=this.r/255,o=this.g/255,n=this.b/255,a=this.a,r=e.max(s,o,n),l=e.min(s,o,n),h=(r+l)/2,c=r-l;if(r===l)t=i=0;else{switch(i=h>.5?c/(2-r-l):c/(r+l),r){case s:t=(o-n)/c+(n>o?6:0);break;case o:t=(n-s)/c+2;break;case n:t=(s-o)/c+4}t/=6}return{h:360*t,s:i,l:h,a:a}},d.prototype.luma=function(){var t=this.r/255,i=this.g/255,s=this.b/255;return t=.03928>=t?t/12.92:e.pow((t+.055)/1.055,2.4),i=.03928>=i?i/12.92:e.pow((i+.055)/1.055,2.4),s=.03928>=s?s/12.92:e.pow((s+.055)/1.055,2.4),.2126*t+.7152*i+.0722*s},d.prototype.saturate=function(t){var e=this.toHsl();return e.s+=t/100,e.s=r(e.s),this.rgb(n(e)),this},d.prototype.desaturate=function(t){return this.saturate(-t)},d.prototype.contrast=function(t,e,i){if(e="undefined"==typeof e?new d(255,255,255,1):new d(e),t="undefined"==typeof t?new d(0,0,0,1):new d(t),this.a<.5)return t;if(i=void 0===i?.43:l(i),t.luma()>e.luma()){var s=e;e=t,t=s}return this.luma()<i?e:t},d.prototype.hexStr=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i},d.prototype.toCssStr=function(){return this.a>0?this.a<1?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":this.hexStr():"transparent"},d.isColor=o,t.zui({Color:d})}(jQuery,Math,window),function(t,e){"use strict";var i="zui.calendar",s="number",o="string",n="undefined",a={primary:1,green:2,red:3,blue:4,yellow:5,brown:6,purple:7},r=function(t,e){e=e||1;for(var i=t.clone();i.getDay()!=e;)i.addDays(-1);return i.clearTime(),i},l=function(t){var e=t.clone();return e.setDate(1),e},h=function(t,e){var i=t.clone().clearTime(),s=e.clone().clearTime();return Math.round((s.getTime()-i.getTime())/Date.ONEDAY_TICKS)+1},c=function(t,e,i){for(var s=t.clone(),o=0;e>=s;)i(s.clone(),o++),s.addDays(1)},d=function(e,s){if(this.name=i,this.$=t(e),this.id=this.$.attr("id")||i+t.zui.uuid(),this.$.attr("id",this.id),this.storeName=i+"."+this.id,this.getOptions(s),this.getLang(),this.data=this.options.data,this.addCalendars(this.data.calendars),this.addEvents(this.data.events),this.sortEvents(),this.storeData=t.zui.store.pageGet(this.storeName,{date:"today",view:"month"}),this.date=this.options.startDate||"today",this.view=this.options.startView||"month",this.$.toggleClass("limit-event-title",s.limitEventTitle),this.options.withHeader){var o=this.$.children(".calender-header");o.length||(o=t('<header><div class="btn-toolbar"><div class="btn-group"><button type="button" class="btn btn-today">{today}</button></div><div class="btn-group"><button type="button" class="btn btn-prev"><i class="icon-chevron-left"></i></button><button type="button" class="btn btn-next"><i class="icon-chevron-right"></i></button></div><div class="btn-group"><span class="calendar-caption"></span></div></div></header>'.format(this.lang)),this.$.append(o)),this.$caption=o.find(".calendar-caption"),this.$todayBtn=o.find(".btn-today"),this.$header=o}var n=this.$.children(".calendar-views");n.length||(n=t('<div class="calendar-views"></div>'),this.$.append(n)),this.$views=n,this.$monthView=n.children(".calendar-view.month"),this.display(),this.bindEvents()};d.DEFAULTS={langs:{zh_cn:{weekNames:["周一","周二","周三","周四","周五","周六","周日"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",year:"{0}年",month:"{0}月",yearMonth:"{0}年{1}月"},zh_tw:{weekNames:["週一","週二","週三","週四","週五","週六","週日"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",year:"{0}年",month:"{0}月",yearMonth:"{0}年{1}月"},en:{weekNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],today:"Today",year:"{0}",month:"{0}",yearMonth:"{2}, {0}"}},data:{calendars:{defaultCal:{color:"#229F24"}},events:[]},limitEventTitle:!0,storage:!0,withHeader:!0,dragThenDrop:!0},d.prototype.sortEvents=function(){var e=this.events;t.isArray(e)||(e=[]),e.sort(function(t,e){return t.start>e.start?1:t.start<e.start?-1:0})},d.prototype.bindEvents=function(){var e=this.$,i=this;e.on("click",".btn-today",function(){i.date=new Date,i.display(),i.callEvent("clickTodayBtn")}).on("click",".btn-next",function(){"month"===i.view&&i.date.addMonths(1),i.display(),i.callEvent("clickNextBtn")}).on("click",".btn-prev",function(){"month"===i.view&&i.date.addMonths(-1),i.display(),i.callEvent("clickPrevBtn")}).on("click",".event",function(e){i.callEvent("clickEvent",{element:this,event:t(this).data("event"),events:i.events}),e.stopPropagation()}).on("click",".cell-day",function(){i.callEvent("clickCell",{element:this,view:i.view,date:new Date(t(this).children(".day").attr("data-date")),events:i.events})})},d.prototype.addCalendars=function(e,i){var s=this;s.calendars||(s.calendars={}),t.isPlainObject(e)&&(e=[e]),t.each(e,function(e,o){if(i||s.callEvent("beforeAddCalendars",{newCalendar:o,data:s.data})){if(o.color||(o.color="primary"),a[o.color.toLowerCase()])o.presetColor=!0;else{var n=new t.zui.Color(o.color);o.textColor=n.contrast().hexStr()}s.calendars[o.name]=o}}),i||(s.display(),s.callEvent("addCalendars",{newCalendars:e,data:s.data}))},d.prototype.addEvents=function(e,i){var a=this;a.events||(a.events=[]),t.isPlainObject(e)&&(e=[e]),t.each(e,function(e,r){if(i||a.callEvent("beforeAddEvent",{newEvent:r,data:a.data})){var l=typeof r.start,c=typeof r.end;l!==s&&l!==o||(r.start=new Date(r.start)),c!==s&&c!==o||(r.end=new Date(r.end)),typeof r.id===n&&(r.id=t.zui.uuid()),r.allDay&&(r.start.clearTime(),r.end.clearTime().addDays(1).addMilliseconds(-1)),r.days=h(r.start,r.end),a.events.push(r)}}),i||(a.sortEvents(),a.display(),a.callEvent("addEvents",{newEvents:e,data:a.data}))},d.prototype.getEvent=function(t){for(var e=this.events,i=0;i<e.length;i++)if(e[i].id==t)return e[i];return null},d.prototype.updateEvents=function(e){var i={data:this.data,changes:[]},s=this;t.isPlainObject(e)&&(e=[e]);var n,a,r;t.each(e,function(e,l){n=l.event,a=l.changes,r={event:n,changes:[]},typeof n===o&&(n=s.getEvent(n)),n&&(t.isPlainObject(a)&&(a=[a]),t.each(l,function(e,i){s.callEvent("beforeChange",{event:n,change:i.change,to:i.to,from:n[i.change]})&&(r.changes.push(t.extend(!0,{},i,{from:n[i.change]})),n[i.change]=i.to)})),i.changes.push(r)}),s.sortEvents(),s.display(),s.callEvent("change",i)},d.prototype.removeEvents=function(e){t.isArray(e)||(e=[e]);var i,s,o,n=this.events,a=this,r=[];t.each(e,function(e,l){i=t.isPlainObject(l)?l.id:l,o=-1;for(var h=0;h<n.length;h++)if(n[h].id==i){o=h,s=n[h];break}o>=0&&a.callEvent("beforeRemoveEvent",{event:s,eventId:i,data:a.data})&&(n.splice(o,1),r.push(s))}),a.sortEvents(),a.display(),a.callEvent("removeEvents",{removedEvents:r,data:a.data})},d.prototype.getOptions=function(e){this.options=t.extend({},d.DEFAULTS,this.$.data(),e)},d.prototype.getLang=function(){this.lang=this.options.langs[this.options.lang||(t.zui&&t.zui.clientLang?t.zui.clientLang():"zh-cn")]},d.prototype.display=function(e,i){var s=this,a=typeof e,r=typeof i;a===n?e=s.view:s.view=e,r===n?i=s.date:s.date=i,"today"===i&&(i=new Date,s.date=i),typeof i===o&&(i=new Date(i),s.date=i),s.options.storage&&t.zui.store.pageSet(s.storeName,{date:i,view:e});var l={view:e,date:i};if(s.callEvent("beforeDisplay",l)){switch(e){case"month":s.displayMonth(i)}s.callEvent("display",l)}},d.prototype.displayMonth=function(e){var i=this;e=e||i.date;var s,o=i.options,n=i,a=i.lang,h=i.$views,c=i.$,d=n.$monthView;if(!d.length){d=t('<div class="calendar-view month"><table class="table table-bordered"><thead><tr class="week-head"></tr></thead><tbody class="month-days"></tbody></table></div>');var u,p=d.find(".week-head"),f=d.find(".month-days");for(s=0;7>s;s++)p.append("<th>"+a.weekNames[s]+"</th>");for(s=0;6>s;s++){u=t('<tr class="week-days"></tr>');for(var g=0;7>g;g++)u.append('<td class="cell-day"><div class="day"><div class="heading"><span class="month"></span> <span class="number"></span></div><div class="content"><div class="events"></div></div></div></td>');f.append(u)}h.append(d),n.$monthView=d}var v,m,b,y,w,_,x,C,k,S,T,$=d.find(".week-days"),E=d.find(".day"),z=l(e),P=new Date,L=r(z),D=e.getFullYear(),A=e.getMonth(),M=P.getMonth(),F=P.getFullYear(),I=P.getDate(),O=L.clone().addDays(42).addMilliseconds(-1),R=L.clone().addDays(1).addMilliseconds(-1),j=i.getEvents(L,O),W=i.calendars;$.each(function(e){v=t(this),v.find(".day").each(function(i){C=0===i,m=t(this),b=m.closest(".cell-day"),y=R.getFullYear(),w=R.getDate(),_=R.getMonth(),x=R.toDateString(),m.attr("data-date",x),m.find(".heading > .number").text(w),m.find(".heading > .month").toggle(0===e&&0===i||1===w).text((0===_&&1===w?a.year.format(y)+" ":"")+a.monthNames[_]),b.toggleClass("current-month",_===A),b.toggleClass("current",w===I&&_===M&&y===F),b.toggleClass("past",P>R),b.toggleClass("future",R>P),T=m.find(".events").empty();var o=j[x];if(o){var n,r=o.events,l=0;for(s=0;s<=o.maxPos;++s)n=r[s],!n||n.placeholder&&!C?l++:(k=t('<div data-id="'+n.id+'" class="event" title="'+n.desc+'"><span class="time">'+n.start.format("hh:mm")+'</span> <span class="title">'+n.title+"</span></div>"),k.find(".time").toggle(!n.allDay),k.data("event",n),k.attr("data-days",n.days),n.calendar&&(S=W[n.calendar],S&&(S.presetColor?k.addClass("color-"+S.color):k.css({"background-color":S.color,color:S.textColor}))),n.days&&(n.placeholder?C&&k.css("width",Math.min(7,n.days-n.holderPos)+"00%"):k.css("width",Math.min(7-i,n.days)+"00%")),l>0&&(k.css("margin-top",22*l),l=0),T.append(k))}R.addDays(1)})}),o.withHeader&&(i.$caption.text(a.yearMonth.format(D,A+1,a.monthNames[A])),i.$todayBtn.toggleClass("disabled",A===M&&D===F)),o.dragThenDrop&&d.find(".event").droppable({target:E,container:d,flex:!0,start:function(){c.addClass("event-dragging")},drop:function(t){var e=t.element.data("event"),s=t.target.attr("data-date"),o=e.start.clone();if(o.toDateString()!=s&&(s=new Date(s),s.setHours(o.getHours()),s.setMinutes(o.getMinutes()),s.setSeconds(o.getSeconds()),n.callEvent("beforeChange",{event:e,change:"start",to:s}))){var a=e.end.clone();e.end.addMilliseconds(e.end.getTime()-o.getTime()),e.start=s,i.display(),n.callEvent("change",{data:n.data,changes:[{event:e,changes:[{change:"start",from:o,to:e.start},{change:"end",from:a,to:e.end}]}]})}},finish:function(){c.removeClass("event-dragging")}})},d.prototype.getEvents=function(e,i){var s={},o=(this.calendars,function(t,e,i){var o=t.toDateString(),n=s[o];if(n||(n={maxPos:-1,events:{}}),"undefined"==typeof i)for(var a=0;100>a;++a)if(!n.events[a]){i=a;break}return n.maxPos=Math.max(i,n.maxPos),n.events[i]=e,s[o]=n,i});return t.each(this.events,function(s,n){if(n.start>=e&&n.start<=i){var a=o(n.start,n);if(n.days>1){var r=t.extend({placeholder:!0},n);c(n.start.clone().addDays(1),n.end,function(e,i){o(e.clone(),t.extend({holderPos:i},r),a)})}}}),s},d.prototype.callEvent=function(t,e){var i=this.$.callEvent(t+"."+this.name,e,this);return!(void 0!==i.result&&!i.result)},t.fn.calendar=function(e){return this.each(function(){var s=t(this),n=s.data(i),a="object"==typeof e&&e;n||s.data(i,n=new d(this,a)),typeof e==o&&n[e]()})},t.fn.calendar.Constructor=d}(jQuery,window),function(t){function e(e){if("string"==typeof e.data){var i=e.handler,s=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],n=String.fromCharCode(e.which).toLowerCase(),a="",r={};e.altKey&&"alt"!==o&&(a+="alt+"),e.ctrlKey&&"ctrl"!==o&&(a+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(a+="meta+"),e.shiftKey&&"shift"!==o&&(a+="shift+"),o?r[a+o]=!0:(r[a+n]=!0,r[a+t.hotkeys.shiftNums[n]]=!0,"shift+"===a&&(r[t.hotkeys.shiftNums[n]]=!0));for(var l=0,h=s.length;h>l;l++)if(r[s[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t){"use strict";var e=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};e.DEFAULTS={trigger:"toggle",animate:"slide",easing:"linear",animateSpeed:"fast",events:"click",preventDefault:!0,cancelBubble:!0},e.prototype.getOptions=function(i){return i=t.extend({},e.DEFAULTS,this.$.data(),i)},e.prototype.init=function(){this.bindEvents()},e.prototype.bindEvents=function(){var e,i=this.options;if(this.bindTrigger(i),t.isArray(i.triggers))for(e in i.triggers)this.bindTrigger(t.extend({},i,i.triggers[e]));else if("string"==typeof i.triggers){var s=i.triggers.split("|");for(e in s){var o=s[e].split(",",4);if(!(o.length<2)){var n={};o[0]&&(n.events=o[0]),o[1]&&(n.trigger=o[1]),o[2]&&(n.target=o[2]),o[3]&&(n.data=o[3]),this.bindTrigger(t.extend({},i,n))}}}},e.prototype.bindTrigger=function(e){var i=this;i.$.on(e.events,e.selector,function(s){var o=e.target&&"self"!=e.target?t(e.target):i.$,n={event:s,element:this,target:o,options:e};if(t.zui.callEvent(e.before,n,i)){if(t.isFunction(e.trigger))t.zui.callEvent(e.trigger,n,i);else{var a=e.trigger;"toggle"===a&&(a=o.hasClass("hide")?"show":"hide");var r;switch(a){case"toggle":o.toggle();break;case"show":r={duration:e.animateSpeed,easing:e.easing},o.removeClass("hide"),"slide"===e.animate?o.slideDown(r):"fade"===e.animate?o.fadeIn(r):o.show(r);break;case"hide":r={duration:e.animateSpeed,easing:e.easing,complete:function(){o.addClass("hide")}},"slide"===e.animate?o.slideUp(r):"fade"===e.animate?o.fadeOut(r):o.hide(r);break;case"addClass":case"removeClass":case"toggleClass":o[a](e.data)}}t.zui.callEvent(e.after,n,i),e.preventDefault&&s.preventDefault(),e.cancelBubble&&s.stopPropagation()}})},t.fn.autoTrigger=function(i){return this.each(function(){var s=t(this),o=s.data("zui.autoTrigger"),n="object"==typeof i&&i;o||s.data("zui.autoTrigger",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.autoTrigger.Constructor=e,t(function(){t('[data-toggle="autoTrigger"]').autoTrigger(),t('[data-toggle="toggle"]').autoTrigger(),t('[data-toggle="show"]').autoTrigger({trigger:"show"}),t('[data-toggle="hide"]').autoTrigger({trigger:"hide"}),t('[data-toggle="addClass"]').autoTrigger({trigger:"addClass"}),t('[data-toggle="removeClass"]').autoTrigger({trigger:"removeClass"}),t('[data-toggle="toggleClass"]').autoTrigger({trigger:"toggleClass"})})}(jQuery),function(){var t,e,i,s,o,n={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={zh_cn:{no_results_text:"没有找到"},zh_tw:{no_results_text:"沒有找到"},en:{no_results_text:"No results match"}};s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},e.prototype.add_group=function(e){var i,s,o,n,a,r;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled,title:e.title,search_keys:t.trim(e.getAttribute("data-keys")||"").replace(/,/g," ")}),a=e.childNodes,r=[],o=0,n=a.length;n>o;o++)s=a[o],r.push(this.add_option(s,i,e.disabled));return r},e.prototype.add_option=function(e,i,s){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=i&&(this.parsed[i].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,title:e.title,html:e.innerHTML,selected:e.selected,disabled:s===!0?s:e.disabled,group_array_index:i,classes:e.className,style:e.style.cssText,search_keys:t.trim(e.getAttribute("data-keys")||"").replace(/,/," ")})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},e}(),s.select_to_array=function(t){var e,i,o,n,a;for(i=new s,a=t.childNodes,o=0,n=a.length;n>o;o++)e=a[o],i.add_node(e);return i.parsed},e=function(){function e(i,s){this.form_field=i,this.options=null!=s?s:{},e.browser_is_supported()&&(this.lang=r[this.options.lang||(t.zui.clientLang?t.zui.clientLang():"zh_cn")],this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.drop_direction=this.options.drop_direction||"auto",this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||this.lang.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(t){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(t){var e,i,s,o,n;for(e="",n=this.results_data,s=0,o=n.length;o>s;s++)i=n[s],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},e.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.title=t.title,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},e.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.title=t.title,e.innerHTML=t.search_text,this.outerHTML(e)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var t,e,i,s,o;for(s=this.results_data,o=[],e=0,i=s.length;i>e;e++)t=s[e],t.selected?o.push(t.selected=!1):o.push(void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var t,e,i,s,o,n,a,r,l,h,c,d,u;for(this.no_results_clear(),o=0,a=this.get_search_text(),t=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+t,"i"),h=new RegExp(t,"i"),u=this.results_data,c=0,d=u.length;d>c;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(o+=1),n.active_options+=1),e.group&&!this.group_search||(e.search_text=e.group?e.label:e.html,e.search_keys_match=this.search_string_match(e.search_keys,i),e.search_text_match=this.search_string_match(e.search_text,i),e.search_match=e.search_text_match||e.search_keys_match,e.search_match&&!e.group&&(o+=1),e.search_match?(e.search_text_match&&e.search_text.length?(r=e.search_text.search(h),l=e.search_text.substr(0,r+a.length)+"</em>"+e.search_text.substr(r+a.length),e.search_text=l.substr(0,r)+"<em>"+l.substr(r)):e.search_keys_match&&e.search_keys.length&&(r=e.search_keys.search(h),l=e.search_keys.substr(0,r+a.length)+"</em>"+e.search_keys.substr(r+a.length),e.search_text+='&nbsp; <small style="opacity: 0.7">'+l.substr(0,r)+"<em>"+l.substr(r)+"</small>"),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>o&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(t,e){var i,s,o,n;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(o=0,n=s.length;n>o;o++)if(i=s[o],e.test(i))return!0},e.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;i>e;e++)t=s[e],t.selected&&""!=t.value&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:!t.empty},e.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},e.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},e.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},e.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent)},e.default_multiple_text="",e.default_single_text="",e.default_no_result_text="No results match",e}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var o,n;o=t(this),n=o.data("chosen"),"destroy"===s&&n?n.destroy():n||o.data("chosen",new i(this,s))}):this}}),i=function(e){function i(){return o=i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl");var s=this.form_field.getAttribute("data-css-class");return s&&e.push(s),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.options.drop_width&&this.dropdown.css("width",this.options.drop_width).addClass("chosen-drop-size-limited"),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e);
}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(t){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,o,n;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),o=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=o)return this.search_results.scrollTop(e-s>0?e-s:0);if(n>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results();var e=this.drop_direction;if("auto"===e){var i=this.container.find(".chosen-drop"),s=this.container.offset();s.top+i.outerHeight()+30>t(window).height()+t(window).scrollTop()&&(e="up")}return this.container.toggleClass("chosen-up","up"===e),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,s,o=this;return i=t("<li />",{"class":"search-choice"}).html("<span title='"+e.html+"'>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return o.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").attr("title",t).text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,o,n,a,r,l,h;if(this.is_multiple){for(s=0,r=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,h=a.length;h>l;l++)o=a[l],n+=o+":"+this.search_field.css(o)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),+function(t){"use strict";var e=function(i,s){this.$=t(i),this.options=this.getOptions(s),this.lang=e.LANGS[this.options.lang],this.id="chosen-icons-"+parseInt(1e10*Math.random()+1),this.init()};e.DEFAULTS={optional:!0,lang:"zh_cn",icons:{common:["heart","user","group","list-ul","th","th-large","star","star-empty","search","envelope","dashboard","sitemap","umbrella","lightbulb","envelope-alt","cog","ok","remove","home","time","flag","flag-alt","flag-checkered","qrcode","tag","tags","book","bookmark","bookmark-empty","print","camera","picture","globe","map-marker","edit","edit-sign","play","stop","plus-sign","minus-sign","remove-sign","ok-sign","check-sign","question-sign","info-sign","exclamation-sign","plus","plus-sign","minus","minus-sign","asterisk","calendar","calendar-empty","comment","comment-alt","comments","comments-alt","folder-close","folder-open","folder-close-alt","folder-open-alt","thumbs-up","thumbs-down","pushpin","building","phone","rss","rss-sign","bullhorn","bell","bell-alt","certificate","wrench","tasks","cloud","beaker","magic","smile","frown","meh","code","location-arrow"],web:["share","pencil","trash","file-alt","file","file-text","download-alt","upload-alt","inbox","repeat","refresh","lock","check","check-empty","eye-open","eye-close","key","signin","signout","external-link","external-link-sign","link","reorder","quote-left","quote-right","spinner","reply","question","info","archive","collapse","collapse-top"],editor:["table","copy","save","list-ol","paste","keyboard","paper-clip","crop","unlink","sort-by-alphabet","sort-by-alphabet-alt","sort-by-attributes","sort-by-attributes-alt","sort-by-order","sort-by-order-alt"],directional:["chevron-left","chevron-right","chevron-down","chevron-up","arrow-left","arrow-right","arrow-down","arrow-up","hand-right","hand-left","hand-up","hand-down","circle-arrow-left","circle-arrow-right","circle-arrow-up","circle-arrow-down","double-angle-left","double-angle-right","double-angle-down","double-angle-up","angle-left","angle-right","angle-down","angle-up","long-arrow-left","long-arrow-right","long-arrow-down","long-arrow-up","caret-left","caret-right","caret-down","caret-up"],other:["desktop","laptop","tablet","mobile","building","firefox","ie","opera","qq","lemon","sign-blank","circle","circle-blank","terminal","html5","android","apple","windows","weibo","wechat","renren","bug","moon","sun"]}},e.LANGS={},e.LANGS.zh_cn={emptyIcon:"[没有图标]",commonIcons:"常用图标",webIcons:"Web 图标",editorIcons:"编辑器图标",directionalIcons:"箭头总汇",otherIcons:"其他图标"},e.LANGS.en={emptyIcon:"[No Icon]",commonIcons:"Common Icons",webIcons:"Web Icons",editorIcons:"Editor Icons",directionalIcons:"Directional Icons",otherIcons:"Other Icons"},e.LANGS.zh_tw={emptyIcon:"[沒有圖標]",commonIcons:"常用圖標",webIcons:"Web 圖標",editorIcons:"編輯器圖標",directionalIcons:"箭頭總匯",otherIcons:"其他圖標"},e.prototype.getOptions=function(i){return i=t.extend(!0,{placeholder_text:" ",disable_search:!0,width:"100%",inherit_select_classes:!0},e.DEFAULTS,this.$.data(),i)},e.prototype.init=function(){var e=this,i=this.$.addClass("chosen-icons").addClass(this.id).removeClass("form-control");i.empty(),this.options.optional&&i.append(this.getOptionHtml());var s=this.lang,o=[];t.each(this.options.icons,function(t,i){o.push(e.getgroupHtml(t,i))}),i.append(o.join("")),i.chosen(this.options);var n=".chosen-container."+this.id;i.on("chosen:showing_dropdown",function(){t(n+" .chosen-results .group-option").each(function(){var e=t(this).addClass("icon"),i=t(this).text();e.html('<i class="icon-'+i+'" title="'+i+'"></i>')})}).change(function(){var e=t(n+" .chosen-single > span"),i=t(this).val();i&&i.length>0?e.html('<i class="'+i+'"></i> &nbsp; <span class="text-muted">'+i.substr(5).replace(/-/g," ")+"</span>"):e.html('<span class="text-muted">'+s.emptyIcon+"</span>")});var a=i.data("value");a&&i.val(a).change()},e.prototype.getgroupHtml=function(e,i){i=i||this.options.icons[e];var s=[],o=this;return t.each(i,function(t,e){s.push(o.getOptionHtml(e))}),'<optgroup label="'+this.lang[e+"Icons"]+'">'+s.join("")+"</optgroup>"},e.prototype.getOptionHtml=function(t){var e=t;return t&&t.length>0?t="icon-"+t:(t="",e=this.lang.emptyIcon),'<option value="'+t+'">'+e+"</option>"},t.fn.chosenIcons=function(i){return this.each(function(){var s=t(this),o=s.data("zui.chosenIcons"),n="object"==typeof i&&i;o||s.data("zui.chosenIcons",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.chosenIcons.Constructor=e}(jQuery),function(t){"use strict";var e=0,i=["primary","red","yellow","green","blue","purple","brown","dark"],s={primary:"#3280fc",secondary:"#145ccd",pale:"#ebf2f9",fore:"#353535",back:"#fff",grayDarker:"#222222",grayDark:"#333333",gray:"#808080",grayLight:"#dddddd",grayLighter:"#e5e5e5",grayPale:"#f1f1f1",white:"#fff",black:"#000",red:"#ea644a",yellow:"#f1a325",green:"#38b03f",blue:"#03b8cf",purple:"#8666b8",brown:"#bd7b46",greenPale:"#ddf4df",yellowPale:"#fff0d5",redPale:"#ffe5e0",bluePale:"#ddf3f5",brownPale:"#f7ebe1",purplePale:"#f5eeff",light:"#fff",dark:"#353535",success:"#38b03f",warning:"#f1a325",danger:"#ea644a",info:"#03b8cf",important:"#bd7b46",special:"#8666b8",successPale:"#ddf4df",warningPale:"#fff0d5",dangerPale:"#ffe5e0",infoPale:"#ddf3f5",importantPale:"#f7ebe1",specialPale:"#f5eeff"};s.get=function(o){return"undefined"!=typeof o&&"random"!==o||(o=i[e++%i.length]),new t.zui.Color(s[o]?s[o]:o)},t.zui({colorset:s}),t.zui.Color&&t.extend(t.zui.Color,s)}(jQuery),function(t){"use strict";var e=t&&t.zui?t.zui:this,i=(e.Chart,function(t){this.canvas=t.canvas,this.ctx=t;var e=function(t,e){return t["offset"+e]?t["offset"+e]:document.defaultView.getComputedStyle(t).getPropertyValue(e)},i=this.width=e(t.canvas,"Width"),o=this.height=e(t.canvas,"Height");t.canvas.width=i,t.canvas.height=o;var i=this.width=t.canvas.width,o=this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this});i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var s=i.helpers={},o=s.each=function(t,e,i){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var o;for(o=0;o<t.length;o++)e.apply(i,[t[o],o].concat(s))}else for(var n in t)e.apply(i,[t[n],n].concat(s))},n=s.clone=function(t){var e={};return o(t,function(i,s){t.hasOwnProperty(s)&&(e[s]=i)}),e},a=s.extend=function(t){return o(Array.prototype.slice.call(arguments,1),function(e){o(e,function(i,s){e.hasOwnProperty(s)&&(t[s]=i)})}),t},r=s.merge=function(t,e){var i=Array.prototype.slice.call(arguments,0);return i.unshift({}),a.apply(null,i)},l=s.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},h=(s.where=function(t,e){var i=[];return s.each(t,function(t){e(t)&&i.push(t)}),i},s.findNextWhere=function(t,e,i){i||(i=-1);for(var s=i+1;s<t.length;s++){var o=t[s];if(e(o))return o}},s.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var s=i-1;s>=0;s--){var o=t[s];if(e(o))return o}},s.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},s=function(){this.constructor=i};return s.prototype=e.prototype,i.prototype=new s,i.extend=h,t&&a(i.prototype,t),i.__super__=e.prototype,i}),c=s.noop=function(){},d=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),u=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},v=s.min=function(t){return Math.min.apply(Math,t)},m=(s.cap=function(t,e,i){if(f(e)){if(t>e)return e}else if(f(i)&&i>t)return i;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),b=s.radians=function(t){return t*(Math.PI/180)},y=(s.getAngleFromPoint=function(t,e){var i=e.x-t.x,s=e.y-t.y,o=Math.sqrt(i*i+s*s),n=2*Math.PI+Math.atan2(s,i);return 0>i&&0>s&&(n+=2*Math.PI),{angle:n,distance:o}},s.aliasPixel=function(t){return t%2===0?0:.5}),w=(s.splineCurve=function(t,e,i,s){var o=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),n=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),a=s*o/(o+n),r=s*n/(o+n);return{inner:{x:e.x-a*(i.x-t.x),y:e.y-a*(i.y-t.y)},outer:{x:e.x+r*(i.x-t.x),y:e.y+r*(i.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),_=(s.calculateScaleRange=function(t,e,i,s,o){var n=2,a=Math.floor(e/(1.5*i)),r=n>=a,l=g(t),h=v(t);l===h&&(l+=.5,h>=.5&&!s?h-=.5:l+=.5);for(var c=Math.abs(l-h),d=w(c),u=Math.ceil(l/(1*Math.pow(10,d)))*Math.pow(10,d),p=s?0:Math.floor(h/(1*Math.pow(10,d)))*Math.pow(10,d),f=u-p,m=Math.pow(10,d),b=Math.round(f/m);(b>a||a>2*b)&&!r;)if(b>a)m*=2,b=Math.round(f/m),b%1!==0&&(r=!0);else if(o&&d>=0){if(m/2%1!==0)break;m/=2,b=Math.round(f/m)}else m/=2,b=Math.round(f/m);return r&&(b=n,m=f/b),{steps:b,stepValue:m,min:p,max:p+b*m}},s.template=function(t,e){function i(t,e){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return e?i(e):i}if(t instanceof Function)return t(e);var s={};return i(t,e)}),x=(s.generateLabels=function(t,e,i,s){var n=new Array(e);return labelTemplateString&&o(n,function(e,o){n[o]=_(t,{value:i+s*(o+1)})}),n},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),s<Math.abs(1)?(s=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),s<Math.abs(1)?(s=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:2==(t/=.5)?1:(i||(i=1*(.3*1.5)),s<Math.abs(1)?(s=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/s),1>t?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):s*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-x.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*x.easeInBounce(2*t):.5*x.easeOutBounce(2*t-1)+.5}}),C=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),k=s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),S=(s.animationLoop=function(t,e,i,s,o,n){var a=0,r=x[i]||x.linear,l=function(){a++;var i=a/e,h=r(i);t.call(n,h,i,a),s.call(n,h,i),e>a?n.animationFrame=C(l):o.apply(n)};C(l)},s.getRelativePosition=function(t){var e,i,s=t.originalEvent||t,o=t.currentTarget||t.srcElement,n=o.getBoundingClientRect();return s.touches?(e=s.touches[0].clientX-n.left,i=s.touches[0].clientY-n.top):(e=s.clientX-n.left,i=s.clientY-n.top),{x:e,y:i}},s.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),T=s.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},$=(s.bindEvents=function(t,e,i){t.events||(t.events={}),o(e,function(e){t.events[e]=function(){i.apply(t,arguments)},S(t.chart.canvas,e,t.events[e])})},s.unbindEvents=function(t,e){o(e,function(e,i){T(t.chart.canvas,i,e)})}),E=s.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},z=s.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},P=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=s+"px",e.canvas.height=s*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),L=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},D=s.fontString=function(t,e,i){return e+" "+t+"px "+i},A=s.longestText=function(t,e,i){t.font=e;var s=0;return o(i,function(e){var i=t.measureText(e).width;s=i>s?i:s}),s},M=s.drawRoundedRectangle=function(t,e,i,s,o,n){t.beginPath(),t.moveTo(e+n,i),t.lineTo(e+s-n,i),t.quadraticCurveTo(e+s,i,e+s,i+n),t.lineTo(e+s,i+o-n),t.quadraticCurveTo(e+s,i+o,e+s-n,i+o),t.lineTo(e+n,i+o),t.quadraticCurveTo(e,i+o,e,i+o-n),t.lineTo(e,i+n),t.quadraticCurveTo(e,i,e+n,i),t.closePath()};i.instances={},i.Type=function(t,e,s){this.options=e,this.chart=s,this.id=d(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(i.Type.prototype,{initialize:function(){return this},clear:function(){return L(this.chart),this},stop:function(){return k(this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=E(this.chart.canvas),s=this.options.maintainAspectRatio?i/this.chart.aspectRatio:z(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=s,P(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return _(this.options.legendTemplate,this)},destroy:function(){this.clear(),$(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var n=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(o(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(n||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,h=this.datasets.length-1;h>=0&&(a=this.datasets[h].points||this.datasets[h].bars||this.datasets[h].segments,r=l(a,t[0]),-1===r);h--);var c=[],d=[],u=function(t){var e,i,o,n,a,l=[],h=[],u=[];return s.each(this.datasets,function(t){t.showTooltips!==!1&&(e=t.points||t.bars||t.segments,e[r]&&e[r].hasValue()&&l.push(e[r]))}),s.each(l,function(t){h.push(t.x),u.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),d.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),a=v(u),o=g(u),n=v(h),i=g(h),{x:n>this.chart.width/2?n:i,y:(a+o)/2}}.call(this,r);new i.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,
fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else o(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:_(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,s=function(){return e.apply(this,arguments)};if(s.prototype=n(e.prototype),a(s.prototype,t),s.extend=i.Type.extend,t.name||e.prototype.name){var o=t.name||e.prototype.name,l=i.defaults[e.prototype.name]?n(i.defaults[e.prototype.name]):{};i.defaults[o]=a(l,t.defaults),i.types[o]=s,i.prototype[o]=function(t,e){var n=r(i.defaults.global,i.defaults[o],e||{});return new s(t,n,this)}}else u("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(i.Element.prototype,{initialize:function(){},restore:function(t){return t?o(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=n(this),delete this._saved._saved,this},update:function(t){return o(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return o(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),i.Element.extend=h,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=s.getAngleFromPoint(this,{x:t,y:e}),o=i.angle>=this.startAngle&&i.angle<=this.endAngle,n=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return o&&n},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,s=this.x+e,o=this.base-(this.base-this.y),n=this.strokeWidth/2;this.showStroke&&(i+=n,s-=n,o+=n),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,o),t.lineTo(s,o),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,i=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,o=s+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-o<0&&(this.yAlign="below");var n=this.x-i/2,a=this.y-o;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":n=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":n=this.x-(this.cornerRadius+this.caretHeight)}M(t,n,a,i,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,n+i/2,a+s/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=D(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=A(this.ctx,this.font,this.labels)+this.fontSize+3,i=g([e,t]);this.width=i+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{M(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=m(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(_(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?A(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var o,n=A(this.ctx,this.font,this.xLabels);this.xLabelWidth=n;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)o=Math.cos(b(this.xLabelRotation)),t=o*i,e=o*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=o*n;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*n+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=i/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);if(this.display){t.fillStyle=this.textColor,t.font=this.font;var n=this.showBeyondLine?5:0;o(this.yLabels,function(o,a){var r=this.endPoint-e*a,l=Math.round(r),h=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(o,i-10,r),0!==a||h||(h=!0),h&&t.beginPath(),a>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),l+=s.aliasPixel(t.lineWidth),h&&(t.moveTo(i,l),t.lineTo(this.width,l),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-n,l),t.lineTo(i,l),t.stroke(),t.closePath()},this),o(this.xLabels,function(e,i){var s=this.calculateX(i)+y(this.lineWidth),o=this.calculateX(i-(this.offsetGridLines?.5:0))+y(this.lineWidth),a=this.xLabelRotation>0,r=this.showVerticalLines;0!==i||r||(r=!0),r&&t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r&&(t.moveTo(o,this.endPoint),t.lineTo(o,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(o,this.endPoint),t.lineTo(o,this.endPoint+n),t.stroke(),t.closePath(),t.save(),t.translate(s,a?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=a?"right":"center",t.textBaseline=a?"middle":"top",t.fillText(e,0,0),t.restore()},this)}}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=m(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(_(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,s,o,n,a,r,l,h,c,d,u=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,u),i=this.ctx.measureText(_(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(s=i/2,t.x+s>p&&(p=t.x+s,o=e),t.x-s<g&&(g=t.x-s,a=e)):e<this.valuesCount/2?t.x+i>p&&(p=t.x+i,o=e):e>this.valuesCount/2&&t.x-i<g&&(g=t.x-i,a=e);l=g,h=Math.ceil(p-this.width),n=this.getIndexAngle(o),r=this.getIndexAngle(a),c=h/Math.sin(n+Math.PI/2),d=l/Math.sin(r+Math.PI/2),c=f(c)?c:0,d=f(d)?d:0,this.drawingArea=u-(d+c)/2,this.setCenterPoint(d,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(o(this.yLabels,function(e,i){if(i>0){var s,o=i*(this.drawingArea/this.steps),n=this.yCenter-o;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,n-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,n)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var s=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var n=this.labels.length,a=this.labels.length/2,r=a/2,l=r>e||e>n-r,h=e===r||e===n-r;0===e?t.textAlign="center":e===a?t.textAlign="center":a>e?t.textAlign="left":t.textAlign="right",h?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[e],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){o(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),e.Chart=i,t.fn.chart=function(){var t=[];return this.each(function(){t.push(new i(this.getContext("2d")))}),1===t.length?t[0]:t}}.call(this,jQuery),function(t){"use strict";var e=t&&t.zui?t.zui:this,i=e.Chart,s=i.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowBeyondLine:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:o,initialize:function(e){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&s.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),s.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),s.each(e.datasets,function(i){if(t.zui&&t.zui.Color&&t.zui.Color.get){var o=t.zui.Color.get(i.color),n=o.toCssStr();i.fillColor||(i.fillColor=o.clone().fade(20).toCssStr()),i.strokeColor||(i.strokeColor=n),i.pointColor||(i.pointColor=n),i.pointStrokeColor||(i.pointStrokeColor="#fff"),i.pointHighlightFill||(i.pointHighlightFill="#fff"),i.pointHighlightStroke||(i.pointHighlightStroke=n)}var a={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,showTooltips:i.showTooltips!==!1,points:[]};this.datasets.push(a),s.each(i.data,function(t,s){a.points.push(new this.PointClass({value:t,label:e.labels[s],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(t,e){s.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),s.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){s.each(this.datasets,function(e){s.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],i=s.getRelativePosition(t);return s.each(this.datasets,function(t){s.each(t.points,function(t){t.inRange(i.x,i.y)&&e.push(t)})},this),e},buildScale:function(t){var e=this,o=function(){var t=[];return e.eachPoints(function(e){t.push(e.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=s.calculateScaleRange(o(),t,this.fontSize,this.beginAtZero,this.integersOnly);s.extend(this,e)},xLabels:t,font:s.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,showBeyondLine:this.options.scaleShowBeyondLine,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&s.extend(n,{calculateYRange:s.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(n)},addData:function(t,e){s.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),s.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=s.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var i=this.chart.ctx,o=function(t){return null!==t.value},n=function(t,e,i){return s.findNextWhere(e,o,i)||t},a=function(t,e,i){return s.findPreviousWhere(e,o,i)||t};this.scale.draw(e),s.each(this.datasets,function(t){var r=s.where(t.points,o);s.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&s.each(r,function(t,e){var i=e>0&&e<r.length-1?this.options.bezierCurveTension:0;t.controlPoints=s.splineCurve(a(t,r,e),t,n(t,r,e),i),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=t.strokeColor,i.beginPath(),s.each(r,function(t,e){if(0===e)i.moveTo(t.x,t.y);else if(this.options.bezierCurve){var s=a(t,r,e);i.bezierCurveTo(s.controlPoints.outer.x,s.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else i.lineTo(t.x,t.y)},this),i.stroke(),this.options.datasetFill&&r.length>0&&(i.lineTo(r[r.length-1].x,this.scale.endPoint),i.lineTo(r[0].x,this.scale.endPoint),i.fillStyle=t.fillColor,i.closePath(),i.fill()),s.each(r,function(t){t.draw()})},this)}}),t.fn.lineChart=function(e,s){var o=[];return this.each(function(){var n=t(this);o.push(new i(this.getContext("2d")).Line(e,t.extend(n.data(),s)))}),1===o.length?o[0]:o}}.call(this,jQuery),function(t){"use strict";var e=t&&t.zui?t.zui:this,i=e.Chart,s=i.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:1,percentageInnerCutout:50,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleLabelPlacement:"auto",animationSteps:60,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:o,initialize:function(t){this.segments=[],this.outerRadius=(s.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&s.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];s.each(this.segments,function(t){t.restore(["fillColor"])}),s.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),s.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],i=s.getRelativePosition(t);return s.each(this.segments,function(t){t.inRange(i.x,i.y)&&e.push(t)},this),e},addData:function(e,i,s){if(t.zui&&t.zui.Color&&t.zui.Color.get){var o=new t.zui.Color.get(e.color);e.color=o.toCssStr(),e.highlight||(e.highlight=o.lighten(5).toCssStr())}var n=i||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({id:"undefined"==typeof e.id?n:e.id,value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),showLabel:e.showLabel!==!1,label:e.label})),s||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(Math.abs(t)/this.total)},calculateTotal:function(t){this.total=0,s.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),s.each(this.activeElements,function(t){t.restore(["fillColor"])}),s.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=s.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){s.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(s.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,s.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},drawLabel:function(e,i,o){var n=this.options,a=(e.endAngle+e.startAngle)/2,r=n.scaleLabelPlacement;"inside"!==r&&"outside"!==r&&this.chart.width-this.chart.height>50&&e.circumference<Math.PI/36&&(r="outside");var l=Math.cos(a)*e.outerRadius,h=Math.sin(a)*e.outerRadius,c=s.template(n.scaleLabel,{value:"undefined"==typeof i?e.value:Math.round(i*e.value),label:e.label}),d=this.chart.ctx;d.font=s.fontString(n.scaleFontSize,n.scaleFontStyle,n.scaleFontFamily),d.textBaseline="middle",d.textAlign="center";var u=(d.measureText(c).width,this.chart.width/2),p=this.chart.height/2;if("outside"===r){var f=l>=0,g=l+u,v=h+p;d.textAlign=f?"left":"right",d.measureText(c).width,l=f?Math.max(u+e.outerRadius+10,l+30+u):Math.min(u-e.outerRadius-10,l-30+u);var m=n.scaleFontSize,b=Math.round((.8*h+p)/m)+1,y=Math.floor(this.chart.width/m)+1;for(o[f?b:-b]&&(b>1?b--:b++);o[f?b:-b]&&y>b;)b++;if(o[f?b:-b])return;h=(b-1)*m+n.scaleFontSize/2,o[b]=!0,d.beginPath(),d.moveTo(g,v),d.lineTo(l,h),l=f?l+5:l-5,d.lineTo(l,h),d.strokeStyle=t.zui&&t.zui.Color?new t.zui.Color(e.fillColor).fade(40).toCssStr():e.fillColor,d.strokeWidth=n.scaleLineWidth,d.stroke(),d.fillStyle=e.fillColor}else l=.6*l+u,h=.6*h+p,d.fillStyle=t.zui&&t.zui.Color?new t.zui.Color(e.fillColor).contrast().toCssStr():"#fff";d.fillText(c,l,h)},draw:function(t){var e=t?t:1;this.clear();var i;s.each(this.segments,function(s,o){s.transition({circumference:this.calculateCircumference(s.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),s.endAngle=s.startAngle+s.circumference,s.draw(),0===o&&(s.startAngle=1.5*Math.PI),o<this.segments.length-1&&(this.segments[o+1].startAngle=s.endAngle),this.options.scaleShowLabels&&s.showLabel&&(i||(i={}),this.drawLabel(s,t,i))},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:s.merge(o,{percentageInnerCutout:0})}),t.fn.pieChart=function(e,s){var o=[];return this.each(function(){var n=t(this);o.push(new i(this.getContext("2d")).Pie(e,t.extend(n.data(),s)))}),1===o.length?o[0]:o},t.fn.doughnutChart=function(e,s){var o=[];return this.each(function(){var n=t(this);o.push(new i(this.getContext("2d")).Doughnut(e,t.extend(n.data(),s)))}),1===o.length?o[0]:o}}.call(this,jQuery),function(t){"use strict";var e=t&&t.zui?t.zui:this,i=e.Chart,s=i.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,scaleShowBeyondLine:!0,barShowStroke:!0,barStrokeWidth:1,scaleValuePlacement:"auto",barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:o,initialize:function(e){var o=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var s=this.calculateBaseWidth(),n=this.calculateX(i)-s/2,a=this.calculateBarWidth(t);return n+a*e+e*o.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*o.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&s.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),s.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),s.each(e.datasets,function(i,o){if(t.zui&&t.zui.Color&&t.zui.Color.get){var n=t.zui.Color.get(i.color),a=n.toCssStr();i.fillColor||(i.fillColor=n.clone().fade(50).toCssStr()),i.strokeColor||(i.strokeColor=a)}var r={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(r),s.each(i.data,function(t,s){r.bars.push(new this.BarClass({value:t,label:e.labels[s],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,i){s.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),s.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){s.each(this.datasets,function(e,i){s.each(e.bars,t,this,i)},this)},getBarsAtEvent:function(t){for(var e,i=[],o=s.getRelativePosition(t),n=function(t){i.push(t.bars[e])},a=0;a<this.datasets.length;a++)for(e=0;e<this.datasets[a].bars.length;e++)if(this.datasets[a].bars[e].inRange(o.x,o.y))return s.each(this.datasets,n),i;return i},buildScale:function(t){var e=this,i=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=s.calculateScaleRange(i(),t,this.fontSize,this.beginAtZero,this.integersOnly);s.extend(this,e)},xLabels:t,font:s.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,showBeyondLine:this.options.scaleShowBeyondLine,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&s.extend(o,{calculateYRange:s.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(o)},addData:function(t,e){s.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),s.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){s.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=s.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},drawLabel:function(t,e){var i=this.options;e=e||i.scaleValuePlacement,e=e?e.toLowerCase():"auto","auto"===e&&(e=t.y<15?"insdie":"outside");var o="insdie"===e?t.y+10:t.y-10,n=this.chart.ctx;n.font=s.fontString(i.scaleFontSize,i.scaleFontStyle,i.scaleFontFamily),
n.textBaseline="middle",n.textAlign="center",n.fillStyle=i.scaleFontColor,n.fillText(t.value,t.x,o)},draw:function(t){var e=t||1;this.clear();this.chart.ctx;this.scale.draw(e);var i=this.options.scaleShowLabels&&this.options.scaleValuePlacement;s.each(this.datasets,function(t,o){s.each(t.bars,function(t,s){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,o,s),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw()),i&&this.drawLabel(t)},this)},this)}}),t.fn.barChart=function(e,s){var o=[];return this.each(function(){var n=t(this);o.push(new i(this.getContext("2d")).Bar(e,t.extend(n.data(),s)))}),1===o.length?o[0]:o}}.call(this,jQuery),function(t){"use strict";function e(e,i){if(e===!1)return e;if(!e)return i;e===!0?e={add:!0,"delete":!0,edit:!0,sort:!0}:"string"==typeof e&&(e=e.split(","));var s;return t.isArray(e)&&(s={},t.each(e,function(e,i){t.isPlainObject(i)?s[i.action]=i:s[i]=!0}),e=s),t.isPlainObject(e)&&(s={},t.each(e,function(e,i){i?s[e]=t.extend({type:e},a[e],t.isPlainObject(i)?i:null):s[e]=!1}),e=s),i?t.extend(!0,{},i,e):e}function i(e,i,s){return i=i||e.type,t(s||e.template).addClass("tree-action").attr(t.extend({"data-type":i,title:e.title||""},e.attr)).data("action",e)}var s="zui.tree",o=0,n=function(e,i){this.name=s,this.$=t(e),this.getOptions(i),this._init()},a={sort:{template:'<a class="sort-handler" href="javascript:;"><i class="icon icon-move"></i></a>'},add:{template:'<a href="javascript:;"><i class="icon icon-plus"></i></a>'},edit:{template:'<a href="javascript:;"><i class="icon icon-pencil"></i></a>'},"delete":{template:'<a href="javascript:;"><i class="icon icon-trash"></i></a>'}};n.DEFAULTS={animate:null,initialState:"normal",toggleTemplate:'<i class="list-toggle icon"></i>'},n.prototype.add=function(e,i,s,o,n){var a,r=t(e),l=this.options;if(r.is("li")?(a=r.children("ul"),a.length||(a=t("<ul/>"),r.append(a),this._initList(a,r))):a=r,a){var h=this;t.isArray(i)||(i=[i]),t.each(i,function(e,i){var s=t("<li/>").data(i).appendTo(a),o=l.itemWrapper?t('<div class="tree-item-wrapper"/>').appendTo(s):s;if(i.html)o.html(i.html);else if(t.isFunction(h.options.itemCreator)){var n=h.options.itemCreator(o,i);n!==!0&&o.html(n)}else o.append(t("<a/>",{href:i.url||"#"}).text(i.title||i.name));h._initItem(s,i.idx||e,a,i),i.children&&i.children.length&&h.add(s,i.children)}),this._initList(a),s&&!a.hasClass("tree")&&h.expand(a.parent("li"),o,n)}},n.prototype.reload=function(e){var i=this;e&&(i.$.empty(),i.add(i.$,e)),i.isPreserve&&i.store.time&&i.$.find("li:not(.tree-action-item)").each(function(){var e=t(this);i[i.store[e.data("id")]?"expand":"collapse"](e,!0,!0)})},n.prototype._initList=function(s,o,n,a){var r=this;s.hasClass("tree")?(n=0,o=null):(o=(o||s.closest("li")).addClass("has-list"),o.find(".list-toggle").length||o.prepend(this.options.toggleTemplate),n=n||o.data("idx")),s.attr("data-idx",n||0).children("li:not(.tree-action-item)").each(function(e){r._initItem(t(this),e+1,s)}),a=a||(o?o.data():null);var l=e(a?a.actions:null,this.actions);if(l){if(l.add&&l.add.templateInList!==!1){var h=s.children("li.tree-action-item");h.length?h.detach().appendTo(s):t('<li class="tree-action-item"/>').append(i(l.add,"add",l.add.templateInList)).appendTo(s)}l.sort&&s.sortable(t.extend({dragCssClass:"tree-drag-holder",trigger:".sort-handler",selector:"li:not(.tree-action-item)",finish:function(t){r.callEvent("action",{action:l.sort,$list:s,target:t.target,item:a})}},l.sort.options,t.isPlainObject(this.options.sortable)?this.options.sortable:null))}o&&(o.hasClass("open")||a&&a.open)&&o.addClass("open in")},n.prototype._initItem=function(s,o,n,a){if(void 0===o){var r=s.prev("li");o=r.length?r.data("idx")+1:1}if(n=n||s.closest("ul"),s.attr("data-idx",o),!s.data("id")){var l=o;n.hasClass("tree")||(l=n.parent("li").data("id")+"-"+l),s.attr("data-id",l)}a=a||s.data();var h=e(a.actions,this.actions);if(h){var c=s.find(".tree-actions");c.length||(c=t('<div class="tree-actions"/>').appendTo(this.options.itemWrapper?s.find(".tree-item-wrapper"):s),t.each(h,function(t,e){e&&c.append(i(e,t))}))}var d=s.children("ul");d.length&&this._initList(d,s,o,a)},n.prototype._init=function(){var i=this.options,n=this;this.actions=e(i.actions),this.$.addClass("tree"),i.animate&&this.$.addClass("tree-animate"),this._initList(this.$);var a=i.initialState,r=t.zui&&t.zui.store&&t.zui.store.enable;r&&(this.selector=s+"::"+(i.name||"")+"#"+(this.$.attr("id")||o++),this.store=t.zui.store[i.name?"get":"pageGet"](this.selector,{})),"preserve"===a&&(r?this.isPreserve=!0:this.options.initialState=a="normal"),this.reload(i.data),r&&(this.isPreserve=!0),"expand"===a?this.expand():"collapse"===a&&this.collapse(),this.$.on("click",".list-toggle, a[href=#], .tree-toggle",function(e){var i=t(this).parent("li");n.callEvent("hit",{target:i,item:i.data()}),n.toggle(i),e.preventDefault()}).on("click",".tree-action",function(){var e=t(this),i=e.data();if(i.action&&(i=i.action),"sort"!==i.type){var s=e.closest("li:not(.tree-action-item)");n.callEvent("action",{action:i,target:this,$item:s,item:s.data()})}})},n.prototype.preserve=function(e,i,s){if(this.isPreserve)if(e)i=i||e.data("id"),s=void 0===s?e.hasClass("open"):!1,s?this.store[i]=s:delete this.store[i],this.store.time=(new Date).getTime(),t.zui.store[this.options.name?"set":"pageSet"](this.selector,this.store);else{var o=this;this.store={},this.$.find("li").each(function(){o.preserve(t(this))})}},n.prototype.expand=function(t,e,i){t?(t.addClass("open"),!e&&this.options.animate?setTimeout(function(){t.addClass("in")},10):t.addClass("in")):t=this.$.find("li.has-list").addClass("open in"),i||this.preserve(t),this.callEvent("expand",t,this)},n.prototype.show=function(e,i,s){var o=this;e.each(function(){var e=t(this);if(o.expand(e,i,s),e)for(var n=e.parent("ul");n&&n.length&&!n.hasClass("tree");){var a=n.parent("li");a.length?(o.expand(a,i,s),n=a.parent("ul")):n=!1}})},n.prototype.collapse=function(t,e,i){t?!e&&this.options.animate?(t.removeClass("in"),setTimeout(function(){t.removeClass("open")},300)):t.removeClass("open in"):t=this.$.find("li.has-list").removeClass("open in"),i||this.preserve(t),this.callEvent("collapse",t,this)},n.prototype.toggle=function(t){var e=t&&t.hasClass("open")||t===!1||void 0===t&&this.$.find("li.has-list.open").length;this[e?"collapse":"expand"](t)},n.prototype.getOptions=function(e){this.options=t.extend({},n.DEFAULTS,this.$.data(),e),null===this.options.animate&&this.$.hasClass("tree-animate")&&(this.options.animate=!0)},n.prototype.toData=function(e,i){t.isFunction(e)&&(i=e,e=null),e=e||this.$;var s=this;return e.children("li:not(.tree-action-item)").map(function(){var e=t(this),o=e.data();delete o["zui.droppable"];var n=e.children("ul");return n.length&&(o.children=s.toData(n)),t.isFunction(i)?i(o,e):o}).get()},n.prototype.callEvent=function(e,i){var s;return t.isFunction(this.options[e])&&(s=this.options[e](i,this)),this.$.trigger(t.Event(e+"."+this.name,i)),s},t.fn.tree=function(e,i){return this.each(function(){var o=t(this),a=o.data(s),r="object"==typeof e&&e;a||o.data(s,a=new n(this,r)),"string"==typeof e&&a[e](i)})},t.fn.tree.Constructor=n,t(function(){t('[data-ride="tree"]').tree()})}(jQuery),function(t){"use strict";var e="zui.colorPicker",i='<div class="colorpicker"><button type="button" class="btn dropdown-toggle" data-toggle="dropdown"><span class="cp-title"></span><i class="icon"></i></button><ul class="dropdown-menu clearfix"></ul></div>',s={zh_cn:{errorTip:"不是有效的颜色值"},zh_tw:{errorTip:"不是有效的顏色值"},en:{errorTip:"Not a valid color value"}},o=function(i,s){this.name=e,this.$=t(i),this.getOptions(s),this.init()};o.DEFAULTS={colors:["#00BCD4","#388E3C","#3280fc","#3F51B5","#9C27B0","#795548","#F57C00","#F44336","#E91E63"],pullMenuRight:!0,wrapper:"btn-wrapper",tileSize:30,lineCount:5,optional:!0,tooltip:"top",icon:"caret-down"},o.prototype.init=function(){var e=this.options,s=this;this.$picker=t(i).addClass(e.wrapper),this.$picker.find(".cp-title").toggle(void 0!==e.title).text(e.title),this.$menu=this.$picker.find(".dropdown-menu").toggleClass("pull-right",e.pullMenuRight),this.$btn=this.$picker.find(".btn.dropdown-toggle"),this.$btn.find(".icon").addClass("icon-"+e.icon),e.btnTip&&this.$picker.attr("data-toggle","tooltip").tooltip({title:e.btnTip,placement:e.tooltip,container:"body"}),this.$.attr("data-provide",null).after(this.$picker),this.colors={},t.each(this.options.colors,function(e,i){if(t.zui.Color.isColor(i)){var o=new t.zui.Color(i);s.colors[o.toCssStr()]=o}}),this.updateColors();var s=this;this.$picker.on("click",".cp-tile",function(){s.setValue(t(this).data("color"))});var o=this.$,n=function(){var i=o.val(),n=t.zui.Color.isColor(i);o.parent().toggleClass("has-error",!(n||e.optional&&""===i)),n?s.setValue(i,!0):e.optional&&""===i?o.tooltip("hide"):o.tooltip("show",e.errorTip)};o.is("input:not([type=hidden])")?(e.tooltip&&o.attr("data-toggle","tooltip").tooltip({trigger:"manual",placement:e.tooltip,tipClass:"tooltip-danger"}),o.on("keyup paste input",n)):o.appendTo(this.$picker),n()},o.prototype.addColor=function(e){var i=e.toCssStr(),s=this.options;this.colors[i]||(this.colors[i]=e);var o=t('<a href="###" class="cp-tile"></a>',{titile:e}).data("color",e).css({color:e.contrast().toCssStr(),background:i,"border-color":e.luma()>.43?"#ccc":"transparent"}).attr("data-color",i);this.$menu.append(t("<li/>").css({width:s.tileSize,height:s.tileSize}).append(o)),s.optional&&this.$menu.find(".cp-tile.empty").parent().detach().appendTo(this.$menu)},o.prototype.updateColors=function(e){var i=(this.$picker,this.$menu.empty()),s=this.options,e=e||this.colors,o=this,n=0;if(t.each(e,function(t,e){o.addColor(e),n++}),s.optional){var a=t('<li><a class="cp-tile empty" href="###"></a></li>').css({width:s.tileSize,height:s.tileSize});this.$menu.append(a),n++}i.css("width",Math.min(n,s.lineCount)*s.tileSize+6)},o.prototype.setValue=function(e,i){var s=this.options;this.$menu.find(".cp-tile.active").removeClass("active");var o=null;if(e){var n=new t.zui.Color(e);o=n.toCssStr().toLowerCase(),this.$btn.css({background:o,color:n.contrast().toCssStr(),borderColor:n.luma()>.43?"#ccc":o}),this.colors[o]||this.addColor(n),i||this.$.val().toLowerCase()===o||this.$.val(o).trigger("change"),this.$menu.find(".cp-tile[data-color="+o+"]").addClass("active"),this.$.tooltip("hide"),this.$.trigger("colorchange",n)}else this.$btn.attr("style",null),i||""===this.$.val()||this.$.val(o).trigger("change"),s.optional&&this.$.tooltip("hide"),this.$menu.find(".cp-tile.empty").addClass("active"),this.$.trigger("colorchange",null);s.updateBorder&&t(s.updateBorder).css("border-color",o),s.updateBackground&&t(s.updateBackground).css("background-color",o),s.updateText&&t(s.updateText).css("color",o)},o.prototype.getOptions=function(e){var i=t.extend({},o.DEFAULTS,this.$.data(),e);"string"==typeof i.colors&&(i.colors=i.colors.split(","));var n=(i.lang||t.zui.clientLang()).toLowerCase();i.errorTip||(i.errorTip=s[n].errorTip),this.options=i},t.fn.colorPicker=function(i){return this.each(function(){var s=t(this),n=s.data(e),a="object"==typeof i&&i;n||s.data(e,n=new o(this,a)),"string"==typeof i&&n[i]()})},t.fn.colorPicker.Constructor=o,t(function(){t('[data-provide="colorpicker"]').colorPicker()})}(jQuery),function(t){"use strict";var e="zui.selectable",i=function(i,s){this.name=e,this.$=t(i),this.id=t.zui.uuid(),this.selectOrder=1,this.selections={},this.getOptions(s),this._init()},s=function(t,e,i){return t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height},o=function(t,e){var i=Math.max(t.left,e.left),o=Math.max(t.top,e.top),n=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);return s(i,o,t)&&s(n,a,t)&&s(i,o,e)&&s(n,a,e)};i.DEFAULTS={selector:"li,tr,div",trigger:"",selectClass:"active",rangeStyle:{border:"1px solid "+(t.zui.colorset?t.zui.colorset.primary:"#3280fc"),backgroundColor:t.zui.colorset?new t.zui.Color(t.zui.colorset.primary).fade(20).toCssStr():"rgba(50, 128, 252, 0.2)"},clickBehavior:"toggle"},i.prototype.getOptions=function(e){this.options=t.extend({},i.DEFAULTS,this.$.data(),e)},i.prototype.select=function(t){this.toggle(t,!0)},i.prototype.unselect=function(t){this.toggle(t,!1)},i.prototype.toggle=function(e,i,s){var o,n,a=this.options.selector,r=this;if(void 0===e)return void this.$.find(a).each(function(){r.toggle(this,i)});if("object"==typeof e?(o=t(e).closest(a),n=o.data("id")):(n=e,o=r.$.find('.slectable-item[data-id="'+n+'"]')),o&&o.length){if(n||(n=t.zui.uuid(),o.attr("data-id",n)),void 0!==i&&null!==i||(i=!r.selections[n]),!!i!=!!r.selections[n]){var l;t.isFunction(s)&&(l=s(i)),l!==!0&&(r.selections[n]=i?r.selectOrder++:!1,r.callEvent(i?"select":"unselect",{id:n,selections:r.selections,target:o},r))}o.toggleClass(r.options.selectClass,i)}},i.prototype._init=function(){var e,i,s,n,a,r,l,h=this.options,c=this,d="."+this.name+"."+this.id,u=t.isFunction(h.checkFunc)?h.checkFunc:null,p=t.isFunction(h.rangeFunc)?h.rangeFunc:null,f=function(){n&&c.$children.each(function(){var e=t(this),i=e.offset();i.width=e.outerWidth(),i.height=e.outerHeight();var s=p?p.call(this,n,i):o(n,i);if(u){var a=u.call(c,{intersect:s,target:e,range:n,targetRange:i});a===!0?c.select(e):a===!1&&c.unselect(e)}else s?c.select(e):c.multiKey||c.unselect(e)})},g=function(o){a=o.pageX,r=o.pageY,n={width:Math.abs(a-e),height:Math.abs(r-i),left:a>e?e:a,top:r>i?i:r},s||(s=t('.selectable-range[data-id="'+c.id+'"]'),s.length||(s=t('<div class="selectable-range" data-id="'+c.id+'"></div>').css(t.extend({zIndex:1060,position:"absolute",top:e,left:i,pointerEvents:"none"},c.options.rangeStyle)).appendTo(t("body")))),s.css(n),clearTimeout(l),l=setTimeout(f,10)},v=function(e){n&&(clearTimeout(l),f(),n=null),s&&s.remove(),c.callEvent("finish",{selections:c.selections}),t(document).off(d),e.preventDefault()},m=function(o){if(c.callEvent("start",o)!==!1){var n=c.$children=c.$.find(h.selector);n.addClass("slectable-item");var a=c.multiKey?"multi":h.clickBehavior;"multi"===a?c.toggle(o.target):"single"===a?(c.unselect(),c.select(o.target)):"toggle"===a&&c.toggle(o.target,null,function(t){c.unselect()}),e=o.pageX,i=o.pageY,s=null,t(document).on("mousemove"+d,g).on("mouseup"+d,v),o.preventDefault()}},b=h.container&&"default"!==h.container?t(h.container):this.$;h.trigger?b.on("mousedown"+d,h.trigger,m):b.on("mousedown"+d,m),t(document).on("keydown",function(t){var e=t.keyCode;17!==e&&91!=e||(c.multiKey=e)}).on("keyup",function(t){c.multiKey=!1})},i.prototype.callEvent=function(e,i){var s=t.Event(e+"."+this.name);this.$.trigger(s,i);var o=s.result,n=this.options[e];return t.isFunction(n)&&(o=n.apply(this,t.isArray(i)?i:[i])),o},t.fn.selectable=function(s){return this.each(function(){var o=t(this),n=o.data(e),a="object"==typeof s&&s;n||o.data(e,n=new i(this,a)),"string"==typeof s&&n[s]()})},t.fn.selectable.Constructor=i,t(function(){t('[data-ride="selectable"]').selectable()})}(jQuery);